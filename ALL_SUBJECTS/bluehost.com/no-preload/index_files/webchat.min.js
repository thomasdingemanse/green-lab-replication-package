/*!
 * widgets
 * @version: 9.0.017.18
 * @license: Genesys Telecom Labs
 */
widgetsJsonpFunction([0],{"./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less":function(e,t,a){t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,".cx-webchat{position:fixed;bottom:0;width:320px;z-index:999997}.cx-webchat .cx-body{padding:0;overflow:visible;position:relative}.cx-webchat .cx-parentDisable{opacity:.2}.cx-webchat .cx-spinner{display:none;z-index:2;position:relative;top:100%;left:45%}.cx-webchat .cx-history-loading{padding:16px}.cx-webchat .cx-history-loading .cx-loading-icon{width:26px;height:26px;top:14px;left:-16px}.cx-webchat i.fonticon.icon-alert-triangle{color:#f8a740;display:inline}.cx-webchat p.cx-reason{display:inline}.cx-webchat .cx-hidden-message{display:none}.cx-webchat.cx-minimized .cx-body,.cx-webchat.cx-minimized .cx-footer{display:none!important}.cx-webchat.cx-mobile.cx-minimized{height:auto!important}.cx-webchat.cx-mobile{top:inherit!important;right:inherit!important;bottom:0!important;left:0!important;height:100%!important;width:100%!important}.cx-webchat.cx-mobile .cx-form{border-width:0;border-style:none;padding:24px;overflow:hidden;-webkit-overflow-scrolling:touch}.cx-webchat.cx-mobile .cx-footer{display:none}@media screen and (min-device-width:360px) and (max-device-height:640px) and (-webkit-min-device-pixel-ratio:2) and (orientation:landscape),screen and (min-device-width:1200px){.cx-webchat.cx-mobile .cx-tooltip-menu{right:40px}}@-moz-document url-prefix(){@media screen and (min--moz-device-pixel-ratio:2) and (orientation:landscape){.cx-webchat.cx-mobile .cx-tooltip-menu{right:40px}}}.cx-webchat.cx-mobile .ie10up .cx-tooltip-menu,.cx-webchat.cx-mobile _:-ms-lang(x) .cx-tooltip-menu{right:40px}.cx-webchat.cx-mobile.cx-transcript-view .cx-footer{display:none!important}.cx-webchat.cx-theme-light .cx-message.cx-you .cx-bubble{background-color:#f2f4f7}.cx-webchat.cx-theme-light .cx-message.cx-them .cx-bubble{background-color:#ffc7b9}.cx-webchat.cx-theme-light .cx-message.cx-you .cx-bubble-arrow svg *{fill:#f2f4f7}.cx-webchat.cx-theme-light .cx-message.cx-them .cx-bubble-arrow svg *{fill:#ffc7b9}.cx-webchat.cx-theme-light .cx-time{color:#5c5c5b}.cx-webchat.cx-theme-light .cx-bubble-arrow svg{fill:#f2f4f7}.cx-webchat.cx-theme-light .cx-menu .cx-branding-icon svg *{fill:#8794ac}.cx-webchat.cx-theme-light .cx-input-container .cx-menu li .cx-char-count:focus,.cx-webchat.cx-theme-light .cx-input-container .cx-menu li .cx-icon:focus svg{border:1px solid #5292fc;border-width:2px}.cx-webchat.cx-theme-light .cx-input-container .cx-menu li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.cx-webchat.cx-theme-light .cx-carousel .cx-next,.cx-webchat.cx-theme-light .cx-carousel .cx-previous{border-color:#8795a6}.cx-webchat.cx-theme-light .cx-carousel .cx-next:focus,.cx-webchat.cx-theme-light .cx-carousel .cx-previous:focus{border-color:#5292fc}.cx-webchat.cx-theme-light .cx-menu li .cx-char-count{color:#75757b}.cx-webchat.cx-theme-light .cx-char-count.cx-warning{color:#ea0b2e!important}.cx-webchat.cx-theme-light .cx-emoji-item:hover{background-color:#dfdfdf}.cx-webchat.cx-theme-light .cx-emoji-item:active{background-color:#ccc}.cx-webchat.cx-theme-dark .cx-menu .cx-branding-icon svg *{fill:#98a7b8}.cx-webchat.cx-theme-dark .cx-char-count.cx-warning{color:#f9768c!important}.cx-webchat.cx-theme-dark .cx-transcript .cx-filename,.cx-webchat.cx-theme-dark .cx-transcript .cx-filesize,.cx-webchat.cx-theme-dark .cx-transcript .cx-message-text,.cx-webchat.cx-theme-dark .cx-transcript .cx-name{color:#fdfdfd!important}.cx-webchat.cx-theme-dark .cx-transcript .cx-message{border-color:#222529}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-you .cx-bubble{background-color:#4a525b}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-them .cx-bubble{background-color:#3168d2}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-you .cx-bubble-arrow svg *{fill:#4a525b}.cx-webchat.cx-theme-dark .cx-transcript .cx-message.cx-them .cx-bubble-arrow svg *{fill:#3168d2}.cx-webchat.cx-theme-dark .cx-transcript .cx-time{color:#fff}.cx-webchat.cx-theme-dark .cx-alert>.cx-wrapper{background-color:#33383d;border-color:#222529;color:#fdfdfd}.cx-webchat.cx-theme-dark .cx-alert b.cx-link{color:#3963b8;word-break:break-all}.cx-webchat.cx-theme-dark .cx-webchat-smokescreen{background-color:#33383d}.cx-webchat.cx-theme-dark .cx-webchat .cx-tooltip-menu.cx-emoji .cx-option{color:#33383d}.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li .cx-char-count:focus,.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li .cx-icon:focus svg{border:1px solid #75a8ff;border-width:2px}.cx-webchat.cx-theme-dark .cx-input-container .cx-menu li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.cx-webchat.cx-theme-dark .cx-carousel .cx-next:focus,.cx-webchat.cx-theme-dark .cx-carousel .cx-previous:focus{border-color:#75a8ff}.cx-webchat.cx-theme-dark .cx-emoji-item:hover{background-color:#444a52}.cx-webchat.cx-theme-dark .cx-emoji-item:active{background-color:#666f7a}.cx-webchat *{box-sizing:border-box}.cx-webchat .cx-alert{display:none;z-index:999999;position:absolute;top:0;left:0;width:100%}.cx-webchat .cx-alert.cx-normal-alert .cx-buttons-binary{display:none}.cx-webchat .cx-alert.cx-normal-alert .cx-button-single{display:block;text-align:center}.cx-webchat .cx-alert.cx-binary-alert .cx-binary-button{display:block}.cx-webchat .cx-alert.cx-binary-alert .cx-button-single{display:none}.cx-webchat .cx-alert>.cx-wrapper{margin:0 16px;background-color:#fff;padding:0 24px 24px;border:1px solid #eee}.cx-webchat .cx-alert>.cx-wrapper .cx-warning{padding-top:12px}.cx-webchat .cx-alert>.cx-wrapper .cx-warning .cx-icon{display:inline-block;vertical-align:bottom;height:24px;width:24px}.cx-webchat .cx-alert.cx-async-chat-end{position:relative}.cx-webchat .cx-webchat-smokescreen{background-color:#fff;opacity:.8;z-index:999998}.cx-webchat .cx-overlay,.cx-webchat .cx-webchat-smokescreen{display:none;height:100%;position:absolute;top:0;left:0;width:100%}.cx-webchat .cx-overlay{background-color:inherit;padding:20px;z-index:999999;-webkit-box-shadow:0 8px 11px -4px rgba(0,0,0,.3);box-shadow:0 8px 11px -4px rgba(0,0,0,.3)}.cx-webchat .cx-form{padding:24px 24px 0;border-width:0}.cx-webchat .cx-form table{width:100%;margin-bottom:16px}.cx-webchat .cx-form table td{width:100%;padding:4px 0}.cx-webchat .cx-form table th{padding-right:8px}.cx-webchat .cx-form .cx-button-group{padding-bottom:0}.cx-webchat .cx-form .cx-form-group{margin-bottom:8px}.cx-webchat .cx-form th .cx-control-label{white-space:nowrap!important}.cx-webchat .cx-form-wrapper{overflow:auto;position:relative;-webkit-overflow-scrolling:touch}.cx-webchat .cx-transcript{overflow-y:auto;overflow-x:hidden;height:312px;font-size:.75em;line-height:18px;display:none;-webkit-overflow-scrolling:touch;overscroll-behavior:none;position:relative;font-weight:300;padding:0 24px}.cx-webchat .cx-transcript .cx-push-url a{color:#75a8ff!important}.cx-webchat .cx-transcript .cx-message{min-height:48px;margin:0;box-sizing:border-box;position:relative}.cx-webchat .cx-transcript .cx-message .cx-bubble{padding:10px 15px;padding:16px}.cx-webchat .cx-transcript .cx-message .cx-bubble-arrow{position:absolute;top:12px}.cx-webchat .cx-transcript .cx-message .cx-name{font-weight:bolder;color:#222;padding-right:5px;display:inline-block;width:100%;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.cx-webchat .cx-transcript .cx-message .cx-time{display:block;font-size:.92em}.cx-webchat .cx-transcript .cx-message.cx-date{text-align:center;min-height:18px;line-height:12px;padding:3px 12px;border:1px solid #dae1e8;border-radius:14px;max-width:fit-content;margin:12px auto;display:table}.cx-webchat .cx-transcript .cx-message .cx-message-text{word-wrap:break-word;display:block}.cx-webchat .cx-transcript .cx-message .cx-message-text>p{margin:0;white-space:pre-line}@-moz-document url-prefix(){.cx-webchat .cx-transcript .cx-message .cx-message-text>p{white-space:pre-wrap}}.cx-webchat .cx-transcript .cx-message .cx-message-text>p img{width:100%}.cx-webchat .cx-transcript .cx-message .cx-avatar-wrapper{width:24px;position:absolute;top:2px}.cx-webchat .cx-transcript .cx-message .cx-avatar img{width:auto;height:100%}.cx-webchat .cx-transcript .cx-message>div.cx-NewTextBubble{-webkit-animation:NewTextBubble .5s 1;animation:NewTextBubble .5s 1}.cx-webchat .cx-transcript .cx-avatar{height:24px;width:24px}.cx-webchat .cx-transcript .cx-name{font-weight:bolder;color:#222;white-space:nowrap;text-overflow:ellipsis}.cx-webchat .cx-transcript .cx-time{font-size:11px;display:block;margin-bottom:5px}.cx-webchat .cx-transcript .cx-rich-message .cx-avatar{float:left}.cx-webchat .cx-transcript .cx-rich-message .cx-name{display:inline-block;margin:5px 0 0 10px}.cx-webchat .cx-transcript .cx-message.cx-system{background:none;padding:0;margin:13px 0}.cx-webchat .cx-transcript .cx-message.cx-system .cx-message-text,.cx-webchat .cx-transcript .cx-message.cx-system .cx-time{min-height:18px}.cx-webchat .cx-transcript .cx-message.cx-system .cx-bubble{padding:0;background-color:transparent}.cx-webchat .cx-transcript .cx-message.cx-system .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message.cx-system .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message.cx-system .cx-name{display:none}.cx-webchat .cx-transcript .cx-message.cx-them{border:0;color:#000;padding:6px 0;text-align:left}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble{margin-left:40px;text-align:left;margin-top:0;border-radius:0 14px 14px 14px}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble-arrow{left:33px}.cx-webchat .cx-transcript .cx-message.cx-them .cx-bubble-arrow .cx-right{display:none}.cx-webchat .cx-transcript .cx-message.cx-them .cx-avatar-wrapper{left:0}.cx-webchat .cx-transcript .cx-message.cx-you{border:0;color:#000;padding:6px 0;text-align:right}.cx-webchat .cx-transcript .cx-message.cx-you .cx-name{display:none}.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble{margin-top:0;margin-right:7px;text-align:left;border-radius:14px 0 14px 14px}.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble-arrow{right:-7px}.cx-webchat .cx-transcript .cx-message.cx-you .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message.cx-you .cx-bubble-arrow .cx-left{display:none}.cx-webchat .cx-transcript .cx-message.cx-injected{border:0;padding:6px 0}.cx-webchat .cx-transcript .cx-message-group>.cx-message{padding:0!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant{margin-bottom:6px!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-avatar-wrapper,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-name,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-time{display:none!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant .cx-bubble{border-radius:10px;margin:0 0 0 40px}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant.cx-them:first-child .cx-avatar-wrapper{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant.cx-you .cx-bubble{margin:0!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-bubble-arrow,.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-name{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:first-child .cx-bubble{border-top-left-radius:14px!important;border-top-right-radius:14px!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:last-child .cx-time{display:block!important}.cx-webchat .cx-transcript .cx-message-group>.cx-message.cx-participant:last-child .cx-bubble{border-bottom-left-radius:14px!important;border-bottom-right-radius:14px!important}.cx-webchat .cx-isTyping{color:#222;font-size:.6875em;font-style:italic}.cx-webchat div.cx-input-container{display:none;width:100%;padding:14px 16px 14px 24px;border-width:1px;border-style:solid}.cx-webchat div.cx-input-container .cx-textarea-cell{position:relative}.cx-webchat div.cx-input-container .cx-message-input{width:100%;resize:none;height:20px;line-height:20px;font-size:.75em;margin-bottom:14px;padding:0;font-weight:400;overflow:hidden;border:0;background-color:transparent;padding-right:40px}.cx-webchat div.cx-input-container .cx-input.cx-disabled{opacity:.5}.cx-webchat .cx-settings-group{display:none}.cx-webchat .cx-end{color:#fff;line-height:2.5625em;text-align:right;height:40px;position:absolute;top:13px;right:24px;-webkit-transition:opacity .22s ease-in-out;-moz-transition:opacity .22s ease-in-out;-o-transition:opacity .22s ease-in-out;transition:opacity .22s ease-in-out;display:none;display:none!important}.cx-webchat .cx-end:hover{cursor:pointer;opacity:.8;opacity:1}.cx-webchat .cx-send{height:20px;width:24px;top:0}.cx-webchat .cx-send,.cx-webchat .cx-start-cobrowse{display:none;position:absolute;right:0;cursor:pointer}.cx-webchat .cx-start-cobrowse{bottom:114px;background-color:#e3b33b;padding:3px 3px 3px 4px;border-radius:5px 0 0 0;color:#fff;font-size:.8125em}.cx-webchat .cx-a-disabled{color:currentColor;display:inline-block;pointer-events:none;text-decoration:none;cursor:not-allowed;opacity:.5;outline:none}.cx-webchat .cx-scroll-disabled{overflow:hidden}.cx-webchat .cx-countdown{font-size:2em}.cx-webchat-counter{display:none}.cx-webchat.cx-minimized .cx-webchat-counter{display:inline-block;border-radius:5px;background-color:#e3264f;color:#fff;font-size:.625em;padding:4px;text-align:center;margin-left:12px;cursor:pointer;min-width:25px;float:right}.cx-widget p .cx-file-transfer-block{display:block;height:110px}.cx-widget .cx-parentDisable{opacity:.2}.cx-widget span.cx-user-detail.cx-name{vertical-align:middle}.cx-widget .cx-user-detail .cx-filesentmsg,.cx-widget span.cx-user-detail.cx-name{width:auto!important;display:inline-block!important}.cx-widget .cx-filename{display:block}.cx-widget .cx-warning .cx-reason>strong>p.filename{margin-left:26px;margin-bottom:10px;margin-top:10px}.cx-widget .cx-warning .cx-reason .cx-advice{margin-left:28px}.cx-widget .cx-lastrow{display:inline-block;clear:both}.cx-widget .cx-lastrow>span{display:inline-block}.cx-widget .cx-download-btn{margin-top:4px!important;padding:5px!important;max-height:30px;width:80px;font-size:1em}.cx-widget .cx-filesize{margin-left:20px}.cx-widget.cx-webchat-chat-button{right:0;top:40%;font-weight:700;padding:10px 10px 4px!important;cursor:pointer}.cx-widget.cx-webchat-chat-button .cx-icon{height:23px;width:23px;margin-right:2px;display:inline-block}.cx-widget.cx-webchat-chat-button>span{white-space:nowrap;margin-bottom:-6px}.cx-widget.cx-webchat-chat-button .cx-chat-button-label{vertical-align:super}.cx-webchat.cx-mobile .cx-message-input{margin-top:10px!important;margin-bottom:16px!important;padding-right:51px!important;font-size:1em!important;line-height:1.125em!important;overflow:auto!important}.cx-webchat.cx-mobile .cx-send{right:16px}.cx-webchat.cx-mobile .cx-menu>li>.cx-menu-item{height:24px;width:24px;margin-right:20px}.cx-webchat.cx-mobile .cx-input-container{padding-top:6px!important;padding:14px 0 14px 24px!important}.cx-webchat.cx-mobile.cx-landscape .cx-message-input{margin-bottom:10px!important;padding-right:60px!important}.cx-webchat.cx-mobile.cx-landscape .cx-textarea-cell{width:100%}.cx-webchat.cx-mobile.cx-landscape .cx-branding-icon{position:relative!important;right:auto!important}.cx-webchat.cx-mobile.cx-landscape .cx-input-container{display:flex!important;padding-bottom:6px!important}.cx-webchat.cx-mobile.cx-landscape .cx-send{top:9px;right:24px}.cx-webchat.cx-mobile.cx-landscape .cx-menu-cell{margin-top:7px}.cx-webchat .cx-menu{display:flex;list-style:none;margin:0;padding:0;width:100%;min-height:16px}.cx-webchat .cx-menu>li>.cx-menu-item{display:inline-block;list-style:none;height:20px;width:20px;padding:2px;margin-right:18px;cursor:pointer;outline-style:none}.cx-webchat .cx-menu>li>.cx-menu-item:focus{padding:1px}.cx-webchat .cx-menu li:last-child{margin-right:0}.cx-webchat .cx-menu li .cx-inert{cursor:default}.cx-webchat .cx-menu li .cx-char-count{width:auto;font-style:italic;font-size:.6875em;line-height:18px;color:#aaa}.cx-webchat .cx-menu li .cx-branding-icon{position:absolute;right:10px}.cx-webchat .cx-menu li .cx-icon.cx-disabled:not(.cx-branding-icon){pointer-events:none;opacity:.5}.cx-webchat.cx-disabled .cx-char-count,.cx-webchat.cx-disabled .cx-message-input,.cx-webchat.cx-disabled .cx-send{visibility:hidden}.cx-webchat.cx-disabled .cx-input-container .cx-icon{opacity:.5}.cx-webchat.cx-disabled .cx-menu{pointer-events:none}.cx-webchat.cx-disabled.cx-theme-dark .cx-input-container{background:#4a525b;pointer-events:none}.cx-webchat.cx-disabled.cx-theme-light .cx-input-container{background:#f2f4f7;pointer-events:none}.cx-webchat .cx-emoji-menu{white-space:nowrap;border:1px solid;padding:0;margin:0 0 14px}.cx-webchat .cx-emoji-menu li,.cx-webchat .cx-emoji-menu span{padding:15px 5px;display:inline-block}.cx-webchat .cx-emoji-menu li:first-child,.cx-webchat .cx-emoji-menu span:first-child{padding-left:10px}.cx-webchat .cx-emoji-menu li:last-child,.cx-webchat .cx-emoji-menu span:last-child{padding-right:10px}.cx-emoji-selection-menu,.cx-tooltip-menu{display:inline-block;position:relative;outline-style:none}.cx-emoji-selection-menu{bottom:0;left:0;max-height:128px;overflow:auto;border-top:1px solid}.cx-webchat .cx-emoji-table{overflow-y:auto;overflow-x:hidden;padding:0;margin:0}.cx-webchat .cx-emoji-table .cx-emoji-item{padding:6px 6px 3px;display:inline-block;cursor:pointer;font-size:25px;width:12.5%;text-align:center}.cx-webchat .cx-overlay .cx-idle-alert{font-size:.75em;text-align:center}.cx-webchat.cx-mobile .cx-overlay .cx-idle-alert{font-size:.875em}.cx-webchat .cx-overlay .cx-idle-countdown{text-align:center;padding:10px}@keyframes NewMessage{to{background-color:#2293f9!important}}@-webkit-keyframes NewMessage{to{background-color:#2293f9!important}}@keyframes NewTextBubble{0%{opacity:0}to{opacity:1}}@-webkit-keyframes NewTextBubble{0%{opacity:0}to{opacity:1}}",""])},"./node_modules/marked/lib/marked.js":function(e,t,a){(function(t){!function(t){"use strict";function a(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||f.defaults,this.rules=w.normal,this.options.pedantic?this.rules=w.pedantic:this.options.gfm&&(this.options.tables?this.rules=w.tables:this.rules=w.gfm)}function n(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=v.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=v.pedantic:this.options.gfm&&(this.options.breaks?this.rules=v.breaks:this.rules=v.gfm)}function i(e){this.options=e||f.defaults}function r(){}function c(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new o}function o(){this.seen={}}function s(e,t){if(t){if(s.escapeTest.test(e))return e.replace(s.escapeReplace,function(e){return s.replacements[e]})}else if(s.escapeTestNoEncode.test(e))return e.replace(s.escapeReplaceNoEncode,function(e){return s.replacements[e]});return e}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function d(e,t){return e=e.source||e,t=t||"",{replace:function(t,a){return a=a.source||a,a=a.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,a),this},getRegex:function(){return new RegExp(e,t)}}}function p(e,t,a){if(e){try{var n=decodeURIComponent(l(a)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!k.test(a)&&(a=u(t,a));try{a=encodeURI(a).replace(/%25/g,"%")}catch(e){return null}return a}function u(e,t){return y[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?y[" "+e]=e+"/":y[" "+e]=b(e,"/",!0)),e=y[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}function x(){}function m(e){for(var t,a,n=1;n<arguments.length;n++){t=arguments[n];for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}function h(e,t){var a=e.replace(/\|/g,function(e,t,a){for(var n=!1,i=t;--i>=0&&"\\"===a[i];)n=!n;return n?"|":" |"}),n=a.split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function b(e,t,a){if(0===e.length)return"";for(var n=0;n<e.length;){var i=e.charAt(e.length-n-1);if(i!==t||a){if(i===t||!a)break;n++}else n++}return e.substr(0,e.length-n)}function g(e,t){if(-1===e.indexOf(t[1]))return-1;for(var a=0,n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])a++;else if(e[n]===t[1]&&--a<0)return n;return-1}function f(e,t,n){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=m({},f.defaults,t||{});var i,r,o=t.highlight,l=0;try{i=a.lex(e,t)}catch(e){return n(e)}r=i.length;var d=function(e){if(e)return t.highlight=o,n(e);var a;try{a=c.parse(i,t)}catch(t){e=t}return t.highlight=o,e?n(e):n(null,a)};if(!o||o.length<3)return d();if(delete t.highlight,!r)return d();for(;l<i.length;l++)!function(e){"code"!==e.type?--r||d():o(e.text,e.lang,function(t,a){return t?d(t):null==a||a===e.text?--r||d():(e.text=a,e.escaped=!0,void(--r||d()))})}(i[l])}else try{return t&&(t=m({},f.defaults,t)),c.parse(a.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||f.defaults).silent)return"<p>An error occurred:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var w={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:x,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:x,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:x,lheading:/^([^\n]+)\n {0,3}(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};w._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,w._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,w.def=d(w.def).replace("label",w._label).replace("title",w._title).getRegex(),w.bullet=/(?:[*+-]|\d{1,9}\.)/,w.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,w.item=d(w.item,"gm").replace(/bull/g,w.bullet).getRegex(),w.list=d(w.list).replace(/bull/g,w.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+w.def.source+")").getRegex(),w._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w._comment=/<!--(?!-?>)[\s\S]*?-->/,w.html=d(w.html,"i").replace("comment",w._comment).replace("tag",w._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w.paragraph=d(w.paragraph).replace("hr",w.hr).replace("heading",w.heading).replace("lheading",w.lheading).replace("tag",w._tag).getRegex(),w.blockquote=d(w.blockquote).replace("paragraph",w.paragraph).getRegex(),w.normal=m({},w),w.gfm=m({},w.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),w.gfm.paragraph=d(w.paragraph).replace("(?!","(?!"+w.gfm.fences.source.replace("\\1","\\2")+"|"+w.list.source.replace("\\1","\\3")+"|").getRegex(),w.tables=m({},w.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),w.pedantic=m({},w.normal,{html:d("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",w._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),a.rules=w,a.lex=function(e,t){return new a(t).lex(e)},a.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},a.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var a,n,i,r,c,o,s,l,d,p,u,x,m,g,f,v;e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var y=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),y&&"paragraph"===y.type?y.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:b(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(o={type:"table",header:h(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]},o.header.length===o.align.length)){for(e=e.substring(i[0].length),u=0;u<o.align.length;u++)/^ *-+: *$/.test(o.align[u])?o.align[u]="right":/^ *:-+: *$/.test(o.align[u])?o.align[u]="center":/^ *:-+ *$/.test(o.align[u])?o.align[u]="left":o.align[u]=null;for(u=0;u<o.cells.length;u++)o.cells[u]=h(o.cells[u],o.header.length);this.tokens.push(o)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),r=i[2],g=r.length>1,s={type:"list_start",ordered:g,start:g?+r:"",loose:!1},this.tokens.push(s),i=i[0].match(this.rules.item),l=[],a=!1,m=i.length,u=0;u<m;u++)o=i[u],p=o.length,o=o.replace(/^ *([*+-]|\d+\.) */,""),~o.indexOf("\n ")&&(p-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+p+"}","gm"),"")),u!==m-1&&(c=w.bullet.exec(i[u+1])[0],(r.length>1?1===c.length:c.length>1||this.options.smartLists&&c!==r)&&(e=i.slice(u+1).join("\n")+e,u=m-1)),n=a||/\n\n(?!\s*$)/.test(o),u!==m-1&&(a="\n"===o.charAt(o.length-1),n||(n=a)),n&&(s.loose=!0),f=/^\[[ xX]\] /.test(o),v=void 0,f&&(v=" "!==o[1],o=o.replace(/^\[[ xX]\] +/,"")),d={type:"list_item_start",task:f,checked:v,loose:n},l.push(d),this.tokens.push(d),this.token(o,!1),this.tokens.push({type:"list_item_end"});if(s.loose)for(m=l.length,u=0;u<m;u++)l[u].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),x=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[x]||(this.tokens.links[x]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(o={type:"table",header:h(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]},o.header.length===o.align.length)){for(e=e.substring(i[0].length),u=0;u<o.align.length;u++)/^ *-+: *$/.test(o.align[u])?o.align[u]="right":/^ *:-+: *$/.test(o.align[u])?o.align[u]="center":/^ *:-+ *$/.test(o.align[u])?o.align[u]="left":o.align[u]=null;for(u=0;u<o.cells.length;u++)o.cells[u]=h(o.cells[u].replace(/^ *\| *| *\| *$/g,""),o.header.length);this.tokens.push(o)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var v={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};v._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",v.em=d(v.em).replace(/punctuation/g,v._punctuation).getRegex(),v._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,v._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,v._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,v.autolink=d(v.autolink).replace("scheme",v._scheme).replace("email",v._email).getRegex(),v._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,v.tag=d(v.tag).replace("comment",w._comment).replace("attribute",v._attribute).getRegex(),v._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,v._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,v._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,v.link=d(v.link).replace("label",v._label).replace("href",v._href).replace("title",v._title).getRegex(),v.reflink=d(v.reflink).replace("label",v._label).getRegex(),v.normal=m({},v),v.pedantic=m({},v.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",v._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",v._label).getRegex()}),v.gfm=m({},v.normal,{escape:d(v.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),v.gfm.url=d(v.gfm.url,"i").replace("email",v.gfm._extended_email).getRegex(),v.breaks=m({},v.gfm,{br:d(v.br).replace("{2,}","*").getRegex(),text:d(v.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),n.rules=v,n.output=function(e,t,a){return new n(t,a).output(e)},n.prototype.output=function(e){for(var t,a,i,r,c,o,l="";e;)if(c=this.rules.escape.exec(e))e=e.substring(c[0].length),l+=s(c[1]);else if(c=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(c[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(c[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.inRawBlock=!1),e=e.substring(c[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):s(c[0]):c[0];else if(c=this.rules.link.exec(e)){var d=g(c[2],"()");if(d>-1){var p=c[0].length-(c[2].length-d)-(c[3]||"").length;c[2]=c[2].substring(0,d),c[0]=c[0].substring(0,p).trim(),c[3]=""}e=e.substring(c[0].length),this.inLink=!0,i=c[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i),t?(i=t[1],r=t[3]):r=""):r=c[3]?c[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(c,{href:n.escapes(i),title:n.escapes(r)}),this.inLink=!1}else if((c=this.rules.reflink.exec(e))||(c=this.rules.nolink.exec(e))){if(e=e.substring(c[0].length),t=(c[2]||c[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=c[0].charAt(0),e=c[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(c,t),this.inLink=!1}else if(c=this.rules.strong.exec(e))e=e.substring(c[0].length),l+=this.renderer.strong(this.output(c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.em.exec(e))e=e.substring(c[0].length),l+=this.renderer.em(this.output(c[6]||c[5]||c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.code.exec(e))e=e.substring(c[0].length),l+=this.renderer.codespan(s(c[2].trim(),!0));else if(c=this.rules.br.exec(e))e=e.substring(c[0].length),l+=this.renderer.br();else if(c=this.rules.del.exec(e))e=e.substring(c[0].length),l+=this.renderer.del(this.output(c[1]));else if(c=this.rules.autolink.exec(e))e=e.substring(c[0].length),"@"===c[2]?(a=s(this.mangle(c[1])),i="mailto:"+a):(a=s(c[1]),i=a),l+=this.renderer.link(i,null,a);else if(this.inLink||!(c=this.rules.url.exec(e))){if(c=this.rules.text.exec(e))e=e.substring(c[0].length),this.inRawBlock?l+=this.renderer.text(c[0]):l+=this.renderer.text(s(this.smartypants(c[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===c[2])a=s(c[0]),i="mailto:"+a;else{do{o=c[0],c[0]=this.rules._backpedal.exec(c[0])[0]}while(o!==c[0]);a=s(c[0]),i="www."===c[1]?"http://"+a:a}e=e.substring(c[0].length),l+=this.renderer.link(i,null,a)}return l},n.escapes=function(e){return e?e.replace(n.rules._escapes,"$1"):e},n.prototype.outputLink=function(e,t){var a=t.href,n=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(a,n,this.output(e[1])):this.renderer.image(a,n,s(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,a="",n=e.length,i=0;i<n;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),a+="&#"+t+";";return a},i.prototype.code=function(e,t,a){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(e,n);null!=i&&i!==e&&(a=!0,e=i)}return n?'<pre><code class="'+this.options.langPrefix+s(n,!0)+'">'+(a?e:s(e,!0))+"</code></pre>\n":"<pre><code>"+(a?e:s(e,!0))+"</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,a,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(a)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t,a){var n=t?"ol":"ul";return"<"+n+(t&&1!==a?' start="'+a+'"':"")+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var a=t.header?"th":"td";return(t.align?"<"+a+' align="'+t.align+'">':"<"+a+">")+e+"</"+a+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,a){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return a;var n='<a href="'+s(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+a+"</a>"},i.prototype.image=function(e,t,a){if(null===(e=p(this.options.sanitize,this.options.baseUrl,e)))return a;var n='<img src="'+e+'" alt="'+a+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},i.prototype.text=function(e){return e},r.prototype.strong=r.prototype.em=r.prototype.codespan=r.prototype.del=r.prototype.text=function(e){return e},r.prototype.link=r.prototype.image=function(e,t,a){return""+a},r.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new n(e.links,this.options),this.inlineText=new n(e.links,m({},this.options,{renderer:new r})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,a,n,i="",r="";for(a="",e=0;e<this.token.header.length;e++)a+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(a),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],a="",n=0;n<t.length;n++)a+=this.renderer.tablecell(this.inline.output(t[n]),{header:!1,align:this.token.align[n]});r+=this.renderer.tablerow(a)}return this.renderer.table(i,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var c=this.token.ordered,o=this.token.start;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,c,o);case"list_item_start":r="";var s=this.token.loose,d=this.token.checked,p=this.token.task;for(this.token.task&&(r+=this.renderer.checkbox(d));"list_item_end"!==this.next().type;)r+=s||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r,p,d);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var u='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(u);console.log(u)}},o.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var a=t;do{this.seen[a]++,t=a+"-"+this.seen[a]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},s.escapeTest=/[&<>"']/,s.escapeReplace=/[&<>"']/g,s.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,s.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var y={},k=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;x.exec=x,f.options=f.setOptions=function(e){return m(f.defaults,e),f},f.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new i,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},f.defaults=f.getDefaults(),f.Parser=c,f.parser=c.parse,f.Renderer=i,f.TextRenderer=r,f.Lexer=a,f.lexer=a.lex,f.InlineLexer=n,f.inlineLexer=n.output,f.Slugger=o,f.parse=f,e.exports=f}(this||"undefined"!=typeof window&&window)}).call(t,a("./node_modules/webpack/buildin/global.js"))},"./webapp/plugins/cx-webchat/cx-webchat.js":function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var i,r,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=[a("./node_modules/jquery/dist/jquery.js"),a("./webapp/plugins/cx-common/cx-common.js"),a("./node_modules/marked/lib/marked.js"),a("./webapp/plugins/cx-webchat/html/cx-webchat.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-toaster.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-spinner.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-message-agent.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-message-customer.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-chat-button.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-alert.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-async-close.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu.html"),a("./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu-custom.html"),a("./webapp/plugins/cx-webchat/html/cx-loading.html"),a("./webapp/plugins/cx-webchat/nls/string.json"),a("./webapp/plugins/cx-webchat/less/cx-webchat.less")],void 0!==(r=function(e,t,a,i,r,s,l,d,p,u,x,m,h,b,g,f,w,v){var y=CXBus.registerPlugin("WebChat");if(y){var k=function(e){var a=(e||"").split(";"),n=[];return a.forEach(function(e){if(e){var a=e.split(":");if(""!=a[0].trim())if(1==a.length&&e.length>1){var i=t.emojiStringToArray(e);i.forEach(function(e){""!=e.trim()&&n.push({unicode:e})})}else{var r={};r.unicode=a[0],2==a.length&&(r.name=a[1]),n.push(r)}}}),n},C=function(){var e=Bt(".cx-emoji-selection-menu"),t=Bt(".cx-transcript");e.is(":visible")||(e.show(),le.empty().html(v.AriaEmojiStatusOpen),e.find(".cx-emoji-table .cx-emoji-item").eq(0).trigger("focus"),t.height(t.height()-e.height()-1),gt=e.height(),t[0].scrollTop=t[0].scrollTop+gt,e[0].scrollTop=0)},A=function(){var e=Bt(".cx-emoji-selection-menu"),t=Bt(".cx-transcript");e.is(":visible")&&(e.hide(),le.empty().html(v.AriaEmojiStatusClose),t.height(t.height()+gt+1))},S=function(){var a=T.emojiListConfig||T.emojiListI18n||[],n="";if(a.length>0){n=e(f);var i=n.find(".cx-emoji-table");a.forEach(function(t,n){i.append(e('<li class="cx-emoji-item" role="option" aria-posinset="'+(n+1)+'" aria-setsize="'+a.length+'" aria-label="'+(t.name?t.name+" "+v.AriaEmoji:"")+'" title="'+(t.name||"")+'" data-unicode="'+t.unicode+'" tabindex="0">'+t.unicode+"</li>"))}),Bt(".cx-transcript").after(n),n.hide(),Bt(".cx-menu .cx-emoji").on("keydown click",function(a){if(t.validInput(a)&&(Ie?(n.is(":visible")?(le.empty().html(v.AriaEmojiStatusClose),n.hide()):(le.empty().html(v.AriaEmojiStatusOpen),n.show()),Jt()):n.is(":visible")?A():C()),!a.ctrlKey&&a.which&&(37===a.which||39===a.which||38===a.which||40===a.which)&&document.activeElement===a.currentTarget)if(a.preventDefault(),37===a.which||38===a.which)e(".cx-send").is(":visible")?e(".cx-send").trigger("focus"):e(".cx-message-input").trigger("focus");else if(39===a.which||40===a.which){var i=e(".cx-menu .cx-menu-item[tabindex=0]:visible:not(.cx-emoji)");i.length&&e(i[0]).trigger("focus")}})}else n=e(g),Bt(".cx-menu .cx-emoji").tooltipMenu({content:n,beforeOpen:function(){return me},onOpen:function(){le.empty().html(v.AriaEmojiStatusOpen)},onClose:function(){le.empty().html(v.AriaEmojiStatusClose)}});n&&n.find(".cx-option, .cx-emoji-item").on("keydown click",function(i){if(t.validInput(i)){var r=Bt(".cx-message-input");lt-(r[0].value.length+e(this).text().length)>=0&&r.insertAtCaret(e(this).data("unicode")),r.trigger("focus"),st&&Pa()}if(37===i.which||39===i.which||a.length>0&&(38===i.which||40===i.which||27===i.which)){i.preventDefault();var c=n.find(".cx-option").length?n.find(".cx-option"):n.find(".cx-emoji-item"),o=c.length,s=e(this).index(),l=void 0;37!==i.which&&39!==i.which||(l=39==i.which?s>=o-1?0:s+1:s<=0?o-1:s-1,c.eq(l).trigger("focus")),o>8&&(38===i.which||40===i.which)&&(40==i.which?s+8<o?l=s+8:s+8>=o-1&&(l=Math.ceil(o/8)==Math.ceil((s+1)/8)?Math.abs(8*Math.ceil(o/8)-8-s):a.length-1):s-8>=0?l=s-8:s-8<0&&(l=Math.abs(8*Math.ceil(o/8)-8+s))>o-1&&(l=o-1),c.eq(l).trigger("focus")),27==i.which&&(A(),le.empty().html(v.AriaEmojiStatusClose),Y.find(".cx-menu .cx-emoji").focus())}})};y.registerEvents(["ready","opened","closed","minimized","unminimized","cancelled","completed","messageAdded","submitted"]);var T={chatButton:{enabled:!1,template:p,openDelay:1e3,effect:"fade",effectDuration:300,hideDuringInvite:!0},proactive:{enabled:!1,idleTimer:5,cancelTimer:30},avatars:{bot:"bot",agent:"agent",customer:"user"},actionsMenu:!0,emojis:!1,emojiListConfig:!1,emojiListI18n:!1,inviteOnRestoreTimeout:!0,groupMessages:!1,userData:{},interactionData:{},i18n_messages:v,template:i,async:{enabled:!1,newMessageRestoreState:"full"},minimizeOnMobileRestore:!1,markdown:!1,unminimizeOnAlert:!0,promptEndChatOnError:6e4,endChatOnErrorThreshold:3e5},_={wrapper:"<table role='none'>",inputs:[{id:"cx_webchat_form_firstname",name:"firstname",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderFirstName",label:"@i18n:webchat.ChatFormFirstName",autofocus:!0},{id:"cx_webchat_form_lastname",name:"lastname",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderLastName",label:"@i18n:webchat.ChatFormLastName"},{id:"cx_webchat_form_email",name:"email",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderEmail",label:"@i18n:webchat.ChatFormEmail"},{id:"cx_webchat_form_subject",name:"subject",maxlength:"100",placeholder:"@i18n:webchat.ChatFormPlaceholderSubject",label:"@i18n:webchat.ChatFormSubject"}]},I=!1,j=!1,E=!1,z=!1,F=!1,D={},B=0,R=0,O=0,M=0,L=0,N=[],P=!1,$=!1,W=!1,H=!1,q=!1,U=!1,Z=!1,J=!1,G=!1,V=null,Y=e(),K=!1,X=!1,Q=!1,ee=!1,te=e(T.chatButton.template),ae=e(),ne=!1,ie=e(),re=!1,ce=!1,oe=["cx-close-confirm","cx-end-confirm"],se=["cx-close-confirm","cx-end-confirm","cx-close-cancel","cx-end-cancel"],le=e(),de=0,pe=!1,ue=!1,xe=!1,me=!1,he=!1,be=!1,ge=!1,fe=!1,we=!1,ve=!1,ye=!1,ke=!1,Ce=!1,Ae=!1,Se=!1,Te=!1,_e=!1,Ie=!1,je=!1,Ee=!1,ze=!1,Fe=!1,De=!1,Be=!0,Re=!1,Oe=!1,Me=!1,Le=!1,Ne=!1,Pe=!1,$e=!1,We=!1,He=!1,qe=!1,Ue=!1,Ze=!1,Je=!1,Ge=!1,Ve=!1,Ye=T.iMessageGroupingThreshold||1e5,Ke=0,Xe={},Qe={},et="",tt="",at="",nt=CXBus.data("App.timeFormat")||12,it="WebChatService",rt=!1,ct=[46,8,37,38,39,40,9,16],ot=[0,1,38,33,void 0],st=0,lt=500,dt=[100,75,50,25,10],pt=[50,25,10],ut=[],xt=0,mt=0,ht=0,bt=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","ScrollLock","Shift","Super","Symbol","SymbolLock","Enter","Tab"],gt=0,ft="_genesys.widgets.webchat.state",wt=ft+".minimized",vt=ft+".open",yt=ft+".lastMessageCountRead",kt=ft+".asyncUnreadMessageCount",Ct="_genesys.widgets.webchat.metaData",At={proactiveIdle:null},St=(e(),e(),e(),!1),Tt=!1,_t={},It="",jt="",Et=!1,zt=!1,Ft=!1,Dt=!1,Bt=function(e){return Y.find(e)},Rt=new a.Renderer;Rt.link=function(e,t,n){var i=e.match(/{{target=".*"}}/),r=!1;i&&(r=i[0].replace(/{{|}}/g,"").split("=")[1].replace(/"/g,"").replace(/'/g,""),e=e.replace(/{{.*}}/,""));var c=a.Renderer.prototype.link.apply(this,[e,t,n]);return-1!==c.indexOf("target")?c:c.replace("<a","<a target='"+(r||"_blank")+"'")},a.setOptions({renderer:Rt}),y.data("open",pe);var Ot=function(){At.proactiveIdle&&y.unsubscribe(At.proactiveIdle),t.getCookie("_genesys.widgets.webchat.autoInvite.disabled")||(At.proactiveIdle=y.subscribe("Watchman.idle:"+T.proactive.idleTimer,function(){Q||!0!==T.proactive.enabled||y.command("invite").done(function(e){y.command("Watchman.countdown",{time:T.proactive.cancelTimer}).done(function(t){y.subscribe(t,function(){var t=e||Q;t&&t.find(document.activeElement).length||Q&&(y.command("Toaster.close"),T.chatButton.enabled&&y.command("showChatButton"))})})})}))},Mt=function(){K&&(Te?K.hide():(Ae&&ve?K.show():K.hide(),Se&&K.hide()))},Lt=function(){X&&De&&y.command(it+".getFileLimits").done(function(a){var n="string"==typeof a?JSON.parse(a):a,i=null,r=!0,c="";n.chatEnded?X.hide():(e.each(n.messages,function(){this.userData&&(i=this.userData)}),i?(c="."+i["upload-file-types"].split(":").join(",."),r="true"===i["upload-need-agent"],et=i["upload-max-file-size"],Bt(".cx-browseFile").attr("accept",c),r?ve?X.show():X.hide():X.show()):(t.error("("+it+".getFileLimits) did not receive the following properties: upload-file-types, upload-need-agent, upload-max-file-size"),t.debug(n)))})},Nt=function(){me?Bt(".cx-message-input").removeClass("cx-disabled").removeAttr("tabindex"):(Bt(".cx-message-input").addClass("cx-disabled").attr("tabindex",-1).val(""),ua())},Pt=function(){var e=!1;return Bt(".cx-form .cx-input").each(function(){if(this.value)return e=!0,!1}),e},$t=function(e){var t=e[0];t.clientHeight<t.scrollHeight&&(t.offsetWidth,t.clientWidth)},Wt=function(a){if(!0===pe&&Y){var n=function(){Y.remove(),Y=e(),a.deferred.resolve(),$||H||(W=tn(),y.publish("cancelled",cn())),q=tn(),y.publish("closed",cn()),rn(),T.chatButton.enabled&&y.command("showChatButton"),(ge||fe)&&y.command("Survey.open",{questions:aSurveyQuestions}),Me||y.command(it+".restore")};!0===y.data("App.transitions")?Y.animate({bottom:0-Y.height()+"px"},{duration:500,done:n}):n(),Je=!1,pe=!1,y.data("open",pe),t.setCookie(vt,pe)}else a.deferred.reject("already closed");rt&&(rt=!1),Et&&(Et=!1),nn()},Ht=function(){Mt(),Nt()},qt=function(){var e=t.getCookie(kt);e++,t.setCookie(kt,e)},Ut=function(){if(ee){var e=t.getCookie(yt)||Ke,a=Ke-e;if(t.getCookie(kt)&&t.getCookie(kt)>=a){var n=t.getCookie(kt);ee.css({display:""}).text(n)[0].title=n+" "+v.UnreadMessagesTitle,ee.attr({"aria-label":n+" "+v.UnreadMessagesTitle,tabindex:0}),Tt.empty().text(n+" "+v.UnreadMessagesTitle)}else a>0?(ee.css({display:""}).text(a)[0].title=a+" "+v.UnreadMessagesTitle,ee.attr({"aria-label":a+" "+v.UnreadMessagesTitle,tabindex:0}),Tt.empty().text(a+" "+v.UnreadMessagesTitle),t.setCookie(kt,a)):(ee.removeAttr("aria-label"),ee.css({display:"none"}))}},Zt=function(){je||(Y.removeClass("cx-portrait cx-landscape"),Re?Bt(".cx-transcript").css("height","312px"):(Bt(".cx-form-wrapper").css("height","auto"),Bt(".cx-footer").show()),Bt(".cx-overlay.cx-dynamic").css("height","auto"))},Jt=function(){if(Ie||je){var a=window.screen.availHeight||e(window).height(),n=window.screen.availWidth||e(window).width();Y.removeClass("cx-portrait cx-landscape"),Y.addClass(n<a?"cx-portrait":"cx-landscape");var i=Y.height(),r=Bt(".cx-titlebar").outerHeight(),c=Bt(".cx-form").outerHeight(),o=Bt(".cx-emoji-selection-menu").is(":visible")?Bt(".cx-emoji-selection-menu").outerHeight():0,s=Bt(".cx-input-container").outerHeight(),l=Bt(".cx-footer").outerHeight();Re?Bt(".cx-transcript").height(i-r-o-s):i<r+c+l?(Bt(".cx-footer").hide(),Bt(".cx-form-wrapper").outerHeight(i-r)):(Bt(".cx-footer").show(),Bt(".cx-form-wrapper").outerHeight(i-r-l)),ra(),t.overlayFocusCycle(Y)}},Gt=function(e){Y&&(Y.find(".cx-form .cx-form-inputs").empty(),t.Generate.Form(e||_,Bt(".cx-body .cx-form .cx-form-inputs")))},Vt=function(){e.extend(v,y.data("App.localization").webchat||v,!0),"string"==typeof v.EmojiList&&(T.emojiListI18n=k(v.EmojiList))},Yt=function(){if(Vt(),_t=y.data(it+".capabilities"),Y[0])return Y;Y=t.Generate.Container({type:"generic",classes:"cx-webchat",title:v.ChatTitle,body:!1,icon:"chat",controls:"all",buttons:!1});var a="";Y.addClass("cx-webchat"),Y.attr({"data-gcb-service-node":!0}),Y.attr("aria-label",v.AriaWindowLabel),Bt(".cx-button-minimize").attr("aria-label",v.AriaMinimize),Bt(".cx-button-close").attr("aria-label",v.AriaClose),ee=e("<div class='cx-webchat-counter'></div>"),ee.on("keydown click",function(e){t.validInput(e)&&(e.stopImmediatePropagation(),Ce&&(y.command("minimize"),ee.removeAttr("tabindex title").empty(),Tt.empty()))}),Bt(".cx-title").text(v.ChatTitle).attr("role","none").append(ee),Tt=e("<div class='cx-aria-unreadmsg cx-common-screen-reader' aria-live='assertive'></div>"),Bt(".cx-title").append(Tt),Bt(".cx-titlebar").on("keydown click",function(e){t.validInput(e)&&Y.hasClass("minimized")&&y.command("minimize")}),Bt(".cx-button-close").on("keydown  click",function(e){t.validInput(e)&&(me?(Ce&&y.command("minimize"),Me?_t&&_t.asyncClose&&"endChat"==_t.asyncClose?_a():ja():_a()):y.command("close"))}),Bt(".cx-button-minimize").on("keydown click",function(e){t.validInput(e)&&y.command("minimize")}),Y.find(".cx-button-minimize").on("focusin",function(e){Y.find(".cx-form table").attr("aria-hidden","true")}),Y.find(".cx-button-close").on("focusin",function(e){Y.find(".cx-form table").attr("aria-hidden","true")}),Y.find(".cx-button-minimize").on("focusout",function(e){var t=document.activeElement;t!==Y.find(".cx-button-minimize")[0]&&t!==Y.find(".cx-button-close")[0]&&Y.find(".cx-form table").removeAttr("aria-hidden")}),Y.find(".cx-button-close").on("focusout",function(e){var t=document.activeElement;t!==Y.find(".cx-button-minimize")[0]&&t!==Y.find(".cx-button-close")[0]&&Y.find(".cx-form table").removeAttr("aria-hidden")}),Bt(".cx-body").append(e(i)),Gt(),Bt(".cx-input-container .cx-send").attr("aria-label",v.AriaChatInputSend),Bt(".cx-input-container .cx-emoji").attr("aria-label",v.ActionsEmoji),Bt(".cx-input-container .cx-upload").attr("aria-label",v.ActionsSendFile),Bt(".cx-input-container .cx-cobrowse").attr("aria-label",v.ActionsCobrowseStart),Bt(".cx-form .cx-input").on("keydown",function(e){if(13==e.which)return Aa(e),!0}),Bt(".cx-browseFile").on("change",function(){if(this.value)if(ga(),this.files[0].size>parseInt(et)){var e={},n=v.Errors.FileTransferSizeError,i=qa(this.files[0].name);a=t.bytesToSize(parseInt(et)),n=n.replace("<%FilenameFull%>",this.files[0].name).replace("<%FilenameTruncated%>",i),n=n.replace("<%MaxSizePerFile%>",a),e.sErrors=n,wa(e),Xt(),fa()}else y.command(it+".sendFile",{files:this}).done(function(e){Xt()}).fail(function(e){Xt()}).always(function(){fa()})}),S(),K=Bt(".cx-menu .cx-cobrowse"),X=Bt(".cx-menu .cx-upload");var r=Bt(".cx-menu .cx-cobrowse").attr("aria-label");Bt(".cx-menu .cx-cobrowse").attr("aria-label",r+" "+v.AriaActionsCobrowseStartTitle),K.on("keydown click",function(e){t.validInput(e)&&!Te&&me&&(Se?y.command("CoBrowse.stop"):ve&&y.command("CoBrowse.start"))});var c=Bt(".cx-upload").attr("aria-label");return Bt(".cx-upload").attr("aria-label",c+" "+v.AriaActionsSendFileTitle),Bt(".cx-upload").on("keydown click",function(e){t.validInput(e)&&me&&Bt(".cx-browseFile").trigger("click")}),Bt(".cx-message-input").textAreaAutoHeight({lineLimit:Ie?8:11,callback:function(t){var a=e(".cx-transcript").height();e(".cx-transcript").height(a+t.delta),Jt()}}),Bt(".cx-message-input").on("blur click keydown focus cut copy paste change",function(e){"blur"==e.type?Bt(".cx-input-container").removeClass("cx-input-focus"):Bt(".cx-input-container").addClass("cx-input-focus")}),Bt(".cx-message-input").on("blur keydown keyup focus cut copy paste change",function(t){var a=this,n=t.char;setTimeout(function(){var i=Bt(".cx-char-count"),r=!!ut.length,c=r?ut[ut.length-1]:0;0==a.value.length?Bt(".cx-send").fadeOut():Bt(".cx-send").fadeIn();var o=lt-a.value.length;if(o<0&&(o=0),a.value.length>0)Oe&&(o>c&&(r?i.removeAttr("aria-live"):i.attr("aria-live","polite")),e(a).attr({"aria-label":v.ChatInputPlaceholder}));else if(Oe){var s=Bt(".cx-message-input").attr("placeholder")||v.AriaMessageInput,l=e(".cx-char-count").text();"blur"!==t.type&&e(a).attr({"aria-label":s+" "+l+" "+v.AriaCharRemaining}),i.removeAttr("aria-live")}o>10?(r&&Oe&&(ut.length&&-1!=ut.indexOf(o)||o<=c)&&i.attr("aria-live","polite"),i.removeClass("cx-warning")):(i.attr("aria-live","polite"),i.addClass("cx-warning")),i.html(o),i.attr({"aria-label":o+" "+v.AriaCharRemaining,title:o+" "+v.AriaCharRemaining}),n&&0==o&&(a.value=a.value.substr(0,lt))},0)}),Bt(".cx-form .cx-btn-default").on("keydown click",function(e){t.validInput(e)&&y.command("close")}),Bt(".cx-form .cx-btn-primary").on("keydown click",function(e){t.validInput(e)&&Aa(e)}),Bt(".cx-alert.cx-chat-end button.cx-end-confirm").on("keydown click",function(e){t.validInput(e)&&(Ia(),Za())}),Bt(".cx-alert.cx-chat-end button.cx-end-cancel").on("keydown click",function(e){t.validInput(e)&&Ia()}),Bt(".cx-alert.cx-chat-error button.cx-error-button").on("keydown click",function(e){t.validInput(e)&&(xa(),ya())}),Bt(".cx-close-confirm").on("keydown click",function(e){t.validInput(e)&&rt&&(Wt(rt),Da())}),Bt(".cx-close-cancel").on("keydown click",function(e){t.validInput(e)&&Da()}),Ie||Bt(".cx-message-input").on("blur cut copy paste change keyup",function(){$t(e(this))}),Bt(".cx-message-input").on("keydown",function(e){return 13!=e.which||e.ctrlKey||e.shiftKey?!(lt&&-1===ct.indexOf(e.which)&&[].concat(n(e.currentTarget.value)).length>=lt)&&void(-1==bt.indexOf(e.key)&&(y.command(it+".sendTyping",{isTyping:!0}),st&&Pa())):(Ma(),e.preventDefault(),e.stopPropagation(),Bt(".cx-message-input").trigger("keyup"),!0)}),Bt(".cx-send").on("keyup click",function(e){(e.type&&"click"==e.type||e.which&&!e.ctrlKey&&(32===e.which||13===e.which))&&(Ma(),Bt(".cx-message-input").focus())}),Y.on("click keyup",function(e){!0===y.data(it+".sleeping")&&y.command(it+".wake"),st&&(Pa(),y.command(it+".wake",{resetIdleState:!0}))}),Y.focusin(function(){var a=e(document.activeElement),n=[],i=t.getBrowserandOS();ce||(ce=document.activeElement),re=ce,n=i.browser&&"Internet Explorer"===i.browser?se.filter(function(e){return a.hasClass(e)}):oe.filter(function(e){return a.hasClass(e)}),re==document.activeElement||n.length||(ce=document.activeElement)}),Me&&(ie=e(b),ie.find(".i18n").each(function(){e(this).data("message")&&e(this).html(v[e(this).data("message")])}),ie.find(".cx-btn-primary").on("keydown click",function(e){t.validInput(e)&&(Ea(),Kt())}),ie.find(".cx-btn-default").on("keydown click",function(e){t.validInput(e)&&(Ea(),Za())}),Bt(".cx-overlay.cx-async").append(ie)),Ht(),Oe||Bt(".cx-message-input").attr("aria-label",v.ChatInputPlaceholder),t.populateAllPlaceholders(Y,v),Y},Kt=function(){pe=!1,y.data("open",pe),t.setCookie(vt,pe),Y.hide(),y.command("showChatButton"),Pe=!0},Xt=function(){Bt(".cx-browseFile")[0].value=null,Y.find(".cx-menu .cx-upload").focus()},Qt=function(){$e=!1,We=!1,xe=!0,Ne=!1,ht=0,clearInterval(zt),zt=!1},ea=function(){Bt("form[data-async]").addClass("cx-parentDisable"),Bt(".cx-input, .cx-submit, .cx-form .cx-btn-default").attr("tabindex",-1),Bt(".cx-input, .cx-option").addClass("cx-disabled"),Bt(".cx-emoji").hide(),Bt(".cx-menu > .cx-icon[role='button']").addClass("cx-disabled")},ta=function(){Bt("form[data-async]").removeClass("cx-parentDisable"),Bt(".cx-input, .cx-submit, .cx-form .cx-btn-default").removeAttr("tabindex"),Bt(".cx-input, .cx-option").removeClass("cx-disabled"),!T.emojis||Ie&&(T.emojiListConfig||T.emojiListI18n)||Bt(".cx-emoji").show(),Bt(".cx-menu > .cx-icon[role='button']").removeClass("cx-disabled")},aa=function(){var e={},a={},n={firstname:1,lastname:1,email:1,subject:1,nickname:1},i={};return Bt(".cx-form .cx-input").each(function(){n[this.name]?e[this.name]=t.getInputValue(this):a[this.name]=t.getInputValue(this),i[this.name]=t.getInputValue(this)}),{reserved:e,userData:a,form:i}},na=function(){Bt(".cx-form-wrapper").show(),Bt(".cx-transcript").hide(),Bt(".cx-input-container").hide(),Bt(".cx-footer").show(),Re=!1},ia=function(){Bt(".cx-form-wrapper").hide(),Bt(".cx-transcript").show(),Bt(".cx-input-container").show(),Bt(".cx-footer").hide(),Y.addClass("cx-transcript-view"),Re=!0,Ht(),Bt(".cx-message-input").trigger("keyup").trigger("focus"),_t=y.data(it+".capabilities"),_t&&!_t.fileUpload&&(De=!1,X.hide()),zt=setInterval(function(){he||Ft||Bt(".cx-screen-reader-transcript").empty()},5e3)},ra=function(e,t,a){var e=e||Bt(".cx-overlay.cx-dynamic");if("fill"==a){var n=t?0:Bt(".cx-footer").outerHeight();e.outerHeight(Y.outerHeight()-n-Bt(".cx-titlebar").outerHeight())}else"fit"==a&&e.css("height","auto")},ca=function(e,a,n){var i=e||Bt(".cx-overlay.cx-dynamic");ra(i,a,n),i.show(),t.focusOverlay(i)},oa=function(e){(e||Bt(".cx-overlay.cx-dynamic")).hide()},sa=function(e,t){var a=v.Errors[e+""];return void 0!==a||me||(a=v.Errors.Generic),a||t||""},la=function(a){if(a=a.data||a,pe){switch(N||(N=[]),a.status+""){case"400":if(a.status+""=="400"&&a.responseJSON&&a.responseJSON.error)ba(v.Errors.StartFailed);else if(a.responseJSON&&a.responseJSON.errors){var n="";e.each(a.responseJSON.errors||[],function(e){N.push(this.code+""),e>0&&(n+="<br/><br/>"),n+=sa(this.code),ka(this.code),t.log(this)}),n&&ba(n)}else{var n="";a.responseText&&"string"==typeof a.responseText&&(a.responseText=JSON.parse(a.responseText)||[]),e.each(a.responseText.errors||[],function(e){e>0&&(n+="<br/><br/>");var a=qa(this.filename),i={};switch(n+=sa(this.code),n=n.replace("<%FilenameFull%>",this.filename).replace("<%FilenameTruncated%>",a),i={sErrors:n},N.push(this.code+""),this.code+""){case"201":n=n.replace("<%MaxFilesAllowed%>",this.advice),i.sErrors=n,wa(i);break;case"202":var r=t.bytesToSize(parseInt(this.advice));n=n.replace("<%MaxAttachmentsSize%>",r),i.sErrors=n,wa(i);break;case"203":wa(i)}t.log(this)})}break;case"0":if(me){if("FileUploadError"==a.errorReason){var i=qa(a.filename),n=v.Errors.FileSendFailed,r={},c=[];n=n.replace("<%FilenameFull%>",a.filename).replace("<%FilenameTruncated%>",i),c[0]=a.file,r.files=c,wa({sErrors:n,isRetryAllowed:!0,file:r})}}else ba(v.Errors.StartFailed)}if(a.errors){var o="",s=!1;N||(N=[]),e.each(a.errors||[],function(e){var a=this.response||{},n=a.status;N.push(this.code+""),e>0&&(o+="<br/><br/>"),o+=sa(this.code,this.text),ka(this.code),!me||It||!n||401!==n&&403!==n&&"5"!=n.toString().charAt(0)||(s=!0,o=sa(n,this.text)),t.log(this)}),o&&(s?ha(o):ba(o))}}},da=function(e){var a=e||{},n=a.data;sn(),N||(N=[]),N.push("restoreFailed"),q=tn(),y.publish("closed",cn()),rn(),ln(),T.chatButton.enabled&&y.command("showChatButton"),y.command("reInvite",{statusCode:n&&n.status||""}),t.deleteCookie(wt),t.deleteCookie("_genesys.widgets.webchat.state.unreadMessages")},pa=function(){ea(),Bt(".cx-button-minimize, .cx-button-close").attr("tabindex",-1),e(".cx-transcript").is(":visible")&&(Bt(".cx-transcript").find("button").attr("tabindex",-1),Bt(".cx-transcript > * [tabindex=0], .cx-input-container * [tabindex=0]").attr("tabindex",-1),Bt(".cx-transcript *").attr("focusable",!1),Bt(".cx-transcript a").addClass("cx-a-disabled").attr("tabindex",-1),Bt(".cx-transcript").addClass("cx-scroll-disabled"),e(".cx-emoji-selection-menu").is(":visible")&&Bt(".cx-emoji-selection-menu > * [tabindex=0]").attr("tabindex",-1))},ua=function(){e(".cx-input-container").is(":visible")&&Bt(".cx-input-container, .cx-input-container *").attr({tabindex:"-1","aria-hidden":!0})},xa=function(t){ta(),Bt(".cx-button-minimize, .cx-button-close").removeAttr("tabindex"),e(".cx-transcript").is(":visible")&&(Bt(".cx-transcript").find("button").removeAttr("tabindex"),Bt(".cx-transcript > * [tabindex=-1]:not(.cx-space), .cx-input-container * [tabindex=-1]").attr("tabindex",0),Bt(".cx-transcript a").removeClass("cx-a-disabled").removeAttr("tabindex"),Bt(".cx-transcript *").removeAttr("focusable"),Bt(".cx-transcript").removeClass("cx-scroll-disabled"),e(".cx-emoji-selection-menu").is(":visible")&&Bt(".cx-emoji-selection-menu > * [tabindex=-1]").attr("tabindex",0))},ma=function(){var a=e(h);return pa(),Bt(".cx-alert.cx-general").remove(),a.addClass("cx-binary-alert").find("p.i18n").html(v.Errors[404]||""),a.find(".i18n.cx-error-button.cx-btn-primary").html(v.ChatErrorPrimaryButton||"").on("keydown click",function(e){t.validInput(e)&&y.command("close").done(function(e){me=!1,y.command("open")})}),a.find(".i18n.cx-error-button.cx-btn-default").html(v.ChatErrorDefaultButton||"").on("keydown click",function(e){t.validInput(e)&&y.command("close")}),a.show(),t.populateLanguageStrings(a,v),a.insertBefore(Bt(".cx-webchat-smokescreen")),Bt(".cx-smokescreen").show(),a.find(".cx-btn-primary").trigger("focus"),t.focusOverlay(a,".cx-error-button"),a},ha=function(a){pa(),It=setTimeout(function(){var n=e(h);return Bt(".cx-alert.cx-general").remove(),n.addClass("cx-binary-alert").find("p.i18n").html(a||v.Errors[500]||""),n.find(".i18n.cx-error-button.cx-btn-primary").html(v.ChatErrorPrimaryButton||"").on("keydown click",function(e){t.validInput(e)&&y.command(it+".endChat").always(function(){y.command("close").always(function(e){y.command("open")})})}),n.find(".i18n.cx-error-button.cx-btn-default").html(v.ChatErrorDefaultButton||"").on("keydown click",function(e){t.validInput(e)&&(xa(),ya(n),jt||(jt=setTimeout(function(){y.command(it+".endChat").always(function(){ba(v.Errors.CriticalFault)})},T.endChatOnErrorThreshold-T.promptEndChatOnError)))}),n.show(),t.populateLanguageStrings(n,v),n.insertBefore(Bt(".cx-webchat-smokescreen")),Bt(".cx-smokescreen").show(),n.find(".cx-btn-primary").trigger("focus"),Et=!0,n},T.promptEndChatOnError)},ba=function(a,n){if(!Et){var i=e(h);return pa(),Bt(".cx-alert.cx-general").remove(),i.addClass("cx-normal-alert").find("p.i18n").html(a||v.ChatError||""),i.find(".i18n.cx-error-button").html(n||v.ChatErrorButton||"").on("keydown click",function(a){t.validInput(a)&&(xa(),ya(i),re&&e(re).focus())}),i.show(),t.populateLanguageStrings(i,v),i.insertBefore(Bt(".cx-webchat-smokescreen")),Bt(".cx-smokescreen").show(),i.find(".cx-btn-primary").trigger("focus"),i}},ga=function(){t.showWaiting(Y),ea()},fa=function(){t.hideWaiting(Y),ta(),re&&e(re).focus()},wa=function(a){pa();var n=e(m);return Bt(".cx-alert.general").remove(),n.find(".cx-buttons-binary").hide(),a.isRetryAllowed&&(n.find(".cx-buttons-binary").show(),n.find(".cx-buttons-single").hide()),t.populateAllPlaceholders(n,v),n.find(".cx-reason").html(a.sErrors||""),n.find(".cx-upload-cancel").html(v.FileTransferError||"").on("keydown click",function(e){t.validInput(e)&&(ya(n),Bt("div.cx-spinner").remove(),ta(),xa(),Xt())}),n.find(".cx-upload-confirm").html(v.FileTransferRetry||"").on("keydown click",function(e){t.validInput(e)&&(xa(),ya(n),ga(),y.command(it+".sendFile",{files:a.file}).done(function(e){Xt()}).fail(function(e){Xt(),Bt("div.cx-spinner").remove(),ta()}).always(function(){fa()}))}).focus(),a.isRetryAllowed&&(n.find(".cx-buttons-single").hide(),n.find(".cx-buttons-double").show(),n.find(".cx-upload-cancel").html(v.FileTransferCancel||""),n.find(".cx-buttons-binary .cx-upload-cancel").attr("aria-label",v.AriaFileTransferCancel)),n.show(),Bt(".cx-smokescreen").show(),n.insertBefore(Bt(".cx-webchat-smokescreen")),n.find(".cx-btn-primary").trigger("focus"),t.focusOverlay(n),n},va=function(){var a=Bt(".cx-survey-offer");Ba(),a.find(".cx-survey-question-body").html(v.SurveyOfferQuestion),a.find(".cx-survey-confirm").html(v.ShowSurveyAccept).on("keydown click",function(e){t.validInput(e)&&(window.open(tt),Ra())}),a.find(".cx-survey-cancel").html(v.ShowSurveyReject).on("keydown click",function(a){t.validInput(a)&&(e.ajax({url:at,type:"POST",crossDomain:!0}),Ra())}),ke=!1},ya=function(t){Et&&(Et=!1),t?t.remove():Bt(".cx-alert.cx-general").remove(),Bt(".cx-smokescreen").hide(),Bt(".cx-form-wrapper").is(":visible")&&Bt("input.cx-error").length?Bt("input.cx-error:first").trigger("focus"):re&&e(re).focus()},ka=function(t){var a=Bt(".cx-form");switch(t+""){case"102":a.find("input[name=firstname]").addClass("cx-error").attr("aria-invalid",!0);break;case"103":a.find("input[name=lastname]").addClass("cx-error").attr("aria-invalid",!0);break;case"161":a.find("input[name=firstname], input[name=lastname]").addClass("cx-error").attr("aria-invalid",!0);break;case"364":a.find("input[name=email]").addClass("cx-error").attr("aria-invalid",!0)}Bt("input.cx-error").one("input",function(t){t.target.value&&void 0!=t.target.value&&""!=t.target.value&&e(this).removeClass("cx-error").attr("aria-invalid","false")})},Ca=function(){Bt(".cx-form input").removeClass("cx-error").removeAttr("aria-invalid")},Aa=function a(n){y.command("WebChatService.restore").fail(function(){var i=e(this).data("userData")||n.userData||{},r=aa();i=e.extend(i,Xe,r.userData),Ca(),t.validateForm(Bt(".cx-form"))&&(t.showLoading(Y),pa(),Bt(".cx-smokescreen").show(),D=r.form,y.publish("submitted",cn()),y.command(it+".startChat",e.extend(r.reserved,{userData:i,async:Me,form:r.form,interactionData:Qe})).fail(function(e){G=tn(),y.publish("rejected",cn()),1==e.statusCode?ba(v.Errors.ChatUnavailable):"retry"==e.statusCode&&a(n)}).always(function(){t.hideLoading(Y),xa()}))})},Sa=function(){me=!0,fe=!1,ge=!1,we=!1,ue=!1,xe=!1,y.command("App.registerAutoLoad"),Ie&&Bt(".cx-footer").hide(),ia(),Lt(),$||($=tn(),y.publish("started",cn())),Y.removeClass("cx-disabled"),Bt(".cx-smokescreen").hide(),A()},Ta=function(){Bt(".cx-form input").val("")},_a=function(){Bt(".cx-alert.cx-chat-end").show(),pa(),Bt(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-chat-end"),".cx-end-confirm")},Ia=function(){Bt(".cx-alert.cx-chat-end").hide(),Bt(".cx-smokescreen").hide(),xa(),re&&e(re).focus(),e(Y.find("[role=alert] button")).is(":visible")||e(Y.find("[role=alertdialog]")).is(":visible")||Y.find(".cx-button-group .cx-button-close").focus()},ja=function(){Bt(".cx-alert.cx-async-chat-end").show(),pa(),Bt(".cx-smokescreen").show(),ca(Bt(".cx-overlay.cx-async"),!1,"fit"),t.focusOverlay(e(".cx-alert.cx-async-chat-end"),".cx-async-chat-close")},Ea=function(){Bt(".cx-alert.cx-async-chat-end").hide(),Bt(".cx-smokescreen").hide(),oa(Bt(".cx-overlay.cx-async")),xa(),re&&e(re).focus()},za=function(){Bt(".cx-history-loading").hide(),qe=!1},Fa=function(a){rt=a,Bt(".cx-alert.cx-chat-close"),Bt(".cx-alert.cx-chat-close").show(),pa(),Bt(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-chat-close"),".cx-close-confirm")},Da=function(){Bt(".cx-alert.cx-chat-close").hide(),Bt(".cx-smokescreen").hide(),xa(),re&&e(re).focus()},Ba=function(){Bt(".cx-alert.cx-survey-offer").show(),Bt(".cx-survey-confirm").trigger("focus"),pa(),Bt(".cx-smokescreen").show(),t.focusOverlay(e(".cx-alert.cx-survey-offer"),".cx-survey-confirm")},Ra=function(){Bt(".cx-alert.cx-survey-offer").hide(),Bt(".cx-smokescreen").hide(),xa(),re&&e(re).focus()},Oa=function(a,n){var i=t.getDateString(new Date);return e(i===n?"<div class='cx-message cx-date' data-date="+a.date+">"+v.todayLabel+"</div>":"<div class='cx-message cx-date' data-date="+a.date+">"+a.dayName+", "+a.monthName+" "+a.dayNumber+"</div>")},Ma=function(e){if(me){var t=e||Bt(".cx-message-input").val()||"";t=t.substr(0,lt),""!=(t=t.trim())&&(y.command(it+".sendMessage",{message:t,type:"text"}).done(function(e){e&&1==e.statusCode&&(ba(v.Errors.MessageFailed),Bt(".cx-message-input").val(t)),Bt(".cx-send").fadeOut()}),e||Bt(".cx-message-input").val("").trigger("change"))}},La=function(){T.unminimizeOnAlert?y.command("minimize"):(Ke++,t.getCookie(kt)&&!he&&qt(),Ut()),re&&e(re).focus()},Na=function(a,n){var i="",r=Bt(".cx-overlay.cx-static"),c=!1;r.addClass("cx-idle-dialog"),"IdleAlert"==a.type?(r.attr("role","alert"),st++,Ce&&La(),i=v["IdleMessage"+st]||a.text,a.userData&&"CLOSE"==a.userData["next-idle-timer-type"]&&(c=1e3*parseInt(n||a.userData["next-idle-timer-secs"]))):"IdleClose"==a.type&&(r.attr("role","alert"),st=-1,Ce&&La(),i=v.IdleMessageClose||a.text),St&&(St.remove(),oa(r)),St=e("<div id='cx_idle_message'>"+i+"</div>"),r.empty().append(St),c&&(r.removeAttr("role"),St.append("<div class='cx-idle-countdown'></div>"),t.populateAllPlaceholders(St),St.find(".cx-idle-countdown").append(t.Generate.Countdown({time:c,showIcon:!0,sIdleMessageId:"cx_idle_message",aCountdownIntervals:dt}))),ca(r,!1,"fit"),St.addClass("cx-idle-alert"),-1==st&&(st=0)},Pa=function(){st=0,St&&(St.remove(),oa(Bt(".cx-overlay.cx-static"))),St=!1},$a=function(t,a){var n="";return a||(a=v.AgentNameDefault),t&&(n=e("<img alt="+a+">"),n[0].src=t),n},Wa=function(a){var n=ae,i=ae,r="",c=a.type||"",p="",m=a.action,h=a.bHTML,b=a.index,g="",f=!1,w=a.timestamp&&an(a.timestamp),k=w&&t.getDateString(w.date),C=w&&Oa(w,k),A=!1,S="",_=a.avatar,I=_t&&_t.pagination,j=t.linkify(t.sanitizeHTML(a.text)),E=!1,z=a.isUnreadMessage||!1;if(h?a.text=a.text:e("<p>"+j+"</p>").find("a").length&&(a.text=j,h=!0),a.originalMessage&&a.originalMessage.index&&(g=a.originalMessage.index),$e&&ne&&(n=ne,i=ne,ne=!1),a.timestamp&&i.data("time")&&(S=$e?new Date(i.data("time")).getTime()-new Date(a.timestamp).getTime():new Date(a.timestamp).getTime()-new Date(i.data("time")).getTime()),i&&a.name==i.data("name")&&S<=Ye&&"External"!=c&&(i.hasClass("cx-them")&&Ua(c)||i.hasClass("cx-you")&&"Client"===c)?A=i.parent():f=!0,"injected"==c&&!0===a.bCustom||"injected"!=c&&!1===a.bubble?n=e("<div></div>"):"object"==o(a.bubble)?(n=e(d),a.bubble.fill&&(n.find(".cx-bubble").css({"background-color":a.bubble.fill}),n.find(".cx-bubble-arrow svg").css({fill:a.bubble.fill})),a.bubble.radius&&n.find(".cx-bubble").css({"border-radius":a.bubble.radius}),!1===a.bubble.time&&n.find(".cx-time").hide(),!1===a.bubble.name&&n.find(".cx-name").hide(),!1===a.bubble.avatar&&(n.find(".cx-avatar-wrapper, .cx-bubble-arrow").hide(),n.find(".cx-bubble").css({"margin-left":0,"margin-right":0}))):"Agent"==c||"External"==c||"Supervisor"==c||"Bot"===c?(n=e(l),"External"==c||"Bot"==c?L++:M++,"Agent"!=c&&"Supervisor"!=c&&"Bot"!=c||"FileTransfer"!=m||(n=e(x),Ha(n,a),h=!1),st&&Pa()):"Client"==c?(n=e(d),O++,"FileTransfer"!=m||a.loading||(Bt("div.cx-spinner").remove(),n=e(u),Ha(n,a),h=!1),Pa()):n=e("<div><span class='cx-avatar'></span><span class='cx-name'></span><span class='cx-message'></span></div>"),!Me&&!I||xe||!w||$e||ht===w.dayNumber||(Bt(".cx-transcript").append(C),ht=w.dayNumber),"injected"==c)n.addClass("cx-injected");else if("External"==c){var F=t.getI18nString(a.text,v);F&&(r=a.text,a.text=F),n.addClass("cx-system"),n.attr({"data-message":r,"data-message-type":"transcript"}),n.find(".aria-name").attr("aria-label",v.AriaSystemSaid),n.addClass("i18n")}else n.addClass("cx-participant"),Ua(c)?(n.addClass("cx-them").addClass("cx-"+c).addClass("cx-"+c.toLowerCase()),n.find(".aria-name").attr("aria-label",c+" "+(a.name?a.name:"")+" "+v.AriaSaid)):(n.addClass("cx-you"),n.find(".aria-name").attr("aria-label",v.AriaYouSaid)),T.avatars&&(Ua(c)&&T.avatars.agent&&T.avatars.bot?"Bot"==c?n.find(".cx-avatar").html(t.Generate.Icon(T.avatars.bot)).addClass(T.avatars.bot):n.find(".cx-avatar").html(t.Generate.Icon(T.avatars.agent)).addClass(T.avatars.agent):"Client"==c&&T.avatars.customer&&n.find(".cx-avatar").html(t.Generate.Icon(T.avatars.customer)).addClass(T.avatars.customer));if(_){var D=$a(_,c);"Client"==c?n.find(".cx-avatar.user").html(D):"Bot"==c?n.find(".cx-avatar.bot").html(D):n.find(".cx-avatar.agent").html(D)}"object"==o(a.bubble)&&("object"==o(a.bubble.avatar)&&(a.bubble.avatar.custom&&n.find(".cx-avatar-wrapper").html(a.bubble.avatar.custom),a.bubble.avatar.icon&&(n.find(".cx-avatar").removeClass(T.avatars.agent+" "+T.avatars.customer+" "+T.avatars.bot),n.find(".cx-avatar").html(t.Generate.Icon(a.bubble.avatar.icon)).addClass(a.bubble.avatar.icon))),"left"==a.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-them"):"right"==a.bubble.direction?n.removeClass("cx-them cx-you cx-system").addClass("cx-you"):"none"==a.bubble.direction&&n.removeClass("cx-them cx-you cx-system")),n.find(".cx-name").text(a.name);var B=n.find(".cx-message-text");!0===a.bCustom||!1===a.bubble?n.html(a.text):h?B.html(a.text):B.text(a.text),!Ue&&B&&B[0]&&(B[0].innerHTML=B[0].innerHTML.replace(/\n|\r/g,"<br/>")),Ue&&"Client"==c&&(B[0].innerHTML=B[0].innerHTML.replace(/\n|\r/g,"<br/>")),Bt(".cx-transcript .cx-NewTextBubble").removeClass("cx-NewTextBubble"),n.addClass("cx-NewTextBubble"),"FileTransfer"==m&&(a.loading?n=e(s):a.transferFailed&&(n=e("<div></div>"))),A||(A=e("<div class='cx-message-group'></div>")),n&&(g||b)&&(n[0].id="cx-chat-index-"+(g||b)),$e?b<=xt?(A.prepend(n),Bt(".cx-transcript .cx-loading-container").after(A),f&&ht!==w.dayNumber?(Bt(".cx-transcript .cx-loading-container").after(C),ht=w.dayNumber):(Bt('.cx-transcript div[data-date="'+k+'"]').remove(),Bt(".cx-transcript .cx-loading-container").after(C)),xt=b):b>mt&&A.append(n):(A.append(n),Bt(".cx-transcript").append(A)),$e||"Agent"!=c&&"External"!=c&&"Supervisor"!=c&&"Bot"!==c||!z||n.attr("data-unread-message",!0),ae=n,Me&&0===a.key&&(ne=n),e.when(function(){return n.hide().fadeIn()}()).done(function(){Ya()}),Ce&&Y.addClass("cx-NewMessage"),a.timestamp&&(p=t.getFormattedTime(a.timestamp,nt),n.find(".cx-time").text(p),n.data("time",a.timestamp)),n.data("name",a.name),n&&(Va(),"Client"!=a.type&&Ke++,Ce&&(t.getCookie(kt)&&!he&&qt(),(a.restoring||he)&&t.setCookie(yt,Ke),Ut()));var R=function(e){var a,n=["generic","list-vertical","single-selection-list"];if(a=t.checkPath(e,"eventAttributes.structured-content.genesys-chat.content")){if("string"==typeof a)try{a=JSON.parse(a)}catch(e){}if(a)return"string"==typeof a.contentType&&"object"==o(a.content)&&-1!==n.indexOf(a.contentType)}else if(e)return"string"==typeof e.contentType&&"object"==o(e.content)&&-1!==n.indexOf(e.contentType);return!1}(a.originalMessage);if($e||(E=n.clone(),E.removeAttr("id"),R&&(E.attr("data-rm-ndgenerictext-sr","true"),E.find(".cx-message-text").remove(),E.find(".cx-time").remove()),Bt(".cx-screen-reader-transcript").append(E),"Firefox"!==t.getBrowserandOS().browser&&n.find(".cx-space").attr("aria-hidden",!0)),$e&&We&&a.key&&a.length){var N=a.key,P=a.length-1;N!==P&&N!==P-1||en()}else Ya();return a.text&&""!=a.text.replace(" ","")||n.addClass("cx-hidden-message"),y.publish("messageAdded",{data:a,message:a,originalMessage:a.originalMessage,html:n||void 0,transcript:Bt(".cx-transcript")[0]||void 0,index:b,id:"cx-chat-index-"+(g||b),prevMessageHTML:i}),n},Ha=function(e,a){if(!a.transferFailed){a.size||(a.size=t.checkPath(a,"originalMessage.userData.file-size")||0);var n=t.bytesToSize(parseInt(a.size))||"",i=e.find(".cx-download-btn");e.find(".cx-name").text(a.name),e.find(".cx-filesentmsg").text(v.FileSent),e.find(".cx-filename").text(qa(a.filename)),e.find(".cx-filename").attr("title",a.filename),e.find(".cx-filesize").text(n),i.html(v.DownloadButton),i.attr({"aria-label":v.AriaDownloadButton+" "+a.filename}),i.attr("fileId",a.fileId),i.on("keydown click",function(e){t.validInput(e)&&y.command(it+".downloadFile",{fileId:this.getAttribute("fileId"),fileName:a.filename||""})}),ta()}},qa=function(e){return e=e||"",e.length>36&&(e=e.substr(0,16)+"..."+e.substr(e.length-5,e.length)),e},Ua=function(e){return"Agent"==e||"Supervisor"==e||"Bot"==e},Za=function(e){y.command(it+".endChat"),t.hideWaiting(Y),t.hideLoading(Y),ua()},Ja=function(e,t,n,i,r){var c="",e=(e+"").toLowerCase()||"text",s=!1;switch(e){case"text":if("object"===(void 0===n?"undefined":o(n))&&n[0]&&n[0].outerHTML)c=n[0].outerHTML;else{if("string"!=typeof n)return!1;c=n}break;case"html":c=n;break;default:return!1}return s=Wa({name:t,text:"text"==e&&Ue?a(c,{sanitize:!0}):c,type:"injected",timestamp:(new Date).getTime(),bHTML:!("html"!=e&&!Ue),bCustom:!!i,bubble:r||{direction:"none",radius:10,avatar:!1},restoring:!1}),Ya(),s},Ga=function(e){if(Y){var t=e&&e.data||"";t&&t.from?(Bt(".cx-transcript .cx-agent-typing[data-id="+t.from.id+"]").remove(),Ya()):(Bt(".cx-transcript .cx-agent-typing").remove(),Ya()),Y.removeClass("cx-agent-typing")}},Va=function(){Y&&Bt(".cx-transcript").append(Bt(".cx-transcript .cx-agent-typing").detach())},Ya=function(){var e=Bt(".cx-transcript")[0];!e||We||qe||(e.scrollTop=e.scrollHeight,de=e.scrollHeight)},Ka=function(){Y.length&&Y.find(".cx-transcript").find("[data-unread-message='true']").each(function(){e(this).removeAttr("data-unread-message")})},Xa=function(t,a){var n=null;return function(){var i=this,r=arguments,c=arguments[0]||!1,o=c&&-1!==ot.indexOf(c.which);me&&e(i).scrollTop()<=0&&o&&Bt(".cx-history-loading").show(),clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},a)}},Qa=function(){Y&&Y.find(".cx-transcript").on("mousewheel touchend keyup scroll",Xa(function(t){if(!He&&me){var a=t&&-1!==ot.indexOf(t.which);e(this).scrollTop()<=0&&!qe&&a&&!Pe&&(qe=!0,e(this).scrollTop(0),y.command(it+".fetchHistory").always(function(){za()}))}},150))},en=function(){var e=Bt(".cx-transcript")[0],t=parseInt(parseInt(e.scrollHeight)-parseInt(de));Bt(".cx-transcript").animate({scrollTop:t},500,"swing"),de+=t,We=!1},tn=function(){return(new Date).getTime()},an=function(e){var a=!1,n=new Date(e);return n&&(a={monthName:v.MonthLabels[n.getMonth()],dayName:v.DayLabels[n.getDay()],dayNumber:n.getDate(),date:t.getDateString(n)}),a},nn=function(){It&&(clearTimeout(It),It=""),jt&&(clearTimeout(jt),jt="")},rn=function(){I=!1,E=!1,z=!1,F=!1,D={},j=!1,B=0,R=0,O=0,M=0,L=0,N=[],P=!1,$=!1,W=!1,H=!1,q=!1,G=!1,U=!1,Z=!1,J=!1,V=null},cn=function(e){var t=e||{},a=t.initialState,n={proactive:I,proactiveData:j,prefilled:E,autoSubmitted:z,coBrowseInitiated:F,filesUploaded:B,numAgents:R,userMessages:O,agentMessages:M,systemMessages:L,errors:N.length>0&&N,opened:P,started:$,cancelled:W,rejected:G,completed:H,closed:q,elapsed:(q||tn())-P,waitingForAgent:!!U&&U-$,agentReached:U,botReached:Z,supervisorReached:J,form:D,id:V};return a||on(n),y.data("metadata",n),n},on=function(e){var a=c({},e);a.form={},t.setCookie(Ct,JSON.stringify(a))},sn=function(){var e=JSON.parse(t.getCookie(Ct)||!1)||!1;e&&(I=e.proactive,j=e.proactiveData,E=e.prefilled,z=e.autoSubmitted,F=e.coBrowseInitiated,B=e.filesUploaded,R=e.numAgents,O=e.userMessages,M=e.agentMessages,L=e.systemMessages,N=e.errors,P=e.opened,$=e.started,W=e.cancelled,H=e.completed,q=e.closed,U=e.agentReached,Z=e.botReached,J=e.supervisorReached,V=e.id)},ln=function(){t.deleteCookie(Ct)},dn=function(){"minimized"===T.async.newMessageRestoreState?(Ce=!0,t.setCookie(yt,Ke),Ke++,y.command("open",{minimized:!0})):y.command("open")},pn=function(a){Je=!0;var n=a.data||{},i=n.proactive,r=n.proactiveData,c=n.id;a.data&&"boolean"==typeof a.data.async&&Le&&(Me=a.data.async),Ue=a.data&&"boolean"==typeof a.data.markdown?a.data.markdown:T.markdown,a.data.restoring||Ne||(t.deleteCookie("_genesys.widgets.webchat.state.unreadMessages"),me=!1,ue=!1,xe=!1,he=!1,rn()),y.command("Toaster.close"),V=c||V||t.guid(),Y&&Y[0]||(Y=Yt()),"object"!=o(a.data.formJSON)||Array.isArray(a.data.formJSON)||Gt(a.data.formJSON),Bt(".cx-message-input").attr("maxlength",lt),Bt(".cx-char-count").html(lt).attr("aria-label",lt+" "+v.AriaCharRemaining),Array.isArray(pt)&&pt.length&&pt.forEach(function(e){ut.push(e/100*lt)}),!1===a.data.form||Ne?ia():na(),Bt(".cx-emoji").hide(),!0!==T.emojis||Ie&&(T.emojiListConfig||T.emojiListI18n)||Bt(".cx-emoji").show(),!1===De?X.hide():!0===De&&X.show(),!1===Oe?Bt(".cx-char-count").hide():!0===Oe&&Bt(".cx-char-count").show(),y.command("WindowManager.registerDockView",{html:Y,draggable:!0}).done(function(n){if(!0===a.data.minimized&&y.command("minimize",{minimized:!0}),pe=!0,y.data("open",pe),Xe=e.extend(!0,a.data.attachedData,a.data.userData),Qe=a.data.interactionData||{},y.command("hideChatButton"),Ie||je?Y.addClass("cx-mobile"):Y.addClass("cx-desktop"),t.populateAllPlaceholders(Y,v),Ht(),y.command(it+".registerTypingPreviewInput",{input:Bt(".cx-message-input")}),a.data&&"object"===o(a.data.form)){var c=a.data.form;Bt("#cx_webchat_form_firstname").val(c.firstname||""),Bt("#cx_webchat_form_lastname").val(c.lastname||""),Bt("#cx_webchat_form_email").val(c.email||""),Bt("#cx_webchat_form_subject").val(c.subject||""),E=!0,!0===c.autoSubmit&&(z=!0,Aa({userData:Xe||{},interactionData:Qe||{}}))}a.data.userData&&void 0!=o(a.data.userData.webengagement)&&(I=!0),!0!==i&&void 0===r||(I=!0,j=!!(r&&Object.keys(r).length>0)&&r),P||(P=tn()),y.publish("opened",cn()),Jt(),Bt(".cx-message-input").trigger("keyup"),(Me||_t&&_t.pagination)&&(Y.find(".cx-transcript").prepend(e(w)),t.populateIcons(Y),Qa()),Ya(),e(".cx-form-wrapper").is(":visible")&&Y.find("input").first().focus(),le=Y.parents(".cx-window-manager").find(".cx-widget-status"),a.data.restoring&&Y.find(".cx-input-container .cx-message-input ").focus(),a.deferred.resolve()}).fail(function(){a.deferred.reject("WindowManager.registerDockView failed")})};y.subscribe(it+".error",la),y.subscribe(it+".started",Sa),y.subscribe("Survey.onSubmit",function(e){}),y.subscribe("CoBrowse.online",function(e){Ae=!0,Ht()}),y.subscribe("CoBrowse.started",function(e){!e.data.widgetOrigin||"WebChat"==e.data.widgetOrigin&&e.data&&e.data.token?(F=!0,"WebChat"==e.data.widgetOrigin&&(Ge=e.data.token,y.command(it+".sendMessage",{message:"{start:"+Ge+"}"}))):"WebChat"!=e.data.widgetOrigin&&(Te=!0),Se=!0,Ht()}),y.subscribe("CoBrowse.stopped",function(){Ge=!1,Se=!1,Te=!1,Ht(),K&&e(K).focus()}),y.subscribe(it+".messageReceived",function(t){if(za(),nn(),Ft=!1,t.data&&t.data.messages&&t.data.messages.length){var n=t.data.messages,i=t.data.originalMessages,r=t.data.idleTimeCountDown||"",c=!1,o=n[n.length-1];t.data.oldMessages?($e=!0,We=!0):($e=!1,We=!1),xt=n[0].index,mt=n[n.length-1].index;var s=o&&o.type&&"idlealert"===o.type.toLowerCase()||!1;!st||r||s||Pa(),Ka();var l=!t.data.restoring&&!he&&n.length>1;e.each(n||[],function(e){var t=this,o=i[e],s=t.from?t.from.type:"",d=t.from?t.from.name:"",p=(t.type||"").toLowerCase(),u=!1,x=t.html||!1;Ue&&"message"==p&&"External"!==s&&"Client"!==s&&!x&&t.text&&(t.text=a(t.text,{sanitize:!0}),t.html=!0);var m=l&&0===e;if("message"==p||"pushurl"==p||"structured"==p||"text"==p)Wa({restoring:t.restoring,index:t.index,name:d,avatar:t.avatar,text:t.text,type:s,timestamp:t.timestamp,originalMessage:o,bHTML:t.html||!1,bCustom:t.custom||!1,bubble:t.bubble||!0,key:e,length:n.length,isUnreadMessage:m}),c=!0;else if("participantjoined"==p||"participantleft"==p){if("participantjoined"==p)switch(s){case"Client":ue||(u="ChatStarted",ue=!0,xe=!1,Ta());break;case"Agent":u="AgentConnected";break;case"Supervisor":u="SupervisorConnected",we=!0,J=tn();break;case"Bot":u="BotConnected"}else if("participantleft"==p){switch(s){case"Agent":u="AgentDisconnected";break;case"Supervisor":u="SupervisorDisconnected";break;case"Bot":u="BotDisconnected"}"Agent"==s&&(u="AgentDisconnected"),"Supervisor"==s&&(u="SupervisorDisconnected"),"Bot"==s&&(u="BotDisconnected")}u&&(Wa({restoring:t.restoring,index:t.index,name:d,text:"Bot"==s?v[u].replace("<%Bot%>",d||v.BotNameDefault):v[u].replace("<%Agent%>",d||v.AgentNameDefault),type:"External",timestamp:t.timestamp,bHTML:t.html||!1,originalMessage:o,isUnreadMessage:m}),c=!0)}else"nicknameupdated"==p||("idlealert"==p||"idleclose"==p?Na(t,r):"fileuploaded"==p?(Wa({type:s,timestamp:(new Date).getTime(),filename:t.fileDetails["file-name"],name:d,size:t.fileDetails["file-size"],fileId:t.fileDetails["file-id"],text:v.FileSent,action:"FileTransfer",bHTML:t.html||!1,originalMessage:o,restoring:!1}),B++,c=!0):"filedeleted"==p||"customnotice"==p&&"_GCTI_GSS"==d&&(tt=JSON.parse(t.text).Survey_URL||"",at=JSON.parse(t.text).Cancel_URL||"",(ve||ye)&&(ke=!0)));"Client"==s&&st&&Pa()}),he&&(he=!1),Pe&&c&&dn()}}),y.subscribe(it+".restoreTimeout",da),y.subscribe(it+".restoreFailed",da),y.subscribe(it+".sessionLost",ma),y.subscribe(it+".agentConnected",function(e){nn(),U=tn(),R=Object.keys(e.data.agents).length,cn(),ve=!0,""!=tt&&(ke=!0),Ht(),Lt()}),y.subscribe(it+".agentDisconnected",function(e){ve=0!==e.data.numAgentsConnected,Ht()}),y.subscribe(it+".botConnected",function(e){nn(),Z=tn(),cn(),ye=!0,""!=tt&&(ke=!0)}),y.subscribe(it+".botDisconnected",function(e){ye=!1}),y.subscribe(it+".restored",function(e){me=!0,he=!0,Ft=!0,y.command("App.registerAutoLoad");var a=t.getCookie(wt);(Ce||"true"==a)&&(He=!0),Me=!(!e.data||!e.data.async),Ue="boolean"==typeof T.markdown&&T.markdown;var n=JSON.parse(t.getCookie(vt)||!1)||!1;Y=Yt(),sn(),Ie&&Bt(".cx-footer").hide(),Ut(),e.pending&&(_e=!0),Y.removeClass("cx-disabled"),Me&&!n?Ne=!0:pe?ia():y.command("open",{restoring:!0,form:!1,minimized:!!("true"==a||Ie&&T.minimizeOnMobileRestore)}),Ya(),Ht()}),y.subscribe(it+".ended",function(t){me=!1,Qt(),A(),y.command("App.deregisterAutoLoad"),Wa({index:(new Date).getTime(),name:"",text:v.ChatEnded,type:"External",timestamp:0}),st&&Pa(),ke&&va(),U||Z?(H=tn(),y.publish("completed",cn())):0==H&&(W=tn(),y.publish("cancelled",cn())),Bt(".cx-transcript .cx-agent-typing").length&&Ga(),Y.addClass("cx-disabled"),Ht(),ln(),e(Y.find("[role=alert] button")).is(":visible")||e(Y.find("[role=alertdialog]")).is(":visible")||Y.find(".cx-button-group .cx-button-close").focus(),Bt(".cx-screen-reader-transcript").empty()}),y.subscribe(it+".agentTypingStarted",function(a){if(0==Bt(".cx-transcript .cx-agent-typing").length){var n=e(l),i=a.data.from.avatar||!1,r=i?$a(i,v.AgentNameDefault):t.Generate.Icon(T.avatars.agent),c=y.data(it+".agentTyping"),o="";n.addClass("cx-agent-typing cx-them"),n.attr("data-id",a.data.from.id||"test"),n.find(".cx-name").text(a.data.from.name||v.AgentNameDefault),n.find(".cx-message-text").text(v.AgentTyping.replace("<%Agent%>",a.data.from.name||v.AgentNameDefault)),n.find(".cx-avatar").html(r),v.AriaAgentTyping&&(n.find(".cx-message-text").attr("aria-hidden",!0),n.find(".cx-bubble").append('<div class="cx-common-screen-reader">'+v.AriaAgentTyping.replace("<%Agent%>",a.data.from.name||v.AgentNameDefault)+"</div>")),o=n.clone(),Bt(".cx-transcript").append(n),Bt(".cx-screen-reader-transcript").append(o),"boolean"==typeof c&&(Dt&&(clearInterval(Dt),Dt=!1),Dt=setInterval(function(){var e=Bt(".cx-transcript .cx-agent-typing").length;(c=y.data(it+".agentTyping"))||(e&&Ga(),clearInterval(Dt),Dt=!1)},1e3)),e.when(function(){var e=n.find(".cx-avatar"),t=n.find(".cx-bubble");return e.hide(),t.hide(),e.fadeIn()&&t.slideDown()}()).done(function(){Ya()})}}),y.subscribe(it+".agentTypingTimeout",Ga),y.subscribe(it+".agentTypingStopped",Ga),y.subscribe(it+".restoredOffline",function(a){ba(v.Errors.RestoredOffline).find(".cx-btn-primary").on("keydown click",function(a){t.validInput(a)&&(re&&e(re).focus(),y.command(it+".resetPollExceptions"))})}),y.subscribe(it+".chatServerWentOffline",function(a){ba(v.Errors.ChatServerWentOffline).find(".cx-btn-primary").on("keydown click",function(a){t.validInput(a)&&(re&&e(re).focus(),y.command(it+".resetPollExceptions"))})}),y.subscribe(it+".chatServerBackOnline",function(e){ya()}),y.subscribe(it+".disconnected",function(e){Fe||(ba(v.Errors.Disconnected),Fe=!0,t.showWaiting(Y),ea())}),y.subscribe(it+".reconnected",function(e){if(Fe){var a=ba(v.Errors.Reconnected);Fe=!1,setTimeout(function(){ya(a)},2e3),nn(),t.hideWaiting(Y),ta(),xa()}}),y.subscribe(it+".capabilitiesChanged",function(){var e=y.data(it+".capabilities");X&&T.uploadsEnabled&&e&&"boolean"==typeof e.fileUpload&&(e.fileUpload?X.show():X.hide())}),y.registerCommand("open",function(e){t.setCookie(vt,!0),_t=y.data(it+".capabilities"),Pe?(y.command("hideChatButton"),pe=!0,y.data("open",pe),Pe=!1,Y.show(),Ya(),!0===e.data.minimized?y.command("minimize",{minimized:!0}):Jt(),Y.find(".cx-input-container .cx-message-input").focus()):pe?e.deferred.reject("already opened"):!e.data.restoring&&!Ne&&_t&&_t.async?y.command(it+".asyncRestore").done(function(){e.deferred.resolve()}).fail(function(){pn(e)}):e.data.restoring?pn(e):y.command(it+".restore").fail(function(){pn(e)})}),y.registerCommand("close",function(e){Be&&!ue&&!xe&&Pt()?(Ce&&y.command("minimize"),Fa(e)):Wt(e)}),y.registerCommand("configure",function(a){if(a.data&&Object.keys(a.data).length){var n=a.data,i=T;if("boolean"==typeof n.inviteOnRestoreTimeout&&(i.inviteOnRestoreTimeout=n.inviteOnRestoreTimeout),"boolean"==typeof n.markdown&&(i.markdown=n.markdown),"object"==o(n.chatButton)){var r=n.chatButton;"boolean"==typeof r.enabled&&(i.chatButton.enabled=r.enabled),"number"==typeof r.openDelay&&(i.chatButton.openDelay=parseInt(r.openDelay)),"string"==typeof r.template&&(i.chatButton.template=r.template),"string"==typeof r.effect&&(i.chatButton.effect=r.effect),"number"==typeof r.effectDuration&&(i.chatButton.effectDuration=parseInt(r.effectDuration)),"boolean"==typeof r.hideDuringInvite&&(i.chatButton.hideDuringInvite=r.hideDuringInvite),"string"==typeof r.servicePlugin&&(it=r.servicePlugin),te=e(i.chatButton.template),te.on("keydown click",function(e){t.validInput(e)&&y.command("open")}),te.attr("aria-label",v.ChatButton),t.populateAllPlaceholders(te,v),i.chatButton.enabled&&y.command("showChatButton")}if("object"==o(n.proactive)){var c=n.proactive;"boolean"==typeof c.enabled&&(i.proactive.enabled=c.enabled),"number"==typeof c.idleTimer&&(i.proactive.idleTimer=c.idleTimer),"number"==typeof c.cancelTimer&&(i.proactive.cancelTimer=c.cancelTimer),Ot()}if("boolean"==typeof n.emojis&&(i.emojis=n.emojis),"string"==typeof n.emojiList&&(i.emojiListConfig=k(n.emojiList)),"boolean"==typeof n.uploadsEnabled&&(De=n.uploadsEnabled,i.uploadsEnabled=n.uploadsEnabled),"boolean"==typeof n.confirmFormCloseEnabled&&(Be=n.confirmFormCloseEnabled),"boolean"==typeof n.charCountEnabled&&(Oe=n.charCountEnabled),"number"==typeof n.maxMessageLength&&(lt=parseInt(n.maxMessageLength)),"boolean"==typeof n.unminimizeOnAlert&&(i.unminimizeOnAlert=n.unminimizeOnAlert),("object"==o(n.ariaCharRemainingIntervals)&&Array.isArray(n.ariaCharRemainingIntervals)||"boolean"==typeof n.ariaCharRemainingIntervals)&&!0!==n.ariaCharRemainingIntervals&&(pt=n.ariaCharRemainingIntervals),("object"==o(n.ariaIdleAlertIntervals)&&Array.isArray(n.ariaIdleAlertIntervals)||"boolean"==typeof n.ariaIdleAlertIntervals)&&!0!==n.ariaIdleAlertIntervals&&(dt=n.ariaIdleAlertIntervals),"object"==o(n.async)){var s=n.async;"boolean"==typeof s.enabled&&(i.async.enabled=s.enabled),"string"==typeof s.newMessageRestoreState&&(i.async.newMessageRestoreState=s.newMessageRestoreState),"function"==typeof s.setSessionData&&"function"==typeof s.getSessionData&&(Le=!0),Me=n.cometD&&n.cometD.enabled&&i.async.enabled}if("object"==o(n.transport)&&"object"==o(n.transport.async)){var l=n.transport.async;"boolean"==typeof l.enabled&&(i.async.enabled=l.enabled),"string"==typeof l.newMessageRestoreState&&(i.async.newMessageRestoreState=l.newMessageRestoreState),"function"==typeof l.setSessionData&&"function"==typeof l.getSessionData&&(Le=!0),Me=l.enabled}if("object"==o(n.autoInvite)){var d=n.autoInvite;"boolean"==typeof d.enabled&&(i.proactive.enabled=d.enabled),"number"==typeof d.timeToInviteSeconds&&(i.proactive.idleTimer=d.timeToInviteSeconds),"number"==typeof d.inviteTimeoutSeconds&&(i.proactive.cancelTimer=d.inviteTimeoutSeconds),Ot()}if("object"!=o(n.form)||Array.isArray(n.form)||(_=n.form),"string"==typeof n.transferLink&&(Ee=!0),"string"==typeof n.inviteLink&&(ze=!0),"string"==typeof n.timeFormat||"number"==typeof n.timeFormat){var p=parseInt(n.timeFormat);12!=p&&24!=p||(nt=p)}else nt=CXBus.data("App.timeFormat");"boolean"==typeof n.minimizeOnMobileRestore&&(i.minimizeOnMobileRestore=n.minimizeOnMobileRestore),"number"==typeof n.promptEndChatOnError&&(i.promptEndChatOnError=n.promptEndChatOnError),"number"==typeof n.endChatOnErrorThreshold&&(i.endChatOnErrorThreshold=n.endChatOnErrorThreshold),a.deferred.resolve()}else a.deferred.reject("Invalid configuration")}),y.registerCommand("minimize",function(e){var a=e.data.minimized,n=function(){A(),(Ie||je)&&Y.removeAttr("aria-modal"),Y.addClass("cx-minimized").find(".cx-button-minimize.cx-icon").removeClass("cx-button-minimize").addClass("cx-button-maximize").attr("aria-label",v.AriaMaximize),Ce=!0,t.getCookie(yt)||t.setCookie(yt,Ke),y.publish("minimized")},i=function(){(Ie||je)&&Y.attr("aria-modal",!0),Y.hasClass("cx-minimized")&&Y.removeClass("cx-minimized").find(".cx-button-maximize.cx-icon").removeClass("cx-button-maximize").addClass("cx-button-minimize").attr("aria-label",v.AriaMinimize),Ce=!1,t.deleteCookie(yt),t.deleteCookie(kt),He=!1,y.publish("unminimized"),Bt("[role=alertdialog]").is(":visible")&&Bt("[role=alertdialog] .cx-btn-primary").is(":visible")&&Bt("[role=alertdialog] .cx-btn-primary").trigger("focus"),me&&Ya(),Jt(),Bt(".cx-idle-dialog").is(":hidden")&&Bt(".cx-message-input").trigger("keyup"),Ya()};Y.hasClass("cx-dragged-off")?(Y.attr("style",""),y.command("WindowManager.registerDockView",{html:Y,draggable:!0})):!0===a?Ce&&!Ce||n():!1===a?!Ce&&Ce||i():void 0!==a&&""!==a||(Ce?i():Ce||n()),Ut(),me&&t.setCookie(wt,Ce),e.deferred.resolve()}),y.registerCommand("endChat",function(e){me?(Za(),e.deferred.resolve()):e.deferred.reject("there is no active chat session to end")}),y.registerCommand("invite",function(a){pe?a.deferred.reject("Chat is already open. Ignoring invite command."):(Vt(),T.chatButton.hideDuringInvite&&y.command("hideChatButton"),y.command("Toaster.open",{type:"generic",title:v.InviteTitle,body:v.InviteBody,icon:"chat",controls:"",buttons:{type:"binary",primary:v.InviteAccept,secondary:v.InviteReject}}).done(function(n){if(n.html){a.deferred.resolve(),Q=e(n.html);var i=t.guid(),r="cx-toaster-title"+i,c="cx-toaster-body"+i;Q.find(".cx-title").attr("id",r),Q.find(".cx-body").attr("id",c),Q.attr({"aria-labelledby":r,"aria-describedby":c}),Q.find(".cx-btn.cx-btn-primary").attr("aria-label",v.AriaInviteAccept),Q.find(".cx-btn.cx-btn-primary").on("keydown click",function(e){t.validInput(e)&&(t.setCookie("_genesys.widgets.webchat.autoInvite.disabled",!0),y.command("Toaster.close").done(function(){y.command("open")}))}).trigger("focus"),Q.find(".cx-btn.cx-btn-default").attr("aria-label",v.AriaInviteReject),Q.find(".cx-btn.cx-btn-default").on("keydown click",function(e){t.validInput(e)&&(t.setCookie("_genesys.widgets.webchat.autoInvite.disabled",!0),y.command("Toaster.close"),T.chatButton.enabled&&y.command("showChatButton"))})}}).fail(function(e){}))}),y.registerCommand("reInvite",function(a){if(Je||pe||!T.inviteOnRestoreTimeout)a.deferred.reject("Chat is already open. Ignoring invite command.");else{Vt();var n=a.data&&a.data.statusCode?v.Errors[a.data.statusCode]:v.RestoreTimeoutBody;T.chatButton.hideDuringInvite&&y.command("hideChatButton"),y.command("Toaster.open",{type:"generic",title:v.RestoreTimeoutTitle,body:n,icon:"chat",controls:"close",buttons:{type:"binary",primary:v.RestoreTimeoutAccept,secondary:v.RestoreTimeoutReject}}).done(function(n){if(n.html){a.deferred.resolve();var i=e(n.html),r=t.guid(),c="cx-toaster-title"+r,o="cx-toaster-body"+r;i.find(".cx-title").attr("id",c),i.find(".cx-body").attr("id",o),i.attr({"aria-labelledby":c,"aria-describedby":o}),i.find(".cx-btn.cx-btn-primary").attr("aria-label",v.AriaRestoreTimeoutAccept),i.find(".cx-btn.cx-btn-default").attr("aria-label",v.AriaRestoreTimeoutReject),i.find(".cx-btn.cx-btn-primary").on("keydown click",function(e){t.validInput(e)&&y.command("Toaster.close").done(function(){y.command("open")})}).trigger("focus"),i.find(".cx-btn.cx-btn-default").on("keydown click",function(e){t.validInput(e)&&(y.command("Toaster.close"),T.chatButton.enabled&&y.command("showChatButton"))})}}).fail(function(e){})}}),y.registerCommand("injectMessage",function(e){pe&&(ue||xe)?e.deferred.resolve(Ja(e.data.type,e.data.name,e.data.text,e.data.custom,e.data.bubble)):e.deferred.reject("No chat session to inject into.")}),y.registerCommand("showOverlay",function(t){if(pe){var a=e();a=Bt(!0===t.data.static?".cx-overlay.cx-static":".cx-overlay.cx-dynamic"),a.html(t.data.html||""),ca(a,t.data.hideFooter||!1,t.data.mode||"fill"),t.deferred.resolve()}else t.deferred.reject("WebChat is not currently open. Ignoring command.")}),y.registerCommand("hideOverlay",function(t){if(pe){var a=e();a=Bt(!0===t.data.static?".cx-overlay.cx-static":".cx-overlay.cx-dynamic"),a.html(t.data.html),oa(a),t.deferred.resolve()}else t.deferred.reject("WebChat is not currently open. Ignoring command.")}),y.registerCommand("showChatButton",function(t){if(Vt(),T.chatButton.enabled&&!be){var a=t.data&&"number"==typeof t.data.openDelay?parseInt(t.data.openDelay):T.chatButton.openDelay,n=t.data&&"number"==typeof t.data.duration?parseInt(t.data.duration):T.chatButton.effectDuration;te.find(".i18n").each(function(){e(this).data("message")&&e(this).html(v[e(this).data("message")])}),Ve=setTimeout(function(){Ve=!1,y.command("WindowManager.registerSideButton",{template:te.hide()}).done(function(e){if(0==n)te.css({display:"inline-block"});else switch(T.chatButton.effect){case"slide":te.css({display:"inline-block",width:""});var a=te.outerWidth()+"px";te.css({width:0}),te.animate({width:a},n,function(){be=!0,t.deferred.resolve()});break;case"fade":te.fadeIn(n,function(){be=!0,t.deferred.resolve()});break;default:te.css({display:"inline-block"}),be=!0,t.deferred.resolve()}y.publish("chatButtonDisplayed")})},a)}else t.deferred.reject("Chat button is not enabled in the configuration, or already visible. Ignoring command.")}),y.registerCommand("hideChatButton",function(e){if(be||Ve){Ve&&clearTimeout(Ve);var t=e.data&&"number"==typeof e.data.duration?parseInt(e.data.duration):T.chatButton.effectDuration;if(0==t)te.css({display:"none"}),te.detach();else switch(T.chatButton.effect){case"slide":te.animate({width:0},t,function(){be=!1,te.detach(),e.deferred.resolve()});break;case"fade":te.fadeOut(t,function(){te.detach(),be=!1,e.deferred.resolve()});break;default:te.css({display:"none"}),be=!1,te.detach(),e.deferred.resolve()}}else e.deferred.reject("Chat button is already hidden. Ignoring command.")}),y.subscribe("App.closeAll",function(e){y.command("close")}),y.subscribe("App.theme",function(e){y.command("App.reTheme",{html:Y})}),y.subscribe("App.timeFormat",function(e){nt=e.data.timeFormat}),y.subscribe("App.i18n",function(e){"object"==o(e.data.webchat)&&(Vt(),Y&&(Bt(".cx-title").text(v.ChatTitle),Bt(".cx-button-minimize").attr("aria-label",v.AriaMinimize),Bt(".cx-button-close").attr("aria-label",v.AriaClose)))}),y.subscribe("App.zoom",function(e){"mobile"==e.data.layout?(je=!0,Y.removeClass("cx-desktop").addClass("cx-mobile"),Jt()):(je=!1,Y.removeClass("cx-mobile").addClass("cx-desktop"),Zt())}),y.subscribe("App.mobileMode",function(){e(window).on("orientationchange",Jt),e(window).on("resize",Jt),Jt(),Ie=!0}),y.subscribe("App.ready",function(){CXBus.command("RichMediaBridge.LOAD"),y.command(it+".LOAD"),y.command("App.registerI18n",{i18n:v,namespace:"webchat",lang:"en"}).always(function(){y.command("configure",_genesys.widgets.webchat),y.ready(),y.republish("ready")})}),y.registerCommand("hide",function(e){pe&&!Ze&&Y?(Ze=!0,Y.hide(),e.deferred.resolve()):e.deferred.reject("WebChat is not open or is already hidden.")}),y.registerCommand("show",function(e){pe&&Ze&&Y?(Ze=!1,Y.show(),e.deferred.resolve()):e.deferred.reject("WebChat is not open or is already showing.")}),y.subscribe("App.data.pageFocus",function(e){me||!pe||Re||y.command("WebChatService.restore")}),y.data("metadata",cn({initialState:!0}))}}.apply(t,i))&&(e.exports=r)},"./webapp/plugins/cx-webchat/html/cx-loading.html":function(e,t){e.exports='<div class="cx-history-loading cx-loading-container" >\n    <div class="cx-loading-icon cx-icon" data-icon="loading" role="alert" aria-busy="true" aria-label="loading"></div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-alert.html":function(e,t){e.exports='<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_error_desc" class="cx-alert cx-general">\n\t<div class="cx-wrapper">\n\t\t<p id="cx_chat_error_desc" class="i18n"></p>\n\t\t<div class="cx-button-group cx-button-single">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorButton"></button>\n\t\t</div>\n\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t<button class="cx-error-button cx-btn cx-btn-default i18n" data-message="ChatErrorDefaultButton"></button>\n\t\t\t<button class="cx-error-button cx-btn cx-btn-primary i18n" data-message="ChatErrorPrimaryButton"></button>\n\t\t</div>\n\t</div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-async-close.html":function(e,t){e.exports='<div class="cx-alert cx-async-chat-end" id="cx_chat_async_close">\n    <div class="cx-button-group cx-buttons-binary">\n        <button class="i18n cx-btn cx-btn-default" data-message="AsyncChatEnd"></button>\n        <button class="cx-btn cx-btn-primary cx-async-chat-close i18n" data-message="AsyncChatClose"></button>\n    </div>\n</div>\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-chat-button.html":function(e,t){e.exports='<div class="cx-widget cx-webchat-chat-button cx-side-button" role="button" tabindex="0" data-message="ChatButton" data-gcb-service-node="true">\n\t<span class="cx-icon" data-icon="chat"></span>\n\t<span class="i18n cx-chat-button-label" data-message="ChatButton"></span>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu-custom.html":function(e,t){e.exports='<div class="cx-emoji-selection-menu">\n\t<ul class="cx-emoji-table cx-theme" role="listbox">\n\t\t\n\t</ul>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-emoji-menu.html":function(e,t){e.exports='<div class="cx-tooltip-menu">\n\t<ul class="cx-emoji-menu cx-theme" role="listbox">\n\t\t<li class="cx-option cx-smile" role="option" aria-posinset="1" aria-setsize="3" aria-label="smile emoji" data-unicode="&#128515;" data-ascii=":)" tabindex="0">&#128515;</li>\n\t\t<li class="cx-option cx-thumbsup" role="option" aria-posinset="2" aria-setsize="3" aria-label="thumbsup emoji" data-unicode="&#128077;" data-ascii="" tabindex="0">&#128077;</li>\n\t\t<li class="cx-option cx-sad" role="option" aria-posinset="3" aria-setsize="3" aria-label="sad emoji" data-unicode="&#128542;" data-ascii=":(" tabindex="0">&#128542;</li>\n\t</ul>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-agent.html":function(e,t){e.exports='<div class="cx-message cx-them cx-NewTextBubble" tabindex="0">\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\t\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7" focusable="false">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" data-message="DownloadButton"></button>\r\n\t\t\t<span class="cx-filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\t\r\n</div>\r\n\r\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-file-transfer-customer.html":function(e,t){e.exports='<div class="cx-message cx-you cx-NewTextBubble" tabindex="0">\r\n\r\n\t<p class="cx-bubble cx-file-transfer-block">\r\n\t\t<span class="cx-user-detail">\r\n\t\t\t<span aria-hidden="true" class="cx-user-detail cx-name" data-message="name"></span>\r\n\t\t\t<span class="cx-message-text cx-filesentmsg i18n " data-message="FileSent"></span>\r\n\t\t\t<span class="cx-filename" data-message="filename"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-lastrow">\r\n\t\t\t<button class="cx-btn cx-btn-primary cx-download-btn i18n cx-submit" data-message="DownloadButton"></button>\r\n\t\t\t<span class="cx-filesize"></span>\r\n\t\t</span>\r\n\t\t<span class="cx-time"></span>  \r\n\t</p>\r\n\r\n\t<div class="cx-bubble-arrow">\r\n\t\t<svg height="7" width="7" focusable="false">\r\n\t\t\t<polygon class="cx-left" points="0,0 7,0 7,7"></polygon>\r\n\t\t\t<polygon class="cx-right" points="0,0 0,7 7,0"></polygon>\r\n\t\t</svg>\r\n\t</div>\r\n\r\n\t<div class="cx-avatar-wrapper">\r\n\t\t<div class="cx-avatar cx-avatar-customer"></div>\r\n\t</div>\r\n\r\n</div>\r\n'},"./webapp/plugins/cx-webchat/html/cx-webchat-message-agent.html":function(e,t){e.exports='<div class="cx-message" tabindex="0">\n\t\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\t\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7" focusable="false">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<div class="cx-bubble">\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<span class="aria-name" data-message="AriaTheySaid" role="text"></span>\n\t\t<div class="cx-message-text"></div>\n\t\t<div class="cx-common-screen-reader cx-space" tabindex="-1">&nbsp;&nbsp;&nbsp;</div>\n\t\t<span class="cx-time"></span>\n\t</div>\n\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-message-customer.html":function(e,t){e.exports='<div class="cx-message" tabindex="0">\n\t\n\t<div class="cx-bubble">\n\t\t<span aria-hidden="true" class="cx-name"></span>\n\t\t<span class="aria-name" data-message="AriaYouSaid" role="text"></span>\n\t\t<div class="cx-message-text"></div>\n\t\t<div class="cx-common-screen-reader cx-space" tabindex="-1">&nbsp;&nbsp;&nbsp;</div>\n\t\t<span class="cx-time"></span>\n\t</div>\n\n\t<div class="cx-bubble-arrow">\n\t\t<svg height="7" width="7" focusable="false">\n\t\t  <polygon class="cx-left" points="0,0 7,0 7,7" />\n\t\t  <polygon class="cx-right" points="0,0 0,7 7,0" />\n\t\t</svg>\n\t</div>\n\n\t<div class="cx-avatar-wrapper">\n\t\t<div class="cx-avatar"></div>\n\t</div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-spinner.html":function(e,t){e.exports='<div class="cx-spinner" role="alert" aria-busy="true" aria-label="uploading">\r\n    <div class="cx-spinner-container cx-fast-spinner cx-dark-background">\r\n        <div class="cx-spin-circle"></div>\r\n        <div class="cx-spin-inner-circle"></div>\r\n    </div>\r\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-toaster.html":function(e,t){e.exports='<div class="cx-webchat-toaster" tabindex="0">\n\t<div class="cx-message"><%= message %></div>\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat-upload-failed-alert.html":function(e,t){e.exports='<div role="alertdialog" aria-modal="true" aria-describedby="cx_unsupported_file_upload_message" class="cx-alert">\r\n\t\t<div class="cx-wrapper">\r\n\t\t\t<div class="cx-warning" id="cx_unsupported_file_upload_message">\r\n\t\t\t\t<span class="cx-icon" role="img" aria-label="warning" data-icon="alert-triangle" ></span>\r\n\t\t\t\t<p class="cx-reason cx-theme-text"></p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="cx-button-group cx-buttons-single">\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-cancel" data-message="FileTransferError"></button>\r\n\t\t\t</div>\r\n\t\t\t<div class="cx-button-group cx-buttons-binary">\r\n\t\t\t\t<button class="cx-btn cx-btn-default i18n cx-upload-cancel" data-message="FileTransferError"></button>\r\n\t\t\t\t<button class="cx-btn cx-btn-primary i18n cx-upload-confirm" data-message="FileTransferRetry"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>'},"./webapp/plugins/cx-webchat/html/cx-webchat.html":function(e,t){e.exports='<div>\n\n\t<div role="alert" class="cx-container cx-overlay cx-static"></div>\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_information" class="cx-container cx-overlay cx-dynamic"></div>\n\n\t<div role="alertdialog" aria-describedby="cx_chat_async_close" class="cx-container cx-overlay cx-async"></div>\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_end_question" class="cx-alert cx-chat-end">\n\t\t<div class="cx-wrapper">\n\t\t\t<p id="cx_chat_end_question" class="i18n" data-message="ChatEndQuestion"></p>\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-end-cancel cx-btn cx-btn-default i18n" data-message="ChatEndCancel"></button>\n\t\t\t\t<button class="cx-end-confirm cx-btn cx-btn-primary i18n" data-message="ChatEndConfirm"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div role="alertdialog" aria-modal="true" aria-describedby="cx_chat_confirm_close" class="cx-alert cx-chat-close">\n\t\t<div class="cx-wrapper">\n\t\t\t<p class="i18n" id="cx_chat_confirm_close" data-message="ConfirmCloseWindow"></p>\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-close-cancel cx-btn cx-btn-default i18n" data-message="ConfirmCloseCancel"></button>\n\t\t\t\t<button class="cx-close-confirm cx-btn cx-btn-primary i18n" data-message="ConfirmCloseConfirm"></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="cx-webchat-smokescreen"></div>\n\n\t<div class="cx-form-wrapper">\n\t\t<div class="cx-form cx-form-horizontal" role="form">\n\t\t\n\t\t\t<div class="cx-form-inputs"></div>\n\t\t\t\n\t\t\t<div class="cx-button-group cx-buttons-binary">\n\t\t\t\t<button class="cx-btn cx-btn-default i18n" data-message="ChatFormCancel"></button>\n\t\t\t\t<button class="cx-submit cx-btn cx-btn-primary i18n" data-message="ChatFormSubmit"></button>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\n\t<div class="cx-transcript"></div>\n\t\n\t<div class="cx-input-container">\n\n\t\t\t<div class="cx-textarea-cell">\n\n\t\t\t\t<textarea class="cx-message-input cx-input i18n cx-form-control" id="cx_input" maxlength="" data-message="ChatInputPlaceholder" data-message-type="placeholder"></textarea>\n\n\t\t\t\t<div class="cx-send cx-icon i18n" data-icon="send" role="button" data-message="ChatInputSend" data-message-type="title" tabindex="0"></div>\n\n\t\t\t</div>\n\n\t\t\t<div class="cx-menu-cell">\n\t\t\t\t<ul class="cx-menu" role="none">\n\n\t\t\t\t\t<li role="none"><div class=\'cx-menu-item cx-emoji cx-icon i18n\' role="button" data-icon="smiley" data-message="ActionsEmoji" data-message-type="title" tabindex="0" aria-haspopup="true"></div></li>\n\n\t\t\t\t\t<li role="none"><div class=\'cx-menu-item cx-upload cx-icon i18n\' role="button" data-icon="attach" data-message="ActionsSendFile" data-message-type="title" tabindex="0"></div></li>\n\t\t\t\t\t<li role="none"><div class=\'cx-menu-item cx-cobrowse cx-icon i18n\' role="button" data-icon="cobrowse" data-message="ActionsCobrowseStart" data-message-type="title" tabindex="0"></div></li>\n\t\t\t\t\t<li role="none"><span class=\'cx-menu-item cx-char-count cx-inert\' id="cx-charCount" tabindex="0" role="text"></span></li>\n\n\t\t\t\t\t<li role="none"><div class=\'cx-menu-item cx-icon cx-branding-icon cx-inert\' data-icon="branding" title="Powered by Genesys"></div></li>\n\t\t\t\t</ul>\n\n\t\t\t</div>\n\n\t\t\t<form class="cx-form-horizontal" data-async enctype="multipart/form-data" novalidate>\n\t\t\t\t<label for="cx_browse_file" style="display: none;"></label>\n\t\t\t\t<input type="file" id="cx_browse_file" class="cx-browseFile" style="display: none;"/>\n\t\t\t</form>\n\n\t\t\x3c!-- <button class="cx-send i18n" data-message="ChatSend"></button> --\x3e\n\t</div>\n\t<div class="cx-common-screen-reader cx-screen-reader-transcript" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></div>\n\n</div>'},"./webapp/plugins/cx-webchat/less/cx-webchat.less":function(e,t,a){var n=a("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less");"string"==typeof n&&(n=[[e.i,n,""]]);var i={};i.transform=void 0;var r=a("./node_modules/style-loader/lib/addStyles.js")(n,i);n.locals&&(e.exports=n.locals),n.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less",function(){var t=a("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./webapp/plugins/cx-webchat/less/cx-webchat.less");"string"==typeof t&&(t=[[e.i,t,""]]),r(t)}),e.hot.dispose(function(){r()})},"./webapp/plugins/cx-webchat/nls/string.json":function(e,t){e.exports={ChatButton:"Chat",ChatStarted:"Chat Started",ChatEnded:"Chat Ended",AgentNameDefault:"Agent",AgentConnected:"<%Agent%> Connected",AgentDisconnected:"<%Agent%> Disconnected",BotNameDefault:"Bot",BotConnected:"<%Bot%> Connected",BotDisconnected:"<%Bot%> Disconnected",SupervisorNameDefault:"Supervisor",SupervisorConnected:"<%Agent%> Connected",SupervisorDisconnected:"<%Agent%> Disconnected",AgentTyping:"...",AriaAgentTyping:"Agent is typing",AgentUnavailable:"Sorry. There are no agents available. Please try later.",ChatTitle:"Live Chat",ChatEnd:"X",ChatClose:"X",ChatMinimize:"Min",ChatFormFirstName:"First Name",ChatFormLastName:"Last Name",ChatFormNickname:"Nickname",ChatFormEmail:"Email",ChatFormSubject:"Subject",ChatFormPlaceholderFirstName:"Required",ChatFormPlaceholderLastName:"Required",ChatFormPlaceholderNickname:"Optional",ChatFormPlaceholderEmail:"Optional",ChatFormPlaceholderSubject:"Optional",ChatFormSubmit:"Start Chat",AriaChatFormSubmit:"Start Chat",ChatFormCancel:"Cancel",AriaChatFormCancel:"Cancel",ChatFormClose:"Close",ChatInputPlaceholder:"Type your message here",ChatInputSend:"Send",AriaChatInputSend:"Send",ChatEndQuestion:"Are you sure you want to end this chat session?",ChatEndCancel:"Cancel",ChatEndConfirm:"End chat",AriaChatEndCancel:"Cancel",AriaChatEndConfirm:"End chat",ConfirmCloseWindow:"Are you sure you want to close chat?",ConfirmCloseCancel:"Cancel",ConfirmCloseConfirm:"Close",AriaConfirmCloseCancel:"Cancel",AriaConfirmCloseConfirm:"Close",ActionsDownload:"Download transcript",ActionsEmail:"Email transcript",ActionsPrint:"Print transcript",ActionsCobrowseStart:"Start Co-browse",AriaActionsCobrowseStartTitle:"Opens the Co-browse session",ActionsSendFile:"Attach Files",AriaActionsSendFileTitle:"Opens a file upload dialog",ActionsEmoji:"Send Emoji",ActionsCobrowseStop:"Exit Co-browse",ActionsVideo:"Invite to Video Chat",ActionsTransfer:"Transfer",ActionsInvite:"Invite",InstructionsTransfer:"Open this link on another device to transfer your chat session</br></br><%link%>",InstructionsInvite:"Share this link with another person to add them to this chat session</br></br><%link%>",InviteTitle:"Need help?",InviteBody:"Let us know if we can help out.",InviteReject:"No thanks",InviteAccept:"Start chat",AriaInviteAccept:"Start chat",AriaInviteReject:"No thanks",ChatError:"There was a problem starting the chat session. Please retry.",ChatErrorButton:"OK",AriaChatErrorButton:"OK",ChatErrorPrimaryButton:"Yes",ChatErrorDefaultButton:"No",AriaChatErrorPrimaryButton:"Yes",AriaChatErrorDefaultButton:"No",DownloadButton:"Download",AriaDownloadButton:"Download",FileSent:"has sent:",FileTransferRetry:"Retry",AriaFileTransferRetry:"Retry",FileTransferError:"OK",AriaFileTransferError:"OK",FileTransferCancel:"Cancel",AriaFileTransferCancel:"Cancel",RestoreTimeoutTitle:"Chat ended",RestoreTimeoutBody:"Your previous chat session has timed out. Would you like to start a new one?",RestoreTimeoutReject:"No thanks",RestoreTimeoutAccept:"Start chat",AriaRestoreTimeoutAccept:"Start chat",AriaRestoreTimeoutReject:"No thanks",EndConfirmBody:"Would you really like to end your chat session?",EndConfirmAccept:"End chat",EndConfirmReject:"Cancel",AriaEndConfirmAccept:"End chat",AriaEndConfirmReject:"Cancel",SurveyOfferQuestion:"Would you like to participate in a survey?",ShowSurveyAccept:"Yes",ShowSurveyReject:"No",AriaShowSurveyAccept:"Yes",AriaShowSurveyReject:"No",UnreadMessagesTitle:"unread messages",AriaYouSaid:"You said",AriaSaid:"said",AriaSystemSaid:"System said",AriaWindowLabel:"Live Chat Window",AriaMinimize:"Live Chat Minimize",AriaMaximize:"Live Chat Maximize",AriaClose:"Live Chat Close",AriaEmojiStatusOpen:"Emoji picker dialog is opened",AriaEmojiStatusClose:"Emoji picker dialog is closed",AriaEmoji:"emoji",AriaCharRemaining:"Characters remaining",AriaMessageInput:"Message box",AsyncChatEnd:"End Chat",AsyncChatClose:"Close Window",AriaAsyncChatEnd:"End Chat",AriaAsyncChatClose:"Close Window",DayLabels:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],MonthLabels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],todayLabel:"Today",Errors:{102:"First name is required.",103:"Last name is required.",161:"Please enter your name.",201:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>The maximum number of attached files would be exceeded (<%MaxFilesAllowed%>).</p>",202:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>Upload limit and/or maximum number of attachments would be exceeded (<%MaxAttachmentsSize%>).</p>",203:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>File type is not allowed.</p>",204:"We're sorry but your message is too long. Please write a shorter message.",240:"We're sorry but we cannot start a new chat at this time. Please try again later.",364:"Invalid email address.",401:"We're sorry but we are not able to authorize the chat session. Would you like to start a new chat?",404:"We're sorry but we cannot find your previous chat session. Would you like to start a new chat?",500:"We're sorry, an unexpected error occurred with the service. Would you like to close and start a new Chat?",503:"We're sorry, the service is currently unavailable or busy. Would you like to close and start a new Chat again?",ChatUnavailable:"We're sorry but we cannot start a new chat at this time. Please try again later.",CriticalFault:"Your chat session has ended unexpectedly due to an unknown issue. We apologize for the inconvenience.",StartFailed:"There was an issue starting your chat session. Please verify your connection and that you submitted all required information properly, then try again.",MessageFailed:"Your message was not received successfully. Please try again.",RestoreFailed:"We're sorry but we were unable to restore your chat session due to an unknown error.",TransferFailed:"Unable to transfer chat at this time. Please try again later.",FileTransferSizeError:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'>'<%FilenameTruncated%>'</p></strong><p class='cx-advice'>File size is larger than the allowed size (<%MaxSizePerFile%>).</p>",InviteFailed:"Unable to generate invite at this time. Please try again later.",ChatServerWentOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay.",RestoredOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay.",Disconnected:"<div style='text-align:center'>Connection lost</div>",Reconnected:"<div style='text-align:center'>Connection restored</div>",FileSendFailed:"The file could not be sent.<br/><strong><p class='filename' title='<%FilenameFull%>'><%FilenameTruncated%></p></strong><p class='cx-advice'>There was an unexpected disconnection. Try again?</p>",Generic:"<div style='text-align:center'>An unexpected error occurred.</div>","pureengage-v3-rest-INVALID_FILE_TYPE":"Invalid file type. Only Images are allowed.","pureengage-v3-rest-LIMIT_FILE_SIZE":"File size is larger than the allowed size.","pureengage-v3-rest-LIMIT_FILE_COUNT":"The maximum number of attached files exceeded the limit.","pureengage-v3-rest-INVALID_CONTACT_CENTER":"Invalid x-api-key transport configuration.","pureengage-v3-rest-INVALID_ENDPOINT":"Invalid endpoint transport configuration.","pureengage-v3-rest-INVALID_NICKNAME":"First Name is required.","pureengage-v3-rest-AUTHENTICATION_REQUIRED":"We're sorry but we are not able to authorize the chat session.","purecloud-v2-sockets-400":"Sorry, something went wrong. Please verify your connection and that you submitted all required information properly, then try again.","purecloud-v2-sockets-500":"We're are sorry, an unexpected error occurred with the service.","purecloud-v2-sockets-503":"We're sorry, the service is currently unavailable.","pureconnect-v4-rest-400":"Sorry, something went wrong. Please verify your connection and that you submitted all required information properly, then try again.","pureconnect-v4-rest-500":"We're sorry, an unexpected error occurred with the service.","pureconnect-v4-rest-503":"We're sorry, the service is currently unavailable."}}}},["./webapp/plugins/cx-webchat/cx-webchat.js"]);