!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("perf_hooks"),require("url")):"function"==typeof define&&define.amd?define(["perf_hooks","url"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).__bloomberg__=e.__bloomberg__||{},e.__bloomberg__._abbaClientClass=t(e.require$$0,e.url))}(this,(function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(e),o=r(t),i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){var t={exports:{}};return e(t,t.exports),t.exports}var u,c,f=function(e){return e&&e.Math==Math&&e},l=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof i&&i)||function(){return this}()||Function("return this")(),d=Function.prototype,p=d.apply,v=d.bind,h=d.call,g="object"==typeof Reflect&&Reflect.apply||(v?h.bind(p):function(){return h.apply(p,arguments)}),m=Function.prototype,b=m.bind,y=m.call,w=b&&b.bind(y),E=b?function(e){return e&&w(y,e)}:function(e){return e&&function(){return y.apply(e,arguments)}},I=function(e){return"function"==typeof e},x=function(e){try{return!!e()}catch(e){return!0}},S=!x((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),O=Function.prototype.call,k=O.bind?O.bind(O):function(){return O.apply(O,arguments)},A={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,R={f:T&&!A.call({1:2},1)?function(e){var t=T(this,e);return!!t&&t.enumerable}:A},_=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},P=E({}.toString),C=E("".slice),N=function(e){return C(P(e),8,-1)},L=l.Object,j=E("".split),M=x((function(){return!L("z").propertyIsEnumerable(0)}))?function(e){return"String"==N(e)?j(e,""):L(e)}:L,D=l.TypeError,F=function(e){if(null==e)throw D("Can't call method on "+e);return e},U=function(e){return M(F(e))},B=function(e){return"object"==typeof e?null!==e:I(e)},$={},G=function(e){return I(e)?e:void 0},z=function(e,t){return arguments.length<2?G($[e])||G(l[e]):$[e]&&$[e][t]||l[e]&&l[e][t]},V=E({}.isPrototypeOf),W=z("navigator","userAgent")||"",X=l.process,H=l.Deno,K=X&&X.versions||H&&H.version,J=K&&K.v8;J&&(c=(u=J.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!c&&W&&(!(u=W.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=W.match(/Chrome\/(\d+)/))&&(c=+u[1]);var q=c,Q=!!Object.getOwnPropertySymbols&&!x((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&q&&q<41})),Y=Q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=l.Object,ee=Y?function(e){return"symbol"==typeof e}:function(e){var t=z("Symbol");return I(t)&&V(t.prototype,Z(e))},te=l.String,re=function(e){try{return te(e)}catch(e){return"Object"}},ne=l.TypeError,oe=function(e){if(I(e))return e;throw ne(re(e)+" is not a function")},ie=function(e,t){var r=e[t];return null==r?void 0:oe(r)},ae=l.TypeError,se=Object.defineProperty,ue="__core-js_shared__",ce=l[ue]||function(e,t){try{se(l,e,{value:t,configurable:!0,writable:!0})}catch(r){l[e]=t}return t}(ue,{}),fe=s((function(e){(e.exports=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.2",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),le=l.Object,de=function(e){return le(F(e))},pe=E({}.hasOwnProperty),ve=Object.hasOwn||function(e,t){return pe(de(e),t)},he=0,ge=Math.random(),me=E(1..toString),be=function(e){return"Symbol("+(void 0===e?"":e)+")_"+me(++he+ge,36)},ye=fe("wks"),we=l.Symbol,Ee=we&&we.for,Ie=Y?we:we&&we.withoutSetter||be,xe=function(e){if(!ve(ye,e)||!Q&&"string"!=typeof ye[e]){var t="Symbol."+e;Q&&ve(we,e)?ye[e]=we[e]:ye[e]=Y&&Ee?Ee(t):Ie(t)}return ye[e]},Se=l.TypeError,Oe=xe("toPrimitive"),ke=function(e,t){if(!B(e)||ee(e))return e;var r,n=ie(e,Oe);if(n){if(void 0===t&&(t="default"),r=k(n,e,t),!B(r)||ee(r))return r;throw Se("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var r,n;if("string"===t&&I(r=e.toString)&&!B(n=k(r,e)))return n;if(I(r=e.valueOf)&&!B(n=k(r,e)))return n;if("string"!==t&&I(r=e.toString)&&!B(n=k(r,e)))return n;throw ae("Can't convert object to primitive value")}(e,t)},Ae=function(e){var t=ke(e,"string");return ee(t)?t:t+""},Te=l.document,Re=B(Te)&&B(Te.createElement),_e=function(e){return Re?Te.createElement(e):{}},Pe=!S&&!x((function(){return 7!=Object.defineProperty(_e("div"),"a",{get:function(){return 7}}).a})),Ce=Object.getOwnPropertyDescriptor,Ne={f:S?Ce:function(e,t){if(e=U(e),t=Ae(t),Pe)try{return Ce(e,t)}catch(e){}if(ve(e,t))return _(!k(R.f,e,t),e[t])}},Le=/#|\.prototype\./,je=function(e,t){var r=De[Me(e)];return r==Ue||r!=Fe&&(I(t)?x(t):!!t)},Me=je.normalize=function(e){return String(e).replace(Le,".").toLowerCase()},De=je.data={},Fe=je.NATIVE="N",Ue=je.POLYFILL="P",Be=je,$e=E(E.bind),Ge=function(e,t){return oe(e),void 0===t?e:$e?$e(e,t):function(){return e.apply(t,arguments)}},ze=l.String,Ve=l.TypeError,We=function(e){if(B(e))return e;throw Ve(ze(e)+" is not an object")},Xe=l.TypeError,He=Object.defineProperty,Ke={f:S?He:function(e,t,r){if(We(e),t=Ae(t),We(r),Pe)try{return He(e,t,r)}catch(e){}if("get"in r||"set"in r)throw Xe("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},Je=S?function(e,t,r){return Ke.f(e,t,_(1,r))}:function(e,t,r){return e[t]=r,e},qe=Ne.f,Qe=function(e){var t=function(r,n,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,o)}return g(e,this,arguments)};return t.prototype=e.prototype,t},Ye=function(e,t){var r,n,o,i,a,s,u,c,f=e.target,d=e.global,p=e.stat,v=e.proto,h=d?l:p?l[f]:(l[f]||{}).prototype,g=d?$:$[f]||Je($,f,{})[f],m=g.prototype;for(o in t)r=!Be(d?o:f+(p?".":"#")+o,e.forced)&&h&&ve(h,o),a=g[o],r&&(s=e.noTargetGet?(c=qe(h,o))&&c.value:h[o]),i=r&&s?s:t[o],r&&typeof a==typeof i||(u=e.bind&&r?Ge(i,l):e.wrap&&r?Qe(i):v&&I(i)?E(i):i,(e.sham||i&&i.sham||a&&a.sham)&&Je(u,"sham",!0),Je(g,o,u),v&&(ve($,n=f+"Prototype")||Je($,n,{}),Je($[n],o,i),e.real&&m&&!m[o]&&Je(m,o,i)))},Ze=Array.isArray||function(e){return"Array"==N(e)};Ye({target:"Array",stat:!0},{isArray:Ze});var et=$.Array.isArray;var tt=Math.ceil,rt=Math.floor,nt=function(e){var t=+e;return t!=t||0===t?0:(t>0?rt:tt)(t)},ot=Math.min,it=function(e){return(t=e.length)>0?ot(nt(t),9007199254740991):0;var t},at=function(e,t,r){var n=Ae(t);n in e?Ke.f(e,n,_(0,r)):e[n]=r},st={};st[xe("toStringTag")]="z";var ut="[object z]"===String(st),ct=xe("toStringTag"),ft=l.Object,lt="Arguments"==N(function(){return arguments}()),dt=ut?N:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=ft(e),ct))?r:lt?N(t):"Object"==(n=N(t))&&I(t.callee)?"Arguments":n},pt=E(Function.toString);I(ce.inspectSource)||(ce.inspectSource=function(e){return pt(e)});var vt=ce.inspectSource,ht=function(){},gt=[],mt=z("Reflect","construct"),bt=/^\s*(?:class|function)\b/,yt=E(bt.exec),wt=!bt.exec(ht),Et=function(e){if(!I(e))return!1;try{return mt(ht,gt,e),!0}catch(e){return!1}},It=!mt||x((function(){var e;return Et(Et.call)||!Et(Object)||!Et((function(){e=!0}))||e}))?function(e){if(!I(e))return!1;switch(dt(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return wt||!!yt(bt,vt(e))}:Et,xt=xe("species"),St=l.Array,Ot=function(e,t){return new(function(e){var t;return Ze(e)&&(t=e.constructor,(It(t)&&(t===St||Ze(t.prototype))||B(t)&&null===(t=t[xt]))&&(t=void 0)),void 0===t?St:t}(e))(0===t?0:t)},kt=xe("species"),At=function(e){return q>=51||!x((function(){var t=[];return(t.constructor={})[kt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Tt=xe("isConcatSpreadable"),Rt=9007199254740991,_t="Maximum allowed index exceeded",Pt=l.TypeError,Ct=q>=51||!x((function(){var e=[];return e[Tt]=!1,e.concat()[0]!==e})),Nt=At("concat"),Lt=function(e){if(!B(e))return!1;var t=e[Tt];return void 0!==t?!!t:Ze(e)};Ye({target:"Array",proto:!0,forced:!Ct||!Nt},{concat:function(e){var t,r,n,o,i,a=de(this),s=Ot(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(Lt(i=-1===t?a:arguments[t])){if(u+(o=it(i))>Rt)throw Pt(_t);for(r=0;r<o;r++,u++)r in i&&at(s,u,i[r])}else{if(u>=Rt)throw Pt(_t);at(s,u++,i)}return s.length=u,s}});var jt,Mt=l.String,Dt=function(e){if("Symbol"===dt(e))throw TypeError("Cannot convert a Symbol value to a string");return Mt(e)},Ft=Math.max,Ut=Math.min,Bt=function(e,t){var r=nt(e);return r<0?Ft(r+t,0):Ut(r,t)},$t=function(e){return function(t,r,n){var o,i=U(t),a=it(i),s=Bt(n,a);if(e&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===r)return e||s||0;return!e&&-1}},Gt={includes:$t(!0),indexOf:$t(!1)},zt={},Vt=Gt.indexOf,Wt=E([].push),Xt=function(e,t){var r,n=U(e),o=0,i=[];for(r in n)!ve(zt,r)&&ve(n,r)&&Wt(i,r);for(;t.length>o;)ve(n,r=t[o++])&&(~Vt(i,r)||Wt(i,r));return i},Ht=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Kt=Object.keys||function(e){return Xt(e,Ht)},Jt=S?Object.defineProperties:function(e,t){We(e);for(var r,n=U(t),o=Kt(t),i=o.length,a=0;i>a;)Ke.f(e,r=o[a++],n[r]);return e},qt=z("document","documentElement"),Qt=fe("keys"),Yt=function(e){return Qt[e]||(Qt[e]=be(e))},Zt=Yt("IE_PROTO"),er=function(){},tr=function(e){return"<script>"+e+"</"+"script>"},rr=function(e){e.write(tr("")),e.close();var t=e.parentWindow.Object;return e=null,t},nr=function(){try{jt=new ActiveXObject("htmlfile")}catch(e){}var e,t;nr="undefined"!=typeof document?document.domain&&jt?rr(jt):((t=_e("iframe")).style.display="none",qt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(tr("document.F=Object")),e.close(),e.F):rr(jt);for(var r=Ht.length;r--;)delete nr.prototype[Ht[r]];return nr()};zt[Zt]=!0;var or,ir,ar,sr=Object.create||function(e,t){var r;return null!==e?(er.prototype=We(e),r=new er,er.prototype=null,r[Zt]=e):r=nr(),void 0===t?r:Jt(r,t)},ur=Ht.concat("length","prototype"),cr={f:Object.getOwnPropertyNames||function(e){return Xt(e,ur)}},fr=l.Array,lr=Math.max,dr=function(e,t,r){for(var n=it(e),o=Bt(t,n),i=Bt(void 0===r?n:r,n),a=fr(lr(i-o,0)),s=0;o<i;o++,s++)at(a,s,e[o]);return a.length=s,a},pr=cr.f,vr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],hr={f:function(e){return vr&&"Window"==N(e)?function(e){try{return pr(e)}catch(e){return dr(vr)}}(e):pr(U(e))}},gr={f:Object.getOwnPropertySymbols},mr=E([].slice),br=function(e,t,r,n){n&&n.enumerable?e[t]=r:Je(e,t,r)},yr={f:xe},wr=Ke.f,Er=function(e){var t=$.Symbol||($.Symbol={});ve(t,e)||wr(t,e,{value:yr.f(e)})},Ir=ut?{}.toString:function(){return"[object "+dt(this)+"]"},xr=Ke.f,Sr=xe("toStringTag"),Or=function(e,t,r,n){if(e){var o=r?e:e.prototype;ve(o,Sr)||xr(o,Sr,{configurable:!0,value:t}),n&&!ut&&Je(o,"toString",Ir)}},kr=l.WeakMap,Ar=I(kr)&&/native code/.test(vt(kr)),Tr="Object already initialized",Rr=l.TypeError,_r=l.WeakMap;if(Ar||ce.state){var Pr=ce.state||(ce.state=new _r),Cr=E(Pr.get),Nr=E(Pr.has),Lr=E(Pr.set);or=function(e,t){if(Nr(Pr,e))throw new Rr(Tr);return t.facade=e,Lr(Pr,e,t),t},ir=function(e){return Cr(Pr,e)||{}},ar=function(e){return Nr(Pr,e)}}else{var jr=Yt("state");zt[jr]=!0,or=function(e,t){if(ve(e,jr))throw new Rr(Tr);return t.facade=e,Je(e,jr,t),t},ir=function(e){return ve(e,jr)?e[jr]:{}},ar=function(e){return ve(e,jr)}}var Mr={set:or,get:ir,has:ar,enforce:function(e){return ar(e)?ir(e):or(e,{})},getterFor:function(e){return function(t){var r;if(!B(t)||(r=ir(t)).type!==e)throw Rr("Incompatible receiver, "+e+" required");return r}}},Dr=E([].push),Fr=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(u,c,f,l){for(var d,p,v=de(u),h=M(v),g=Ge(c,f),m=it(h),b=0,y=l||Ot,w=t?y(u,m):r||a?y(u,0):void 0;m>b;b++)if((s||b in h)&&(p=g(d=h[b],b,v),e))if(t)w[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:Dr(w,d)}else switch(e){case 4:return!1;case 7:Dr(w,d)}return i?-1:n||o?o:w}},Ur={forEach:Fr(0),map:Fr(1),filter:Fr(2),some:Fr(3),every:Fr(4),find:Fr(5),findIndex:Fr(6),filterReject:Fr(7)},Br=Ur.forEach,$r=Yt("hidden"),Gr="Symbol",zr=xe("toPrimitive"),Vr=Mr.set,Wr=Mr.getterFor(Gr),Xr=Object.prototype,Hr=l.Symbol,Kr=Hr&&Hr.prototype,Jr=l.TypeError,qr=l.QObject,Qr=z("JSON","stringify"),Yr=Ne.f,Zr=Ke.f,en=hr.f,tn=R.f,rn=E([].push),nn=fe("symbols"),on=fe("op-symbols"),an=fe("string-to-symbol-registry"),sn=fe("symbol-to-string-registry"),un=fe("wks"),cn=!qr||!qr.prototype||!qr.prototype.findChild,fn=S&&x((function(){return 7!=sr(Zr({},"a",{get:function(){return Zr(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Yr(Xr,t);n&&delete Xr[t],Zr(e,t,r),n&&e!==Xr&&Zr(Xr,t,n)}:Zr,ln=function(e,t){var r=nn[e]=sr(Kr);return Vr(r,{type:Gr,tag:e,description:t}),S||(r.description=t),r},dn=function(e,t,r){e===Xr&&dn(on,t,r),We(e);var n=Ae(t);return We(r),ve(nn,n)?(r.enumerable?(ve(e,$r)&&e[$r][n]&&(e[$r][n]=!1),r=sr(r,{enumerable:_(0,!1)})):(ve(e,$r)||Zr(e,$r,_(1,{})),e[$r][n]=!0),fn(e,n,r)):Zr(e,n,r)},pn=function(e,t){We(e);var r=U(t),n=Kt(r).concat(mn(r));return Br(n,(function(t){S&&!k(vn,r,t)||dn(e,t,r[t])})),e},vn=function(e){var t=Ae(e),r=k(tn,this,t);return!(this===Xr&&ve(nn,t)&&!ve(on,t))&&(!(r||!ve(this,t)||!ve(nn,t)||ve(this,$r)&&this[$r][t])||r)},hn=function(e,t){var r=U(e),n=Ae(t);if(r!==Xr||!ve(nn,n)||ve(on,n)){var o=Yr(r,n);return!o||!ve(nn,n)||ve(r,$r)&&r[$r][n]||(o.enumerable=!0),o}},gn=function(e){var t=en(U(e)),r=[];return Br(t,(function(e){ve(nn,e)||ve(zt,e)||rn(r,e)})),r},mn=function(e){var t=e===Xr,r=en(t?on:U(e)),n=[];return Br(r,(function(e){!ve(nn,e)||t&&!ve(Xr,e)||rn(n,nn[e])})),n};if(Q||(Kr=(Hr=function(){if(V(Kr,this))throw Jr("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Dt(arguments[0]):void 0,t=be(e),r=function(e){this===Xr&&k(r,on,e),ve(this,$r)&&ve(this[$r],t)&&(this[$r][t]=!1),fn(this,t,_(1,e))};return S&&cn&&fn(Xr,t,{configurable:!0,set:r}),ln(t,e)}).prototype,br(Kr,"toString",(function(){return Wr(this).tag})),br(Hr,"withoutSetter",(function(e){return ln(be(e),e)})),R.f=vn,Ke.f=dn,Ne.f=hn,cr.f=hr.f=gn,gr.f=mn,yr.f=function(e){return ln(xe(e),e)},S&&Zr(Kr,"description",{configurable:!0,get:function(){return Wr(this).description}})),Ye({global:!0,wrap:!0,forced:!Q,sham:!Q},{Symbol:Hr}),Br(Kt(un),(function(e){Er(e)})),Ye({target:Gr,stat:!0,forced:!Q},{for:function(e){var t=Dt(e);if(ve(an,t))return an[t];var r=Hr(t);return an[t]=r,sn[r]=t,r},keyFor:function(e){if(!ee(e))throw Jr(e+" is not a symbol");if(ve(sn,e))return sn[e]},useSetter:function(){cn=!0},useSimple:function(){cn=!1}}),Ye({target:"Object",stat:!0,forced:!Q,sham:!S},{create:function(e,t){return void 0===t?sr(e):pn(sr(e),t)},defineProperty:dn,defineProperties:pn,getOwnPropertyDescriptor:hn}),Ye({target:"Object",stat:!0,forced:!Q},{getOwnPropertyNames:gn,getOwnPropertySymbols:mn}),Ye({target:"Object",stat:!0,forced:x((function(){gr.f(1)}))},{getOwnPropertySymbols:function(e){return gr.f(de(e))}}),Qr){var bn=!Q||x((function(){var e=Hr();return"[null]"!=Qr([e])||"{}"!=Qr({a:e})||"{}"!=Qr(Object(e))}));Ye({target:"JSON",stat:!0,forced:bn},{stringify:function(e,t,r){var n=mr(arguments),o=t;if((B(t)||void 0!==e)&&!ee(e))return Ze(t)||(t=function(e,t){if(I(o)&&(t=k(o,this,e,t)),!ee(t))return t}),n[1]=t,g(Qr,null,n)}})}if(!Kr[zr]){var yn=Kr.valueOf;br(Kr,zr,(function(e){return k(yn,this)}))}Or(Hr,Gr),zt[$r]=!0,Er("asyncIterator"),Er("hasInstance"),Er("isConcatSpreadable"),Er("iterator"),Er("match"),Er("matchAll"),Er("replace"),Er("search"),Er("species"),Er("split"),Er("toPrimitive"),Er("toStringTag"),Er("unscopables"),Or(l.JSON,"JSON",!0);var wn,En,In,xn=$.Symbol,Sn={},On=Function.prototype,kn=S&&Object.getOwnPropertyDescriptor,An=ve(On,"name"),Tn={EXISTS:An,PROPER:An&&"something"===function(){}.name,CONFIGURABLE:An&&(!S||S&&kn(On,"name").configurable)},Rn=!x((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),_n=Yt("IE_PROTO"),Pn=l.Object,Cn=Pn.prototype,Nn=Rn?Pn.getPrototypeOf:function(e){var t=de(e);if(ve(t,_n))return t[_n];var r=t.constructor;return I(r)&&t instanceof r?r.prototype:t instanceof Pn?Cn:null},Ln=xe("iterator"),jn=!1;[].keys&&("next"in(In=[].keys())?(En=Nn(Nn(In)))!==Object.prototype&&(wn=En):jn=!0);var Mn=null==wn||x((function(){var e={};return wn[Ln].call(e)!==e}));wn=Mn?{}:sr(wn),I(wn[Ln])||br(wn,Ln,(function(){return this}));var Dn={IteratorPrototype:wn,BUGGY_SAFARI_ITERATORS:jn},Fn=Dn.IteratorPrototype,Un=function(){return this},Bn=function(e,t,r){var n=t+" Iterator";return e.prototype=sr(Fn,{next:_(1,r)}),Or(e,n,!1,!0),Sn[n]=Un,e},$n=l.String,Gn=l.TypeError,zn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=E(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return We(r),function(e){if("object"==typeof e||I(e))return e;throw Gn("Can't set "+$n(e)+" as a prototype")}(n),t?e(r,n):r.__proto__=n,r}}():void 0),Vn=Tn.PROPER,Wn=Dn.BUGGY_SAFARI_ITERATORS,Xn=xe("iterator"),Hn="keys",Kn="values",Jn="entries",qn=function(){return this},Qn=function(e,t,r,n,o,i,a){Bn(r,t,n);var s,u,c,f=function(e){if(e===o&&h)return h;if(!Wn&&e in p)return p[e];switch(e){case Hn:case Kn:case Jn:return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",d=!1,p=e.prototype,v=p[Xn]||p["@@iterator"]||o&&p[o],h=!Wn&&v||f(o),g="Array"==t&&p.entries||v;if(g&&(s=Nn(g.call(new e)))!==Object.prototype&&s.next&&(Or(s,l,!0,!0),Sn[l]=qn),Vn&&o==Kn&&v&&v.name!==Kn&&(d=!0,h=function(){return k(v,this)}),o)if(u={values:f(Kn),keys:i?h:f(Hn),entries:f(Jn)},a)for(c in u)(Wn||d||!(c in p))&&br(p,c,u[c]);else Ye({target:t,proto:!0,forced:Wn||d},u);return a&&p[Xn]!==h&&br(p,Xn,h,{name:o}),Sn[t]=h,u},Yn="Array Iterator",Zn=Mr.set,eo=Mr.getterFor(Yn);Qn(Array,"Array",(function(e,t){Zn(this,{type:Yn,target:U(e),index:0,kind:t})}),(function(){var e=eo(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),Sn.Arguments=Sn.Array;var to=xe("toStringTag");for(var ro in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var no=l[ro],oo=no&&no.prototype;oo&&dt(oo)!==to&&Je(oo,to,ro),Sn[ro]=Sn.Array}var io=xn;Er("asyncDispose"),Er("dispose"),Er("matcher"),Er("metadata"),Er("observable"),Er("patternMatch"),Er("replaceAll");var ao=io,so=E("".charAt),uo=E("".charCodeAt),co=E("".slice),fo=function(e){return function(t,r){var n,o,i=Dt(F(t)),a=nt(r),s=i.length;return a<0||a>=s?e?"":void 0:(n=uo(i,a))<55296||n>56319||a+1===s||(o=uo(i,a+1))<56320||o>57343?e?so(i,a):n:e?co(i,a,a+2):o-56320+(n-55296<<10)+65536}},lo={codeAt:fo(!1),charAt:fo(!0)}.charAt,po="String Iterator",vo=Mr.set,ho=Mr.getterFor(po);Qn(String,"String",(function(e){vo(this,{type:po,string:Dt(e),index:0})}),(function(){var e,t=ho(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=lo(r,n),t.index+=e.length,{value:e,done:!1})}));var go=xe("iterator"),mo=function(e){if(null!=e)return ie(e,go)||ie(e,"@@iterator")||Sn[dt(e)]},bo=mo;var yo=At("slice"),wo=xe("species"),Eo=l.Array,Io=Math.max;Ye({target:"Array",proto:!0,forced:!yo},{slice:function(e,t){var r,n,o,i=U(this),a=it(i),s=Bt(e,a),u=Bt(void 0===t?a:t,a);if(Ze(i)&&(r=i.constructor,(It(r)&&(r===Eo||Ze(r.prototype))||B(r)&&null===(r=r[wo]))&&(r=void 0),r===Eo||void 0===r))return mr(i,s,u);for(n=new(void 0===r?Eo:r)(Io(u-s,0)),o=0;s<u;s++,o++)s in i&&at(n,o,i[s]);return n.length=o,n}});var xo=function(e){return $[e+"Prototype"]},So=xo("Array").slice,Oo=Array.prototype,ko=function(e){var t=e.slice;return e===Oo||V(Oo,e)&&t===Oo.slice?So:t},Ao=ko,To=function(e,t,r){var n,o;We(e);try{if(!(n=ie(e,"return"))){if("throw"===t)throw r;return r}n=k(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return We(n),r},Ro=function(e,t,r,n){try{return n?t(We(r)[0],r[1]):t(r)}catch(t){To(e,"throw",t)}},_o=xe("iterator"),Po=Array.prototype,Co=function(e){return void 0!==e&&(Sn.Array===e||Po[_o]===e)},No=l.TypeError,Lo=function(e,t){var r=arguments.length<2?mo(e):t;if(oe(r))return We(k(r,e));throw No(re(e)+" is not iterable")},jo=l.Array,Mo=xe("iterator"),Do=!1;try{var Fo=0,Uo={next:function(){return{done:!!Fo++}},return:function(){Do=!0}};Uo[Mo]=function(){return this},Array.from(Uo,(function(){throw 2}))}catch(e){}var Bo=function(e,t){if(!t&&!Do)return!1;var r=!1;try{var n={};n[Mo]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},$o=!Bo((function(e){Array.from(e)}));Ye({target:"Array",stat:!0,forced:$o},{from:function(e){var t=de(e),r=It(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Ge(o,n>2?arguments[2]:void 0));var a,s,u,c,f,l,d=mo(t),p=0;if(!d||this==jo&&Co(d))for(a=it(t),s=r?new this(a):jo(a);a>p;p++)l=i?o(t[p],p):t[p],at(s,p,l);else for(f=(c=Lo(t,d)).next,s=r?new this:[];!(u=k(f,c)).done;p++)l=i?Ro(c,o,[u.value,p],!0):u.value,at(s,p,l);return s.length=p,s}});var Go=$.Array.from,zo=Go;function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wo(e,t){var r;if(e){if("string"==typeof e)return Vo(e,t);var n=Ao(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?zo(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}function Xo(e,t){return function(e){if(et(e))return e}(e)||function(e,t){var r=null==e?null:void 0!==ao&&bo(e)||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||Wo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ho=E([].concat),Ko=z("Reflect","ownKeys")||function(e){var t=cr.f(We(e)),r=gr.f;return r?Ho(t,r(e)):t},Jo=E("".replace),qo=E("".split),Qo=E([].join),Yo=String(Error("zxcasd").stack),Zo=/\n\s*at [^:]*:[^\n]*/,ei=Zo.test(Yo),ti=/@[^\n]*\n/.test(Yo)&&!/zxcasd/.test(Yo),ri=function(e,t){if("string"!=typeof e)return e;if(ei)for(;t--;)e=Jo(e,Zo,"");else if(ti)return Qo(dr(qo(e,"\n"),t),"\n");return e},ni=function(e,t){B(t)&&"cause"in t&&Je(e,"cause",t.cause)},oi=l.TypeError,ii=function(e,t){this.stopped=e,this.result=t},ai=ii.prototype,si=function(e,t,r){var n,o,i,a,s,u,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),v=Ge(t,f),h=function(e){return n&&To(n,"normal",e),new ii(!0,e)},g=function(e){return l?(We(e),p?v(e[0],e[1],h):v(e[0],e[1])):p?v(e,h):v(e)};if(d)n=e;else{if(!(o=mo(e)))throw oi(re(e)+" is not iterable");if(Co(o)){for(i=0,a=it(e);a>i;i++)if((s=g(e[i]))&&V(ai,s))return s;return new ii(!1)}n=Lo(e,o)}for(u=n.next;!(c=k(u,n)).done;){try{s=g(c.value)}catch(e){To(n,"throw",e)}if("object"==typeof s&&s&&V(ai,s))return s}return new ii(!1)},ui=function(e,t){return void 0===e?arguments.length<2?"":t:Dt(e)},ci=!x((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",_(1,7)),7!==e.stack)})),fi=xe("toStringTag"),li=l.Error,di=[].push,pi=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,o=V(vi,this);zn?r=zn(new li(void 0),o?Nn(this):vi):(r=o?this:sr(vi),Je(r,fi,"Error")),Je(r,"message",ui(t,"")),ci&&Je(r,"stack",ri(r.stack,1)),ni(r,n);var i=[];return si(e,di,{that:i}),Je(r,"errors",i),r};zn?zn(pi,li):function(e,t){for(var r=Ko(t),n=Ke.f,o=Ne.f,i=0;i<r.length;i++){var a=r[i];ve(e,a)||n(e,a,o(t,a))}}(pi,li);var vi=pi.prototype=sr(li.prototype,{constructor:_(1,pi),message:_(1,""),name:_(1,"AggregateError")});Ye({global:!0},{AggregateError:pi});var hi,gi,mi,bi,yi=l.Promise,wi=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:br(e,n,t[n],r);return e},Ei=xe("species"),Ii=function(e){var t=z(e),r=Ke.f;S&&t&&!t[Ei]&&r(t,Ei,{configurable:!0,get:function(){return this}})},xi=l.TypeError,Si=function(e,t){if(V(t,e))return e;throw xi("Incorrect invocation")},Oi=l.TypeError,ki=xe("species"),Ai=function(e,t){var r,n=We(e).constructor;return void 0===n||null==(r=We(n)[ki])?t:function(e){if(It(e))return e;throw Oi(re(e)+" is not a constructor")}(r)},Ti=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Ri="process"==N(l.process),_i=l.setImmediate,Pi=l.clearImmediate,Ci=l.process,Ni=l.Dispatch,Li=l.Function,ji=l.MessageChannel,Mi=l.String,Di=0,Fi={},Ui="onreadystatechange";try{hi=l.location}catch(e){}var Bi=function(e){if(ve(Fi,e)){var t=Fi[e];delete Fi[e],t()}},$i=function(e){return function(){Bi(e)}},Gi=function(e){Bi(e.data)},zi=function(e){l.postMessage(Mi(e),hi.protocol+"//"+hi.host)};_i&&Pi||(_i=function(e){var t=mr(arguments,1);return Fi[++Di]=function(){g(I(e)?e:Li(e),void 0,t)},gi(Di),Di},Pi=function(e){delete Fi[e]},Ri?gi=function(e){Ci.nextTick($i(e))}:Ni&&Ni.now?gi=function(e){Ni.now($i(e))}:ji&&!Ti?(bi=(mi=new ji).port2,mi.port1.onmessage=Gi,gi=Ge(bi.postMessage,bi)):l.addEventListener&&I(l.postMessage)&&!l.importScripts&&hi&&"file:"!==hi.protocol&&!x(zi)?(gi=zi,l.addEventListener("message",Gi,!1)):gi=Ui in _e("script")?function(e){qt.appendChild(_e("script")).onreadystatechange=function(){qt.removeChild(this),Bi(e)}}:function(e){setTimeout($i(e),0)});var Vi,Wi,Xi,Hi,Ki,Ji,qi,Qi,Yi={set:_i,clear:Pi},Zi=/ipad|iphone|ipod/i.test(W)&&void 0!==l.Pebble,ea=/web0s(?!.*chrome)/i.test(W),ta=Ne.f,ra=Yi.set,na=l.MutationObserver||l.WebKitMutationObserver,oa=l.document,ia=l.process,aa=l.Promise,sa=ta(l,"queueMicrotask"),ua=sa&&sa.value;ua||(Vi=function(){var e,t;for(Ri&&(e=ia.domain)&&e.exit();Wi;){t=Wi.fn,Wi=Wi.next;try{t()}catch(e){throw Wi?Hi():Xi=void 0,e}}Xi=void 0,e&&e.enter()},Ti||Ri||ea||!na||!oa?!Zi&&aa&&aa.resolve?((qi=aa.resolve(void 0)).constructor=aa,Qi=Ge(qi.then,qi),Hi=function(){Qi(Vi)}):Ri?Hi=function(){ia.nextTick(Vi)}:(ra=Ge(ra,l),Hi=function(){ra(Vi)}):(Ki=!0,Ji=oa.createTextNode(""),new na(Vi).observe(Ji,{characterData:!0}),Hi=function(){Ji.data=Ki=!Ki}));var ca,fa,la,da=ua||function(e){var t={fn:e,next:void 0};Xi&&(Xi.next=t),Wi||(Wi=t,Hi()),Xi=t},pa=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=oe(t),this.reject=oe(r)},va={f:function(e){return new pa(e)}},ha=function(e,t){if(We(e),B(t)&&t.constructor===e)return t;var r=va.f(e);return(0,r.resolve)(t),r.promise},ga=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ma="object"==typeof window,ba=Yi.set,ya=xe("species"),wa="Promise",Ea=Mr.get,Ia=Mr.set,xa=Mr.getterFor(wa),Sa=yi&&yi.prototype,Oa=yi,ka=Sa,Aa=l.TypeError,Ta=l.document,Ra=l.process,_a=va.f,Pa=_a,Ca=!!(Ta&&Ta.createEvent&&l.dispatchEvent),Na=I(l.PromiseRejectionEvent),La="unhandledrejection",ja=Be(wa,(function(){var e=vt(Oa),t=e!==String(Oa);if(!t&&66===q)return!0;if(!ka.finally)return!0;if(q>=51&&/native code/.test(e))return!1;var r=new Oa((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[ya]=n,!(r.then((function(){}))instanceof n)||!t&&ma&&!Na})),Ma=ja||!Bo((function(e){Oa.all(e).catch((function(){}))})),Da=function(e){var t;return!(!B(e)||!I(t=e.then))&&t},Fa=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;da((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,s,u,c=r[i++],f=o?c.ok:c.fail,l=c.resolve,d=c.reject,p=c.domain;try{f?(o||(2===e.rejection&&Ga(e),e.rejection=1),!0===f?a=n:(p&&p.enter(),a=f(n),p&&(p.exit(),u=!0)),a===c.promise?d(Aa("Promise-chain cycle")):(s=Da(a))?k(s,a,l,d):l(a)):d(n)}catch(e){p&&!u&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Ba(e)}))}},Ua=function(e,t,r){var n,o;Ca?((n=Ta.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!Na&&(o=l["on"+e])?o(n):e===La&&function(e,t){var r=l.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},Ba=function(e){k(ba,l,(function(){var t,r=e.facade,n=e.value;if($a(e)&&(t=ga((function(){Ri?Ra.emit("unhandledRejection",n,r):Ua(La,r,n)})),e.rejection=Ri||$a(e)?2:1,t.error))throw t.value}))},$a=function(e){return 1!==e.rejection&&!e.parent},Ga=function(e){k(ba,l,(function(){var t=e.facade;Ri?Ra.emit("rejectionHandled",t):Ua("rejectionhandled",t,e.value)}))},za=function(e,t,r){return function(n){e(t,n,r)}},Va=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Fa(e,!0))},Wa=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw Aa("Promise can't be resolved itself");var n=Da(t);n?da((function(){var r={done:!1};try{k(n,t,za(Wa,r,e),za(Va,r,e))}catch(t){Va(r,t,e)}})):(e.value=t,e.state=1,Fa(e,!1))}catch(t){Va({done:!1},t,e)}}};ja&&(ka=(Oa=function(e){Si(this,ka),oe(e),k(ca,this);var t=Ea(this);try{e(za(Wa,t),za(Va,t))}catch(e){Va(t,e)}}).prototype,(ca=function(e){Ia(this,{type:wa,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=wi(ka,{then:function(e,t){var r=xa(this),n=r.reactions,o=_a(Ai(this,Oa));return o.ok=!I(e)||e,o.fail=I(t)&&t,o.domain=Ri?Ra.domain:void 0,r.parent=!0,n[n.length]=o,0!=r.state&&Fa(r,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),fa=function(){var e=new ca,t=Ea(e);this.promise=e,this.resolve=za(Wa,t),this.reject=za(Va,t)},va.f=_a=function(e){return e===Oa||e===la?new fa(e):Pa(e)}),Ye({global:!0,wrap:!0,forced:ja},{Promise:Oa}),Or(Oa,wa,!1,!0),Ii(wa),la=z(wa),Ye({target:wa,stat:!0,forced:ja},{reject:function(e){var t=_a(this);return k(t.reject,void 0,e),t.promise}}),Ye({target:wa,stat:!0,forced:true},{resolve:function(e){return ha(this===la?Oa:this,e)}}),Ye({target:wa,stat:!0,forced:Ma},{all:function(e){var t=this,r=_a(t),n=r.resolve,o=r.reject,i=ga((function(){var r=oe(t.resolve),i=[],a=0,s=1;si(e,(function(e){var u=a++,c=!1;s++,k(r,t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=_a(t),n=r.reject,o=ga((function(){var o=oe(t.resolve);si(e,(function(e){k(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Ye({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=va.f(t),n=r.resolve,o=r.reject,i=ga((function(){var r=oe(t.resolve),o=[],i=0,a=1;si(e,(function(e){var s=i++,u=!1;a++,k(r,t,e).then((function(e){u||(u=!0,o[s]={status:"fulfilled",value:e},--a||n(o))}),(function(e){u||(u=!0,o[s]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var Xa="No one promise resolved";Ye({target:"Promise",stat:!0},{any:function(e){var t=this,r=z("AggregateError"),n=va.f(t),o=n.resolve,i=n.reject,a=ga((function(){var n=oe(t.resolve),a=[],s=0,u=1,c=!1;si(e,(function(e){var f=s++,l=!1;u++,k(n,t,e).then((function(e){l||c||(c=!0,o(e))}),(function(e){l||c||(l=!0,a[f]=e,--u||i(new r(a,Xa)))}))})),--u||i(new r(a,Xa))}));return a.error&&i(a.value),n.promise}});var Ha=!!yi&&x((function(){yi.prototype.finally.call({then:function(){}},(function(){}))}));Ye({target:"Promise",proto:!0,real:!0,forced:Ha},{finally:function(e){var t=Ai(this,z("Promise")),r=I(e);return this.then(r?function(r){return ha(t,e()).then((function(){return r}))}:e,r?function(r){return ha(t,e()).then((function(){throw r}))}:e)}});var Ka=$.Promise;Ye({target:"Promise",stat:!0},{try:function(e){var t=va.f(this),r=ga(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var Ja=Ka;function qa(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Ja.resolve(u).then(n,o)}function Qa(e){return function(){var t=this,r=arguments;return new Ja((function(n,o){var i=e.apply(t,r);function a(e){qa(i,n,o,a,s,"next",e)}function s(e){qa(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Ye({target:"Object",stat:!0,forced:!S,sham:!S},{defineProperty:Ke.f});var Za=s((function(e){var t=$.Object,r=e.exports=function(e,r,n){return t.defineProperty(e,r,n)};t.defineProperty.sham&&(r.sham=!0)}));function es(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Za(e,n.key,n)}}function ts(e,t,r){return t&&es(e.prototype,t),r&&es(e,r),e}function rs(e,t,r){return t in e?Za(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ns=Ka,os=xo("Array").concat,is=Array.prototype,as=function(e){var t=e.concat;return e===is||V(is,e)&&t===is.concat?os:t},ss=Object.assign,us=Object.defineProperty,cs=E([].concat),fs=!ss||x((function(){if(S&&1!==ss({b:1},ss(us({},"a",{enumerable:!0,get:function(){us(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=ss({},e)[r]||Kt(ss({},t)).join("")!=n}))?function(e,t){for(var r=de(e),n=arguments.length,o=1,i=gr.f,a=R.f;n>o;)for(var s,u=M(arguments[o++]),c=i?cs(Kt(u),i(u)):Kt(u),f=c.length,l=0;f>l;)s=c[l++],S&&!k(a,u,s)||(r[s]=u[s]);return r}:ss;Ye({target:"Object",stat:!0,forced:Object.assign!==fs},{assign:fs});var ls=$.Object.assign,ds=s((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===o)throw i;return _()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?v:d,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",d="suspendedYield",p="executing",v="completed",h={};function g(){}function m(){}function b(){}var y={};u(y,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(R([])));E&&E!==r&&n.call(E,i)&&(y=E);var I=b.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function O(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:_}}function _(){return{value:t,done:!0}}return m.prototype=b,u(I,"constructor",b),u(b,"constructor",m),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(I),u(I,s,"Generator"),u(I,i,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),ps=Ur.find,vs="find",hs=!0;vs in[]&&Array(1).find((function(){hs=!1})),Ye({target:"Array",proto:!0,forced:hs},{find:function(e){return ps(this,e,arguments.length>1?arguments[1]:void 0)}});var gs=xo("Array").find,ms=Array.prototype,bs=function(e){var t=e.find;return e===ms||V(ms,e)&&t===ms.find?gs:t},ys=x((function(){Kt(1)}));Ye({target:"Object",stat:!0,forced:ys},{keys:function(e){return Kt(de(e))}});var ws=$.Object.keys,Es=$.Object.getOwnPropertySymbols,Is=Ur.filter,xs=At("filter");Ye({target:"Array",proto:!0,forced:!xs},{filter:function(e){return Is(this,e,arguments.length>1?arguments[1]:void 0)}});var Ss=xo("Array").filter,Os=Array.prototype,ks=function(e){var t=e.filter;return e===Os||V(Os,e)&&t===Os.filter?Ss:t},As=Ne.f,Ts=x((function(){As(1)}));Ye({target:"Object",stat:!0,forced:!S||Ts,sham:!S},{getOwnPropertyDescriptor:function(e,t){return As(U(e),t)}});var Rs=s((function(e){var t=$.Object,r=e.exports=function(e,r){return t.getOwnPropertyDescriptor(e,r)};t.getOwnPropertyDescriptor.sham&&(r.sham=!0)}));Ye({target:"Object",stat:!0,sham:!S},{getOwnPropertyDescriptors:function(e){for(var t,r,n=U(e),o=Ne.f,i=Ko(n),a={},s=0;i.length>s;)void 0!==(r=o(n,t=i[s++]))&&at(a,t,r);return a}});var _s=$.Object.getOwnPropertyDescriptors,Ps=xe("iterator"),Cs=!x((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Ps]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),Ns=Math.floor,Ls=function(e,t){var r=e.length,n=Ns(r/2);return r<8?js(e,t):Ms(e,Ls(dr(e,0,n),t),Ls(dr(e,n),t),t)},js=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},Ms=function(e,t,r,n){for(var o=t.length,i=r.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?n(t[a],r[s])<=0?t[a++]:r[s++]:a<o?t[a++]:r[s++];return e},Ds=Ls,Fs=xe("iterator"),Us="URLSearchParams",Bs="URLSearchParamsIterator",$s=Mr.set,Gs=Mr.getterFor(Us),zs=Mr.getterFor(Bs),Vs=z("fetch"),Ws=z("Request"),Xs=z("Headers"),Hs=Ws&&Ws.prototype,Ks=Xs&&Xs.prototype,Js=l.RegExp,qs=l.TypeError,Qs=l.decodeURIComponent,Ys=l.encodeURIComponent,Zs=E("".charAt),eu=E([].join),tu=E([].push),ru=E("".replace),nu=E([].shift),ou=E([].splice),iu=E("".split),au=E("".slice),su=/\+/g,uu=Array(4),cu=function(e){return uu[e-1]||(uu[e-1]=Js("((?:%[\\da-f]{2}){"+e+"})","gi"))},fu=function(e){try{return Qs(e)}catch(t){return e}},lu=function(e){var t=ru(e,su," "),r=4;try{return Qs(t)}catch(e){for(;r;)t=ru(t,cu(r--),fu);return t}},du=/[!'()~]|%20/g,pu={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},vu=function(e){return pu[e]},hu=function(e){return ru(Ys(e),du,vu)},gu=function(e,t){if(e<t)throw qs("Not enough arguments")},mu=Bn((function(e,t){$s(this,{type:Bs,iterator:Lo(Gs(e).entries),kind:t})}),"Iterator",(function(){var e=zs(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),bu=function(e){this.entries=[],this.url=null,void 0!==e&&(B(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Zs(e,0)?au(e,1):e:Dt(e)))};bu.prototype={type:Us,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,i,a,s,u=mo(e);if(u)for(r=(t=Lo(e,u)).next;!(n=k(r,t)).done;){if(i=(o=Lo(We(n.value))).next,(a=k(i,o)).done||(s=k(i,o)).done||!k(i,o).done)throw qs("Expected sequence with length 2");tu(this.entries,{key:Dt(a.value),value:Dt(s.value)})}else for(var c in e)ve(e,c)&&tu(this.entries,{key:c,value:Dt(e[c])})},parseQuery:function(e){if(e)for(var t,r,n=iu(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=iu(t,"="),tu(this.entries,{key:lu(nu(r)),value:lu(eu(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],tu(r,hu(e.key)+"="+hu(e.value));return eu(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var yu=function(){Si(this,wu);var e=arguments.length>0?arguments[0]:void 0;$s(this,new bu(e))},wu=yu.prototype;if(wi(wu,{append:function(e,t){gu(arguments.length,2);var r=Gs(this);tu(r.entries,{key:Dt(e),value:Dt(t)}),r.updateURL()},delete:function(e){gu(arguments.length,1);for(var t=Gs(this),r=t.entries,n=Dt(e),o=0;o<r.length;)r[o].key===n?ou(r,o,1):o++;t.updateURL()},get:function(e){gu(arguments.length,1);for(var t=Gs(this).entries,r=Dt(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){gu(arguments.length,1);for(var t=Gs(this).entries,r=Dt(e),n=[],o=0;o<t.length;o++)t[o].key===r&&tu(n,t[o].value);return n},has:function(e){gu(arguments.length,1);for(var t=Gs(this).entries,r=Dt(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){gu(arguments.length,1);for(var r,n=Gs(this),o=n.entries,i=!1,a=Dt(e),s=Dt(t),u=0;u<o.length;u++)(r=o[u]).key===a&&(i?ou(o,u--,1):(i=!0,r.value=s));i||tu(o,{key:a,value:s}),n.updateURL()},sort:function(){var e=Gs(this);Ds(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=Gs(this).entries,n=Ge(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new mu(this,"keys")},values:function(){return new mu(this,"values")},entries:function(){return new mu(this,"entries")}},{enumerable:!0}),br(wu,Fs,wu.entries,{name:"entries"}),br(wu,"toString",(function(){return Gs(this).serialize()}),{enumerable:!0}),Or(yu,Us),Ye({global:!0,forced:!Cs},{URLSearchParams:yu}),!Cs&&I(Xs)){var Eu=E(Ks.has),Iu=E(Ks.set),xu=function(e){if(B(e)){var t,r=e.body;if(dt(r)===Us)return t=e.headers?new Xs(e.headers):new Xs,Eu(t,"content-type")||Iu(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),sr(e,{body:_(0,Dt(r)),headers:_(0,t)})}return e};if(I(Vs)&&Ye({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Vs(e,arguments.length>1?xu(arguments[1]):{})}}),I(Ws)){var Su=function(e){return Si(this,Hs),new Ws(e,arguments.length>1?xu(arguments[1]):{})};Hs.constructor=Su,Su.prototype=Hs,Ye({global:!0,forced:!0},{Request:Su})}}var Ou,ku,Au=$.URLSearchParams,Tu={enabled:!1,initialize:function(){if(document&&document.body&&!this.enabled){this.enabled=!0,this.abbaPopout=document.createElement("div"),this.abbaPopout.setAttribute("style","all:unset;position:fixed;top:40px;left:0;width:300px;max-height:500px;overflow:auto;background-color:white;border:2px solid black;z-index:999999;overflow-wrap:break-word;font-family:monospace;font-size:11px"),document.body.appendChild(this.abbaPopout);var e=document.createElement("button");e.appendChild(document.createTextNode("Abba Debug - Click here to Show/Hide")),e.setAttribute("style","all:unset;position:fixed;top:0;left:0;height:20px;background-color:black;color:white;font-family:monospace;cursor:pointer;padding:2px;width:300px;font-size:13px;z-index:999999;"),e.onclick=function(){this.abbaPopout.style.display="none"===this.abbaPopout.style.display?"block":"none"}.bind(this);var t=document.createElement("button");t.appendChild(document.createTextNode("Click here to clear ABBA storage")),t.setAttribute("style","all:unset;position:fixed;top:20px;left:0;height:20px;background-color:white;color:black;font-family:monospace;cursor:pointer;border:2px inset black;width:300px;font-size:13px;z-index:999999;"),t.onclick=function(){oc.clearAbbaStorage()},document.body.appendChild(t),document.body.appendChild(e)}},addMessage:function(e,t){if(this.enabled){var r=document.createElement("div"),n=document.createTextNode(e);"error"===t?r.setAttribute("style","background-color:red;color:white"):"info"===t&&r.setAttribute("style","background-color:blue;color:white"),r.appendChild(n),this.abbaPopout.appendChild(r)}}},Ru={error:0,info:1,debug:2},_u=function(){window&&window.location&&window.location.search&&!ku&&(Ou=new Au(window.location.search),(ku=Ou.get("abbaLog"))&&Tu.initialize())},Pu=function(e,t){Lu("info",e,t)},Cu=function(e,t){Lu("debug",e,t)},Nu=function(e,t){Lu("error",e,t)},Lu=function(){var e=Qa(ds.mark((function e(){var t,r,n,o,i,a=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:"info",r=a.length>1?a[1]:void 0,n=a.length>2?a[2]:void 0,_u(),ku&&Ru[ku]>=Ru[t]&&(console.log("[ABBA] ".concat(r),n),Tu.addMessage(as(o=as(i="[".concat(t.toUpperCase(),"] ")).call(i,r," ")).call(o,n?"(check console)":""),t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ju=null,Mu=function(){if(null===ju)throw new Error("Bridge is not set.")},Du="abbaTargets",Fu="abbaExperiments",Uu="abbaPreview",Bu=function(){var e=Qa(ds.mark((function e(){var t,r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu(),e.next=3,ju.getItem(Du);case 3:if(null==(t=e.sent)){e.next=8;break}return e.abrupt("return",t);case 8:return r={},e.next=11,ju.setItem(Du,r);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$u=function(){var e=Qa(ds.mark((function e(){var t,r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju.getItem(Fu);case 2:if(null==(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return r={},e.next=10,ju.setItem(Fu,r);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gu=function(){var e=Qa(ds.mark((function e(t){var r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zu=function(){var e=Qa(ds.mark((function e(t){var r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u();case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vu=function(){var e=Qa(ds.mark((function e(){var t,r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mu(),null==(t=ju.getItem(Uu))){e.next=11;break}if(r=new Date(t.setAt),!(new Date-r>=18e5)){e.next=10;break}Pu("Preset preview has expired. Removing preview."),ju.setItem(Uu,"undefined"),e.next=11;break;case 10:return e.abrupt("return",t.config);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Wu=function(){var e=Qa(ds.mark((function e(t){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu(),Pu("Setting detected preview",t),e.next=4,ju.setItem(Uu,{config:t,setAt:(new Date).toISOString()});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xu=function(){var e=Qa(ds.mark((function e(t,r,n){var o,i,a;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu();case 2:return i=e.sent,a=null===(o=i[t])||void 0===o?void 0:o.assignedDate,i[t]={experimentId:r,bucketId:n,assignedDate:null!=a?a:new Date},e.next=7,ju.setItem(Du,i);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Hu=function(){var e=Qa(ds.mark((function e(t,r,n,o){var i,a,s;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u();case 2:return(a=e.sent)[t]&&a[t].bucketId===r&&(s=a[t].assignedDate),a[t]={bucketId:r,assignedDate:null!==(i=s)&&void 0!==i?i:new Date,endTime:n,locked:o},e.next=7,ju.setItem(Fu,a);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Ku=function(){var e=Qa(ds.mark((function e(t){var r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu();case 2:if(!(r=e.sent)[t]){e.next=7;break}return delete r[t],e.next=7,ju.setItem(Du,r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ju=function(){var e=Qa(ds.mark((function e(t){var r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u();case 2:if(!(r=e.sent)[t]){e.next=7;break}return delete r[t],e.next=7,ju.setItem(Fu,r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qu=function(){var e=Qa(ds.mark((function e(t){var r,n,o;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.experiments&&t.experiments.length)){e.next=13;break}n=0;case 2:if(!(n<t.experiments.length)){e.next=13;break}return r=t.experiments[n],e.next=6,zu(r.experimentId);case 6:if(!(o=e.sent)||o.endTime===r.endTime){e.next=10;break}return e.next=10,Hu(r.experimentId,o.bucketId,r.endTime,r.locked);case 10:n++,e.next=2;break;case 13:return e.next=15,Qu(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qu=function(){var e=Qa(ds.mark((function e(t){var r,n,o,i,a,s;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u();case 2:r=e.sent,n=ws(r),i=0;case 5:if(!(i<n.length)){e.next=23;break}if(o=n[i],a=r[o],s=new Date(a.endTime),e.t0=s<new Date,e.t0){e.next=14;break}return e.next=13,Yu(o,t);case 13:e.t0=!e.sent;case 14:if(!e.t0){e.next=20;break}if(null===a.bucketId){e.next=18;break}return e.next=18,Ku(t.targetId);case 18:return e.next=20,Ju(o);case 20:i++,e.next=5;break;case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yu=function(){var e=Qa(ds.mark((function e(t,r){var n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(r.targetId);case 2:if(!(n=e.sent)||n.experimentId!==t){e.next=6;break}if(Zu(t,r)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Zu=function(e,t){var r;return!!ks(r=t.experiments).call(r,(function(t){return t.experimentId===e})).length},ec=function(){var e=Qa(ds.mark((function e(t){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.geoIP);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tc=function(){var e=Qa(ds.mark((function e(t){var r,n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(t.targetId);case 2:if(!(r=e.sent)||!r.experimentId){e.next=9;break}return e.next=6,zu(r.experimentId);case 6:if(!(n=e.sent)||!n.locked){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rc=function(){var e=Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu(),e.abrupt("return",ju.getContentTags?ju.getContentTags():[]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nc=function(){var e=Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mu(),e.next=3,ju.setItem(Du,{});case 3:return e.next=5,ju.setItem(Fu,{});case 5:Pu("Abba storage cleared. Refresh to be rebucketed.");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oc={geoIP:ec,checkBridge:Mu,setBridge:function(e){ju=e},getTargetPlacement:Gu,setTargetPlacement:Xu,removeTargetPlacement:Ku,getExperimentPlacement:zu,setExperimentPlacement:Hu,removeExperimentPlacement:Ju,updateExperimentEndTimes:qu,lockedInExperiment:tc,getContentTags:rc,getPreview:Vu,setPreview:Wu,clearAbbaStorage:nc};function ic(e,t){var r=ws(e);if(Es){var n=Es(e);t&&(n=ks(n).call(n,(function(t){return Rs(e,t).enumerable}))),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):_s?Object.defineProperties(e,_s(r)):ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Rs(r,t))}))}return e}var sc=function(){var e=Qa(ds.mark((function e(t){var r,n,o,i,a,s,u,c,f;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.experiments&&t.experiments.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,oc.updateExperimentEndTimes(t);case 4:return e.next=6,oc.getTargetPlacement(t.targetId);case 6:if(!(n=e.sent)){e.next=16;break}if(!(r=bs(o=t.experiments).call(o,(function(e){return e.experimentId===n.experimentId})))){e.next=13;break}return e.abrupt("return",uc(r,n.bucketId,t.config));case 13:return e.next=15,oc.removeTargetPlacement(t.targetId);case 15:r=null;case 16:i=Math.random(),a=0,u=0;case 19:if(!(u<t.experiments.length)){e.next=40;break}return s=t.experiments[u],e.next=23,oc.getExperimentPlacement(s.experimentId);case 23:if(!(c=e.sent)||null!==c.bucketId){e.next=29;break}return a+=s.population,e.abrupt("continue",37);case 29:if(!c||null===c.bucketId){e.next=31;break}return e.abrupt("return",uc(s,c.bucketId,t.config));case 31:if(!(i>=a&&i<a+s.population)){e.next=34;break}return r=s,e.abrupt("break",40);case 34:return e.next=36,oc.setExperimentPlacement(s.experimentId,null,s.endTime,s.locked);case 36:a+=s.population;case 37:u++,e.next=19;break;case 40:if(r){e.next=42;break}return e.abrupt("return",!1);case 42:return f=uc(r,null,t.config),e.next=45,oc.setExperimentPlacement(f.experimentId,f.bucketId,r.endTime,r.locked);case 45:return e.next=47,oc.setTargetPlacement(t.targetId,f.experimentId,f.bucketId);case 47:return Pu("Selected bucket:",f),e.abrupt("return",f);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uc=function(e,t,r){var n,o;null!==t?n=bs(o=e.buckets).call(o,(function(e){return e.bucketId===t})):n=cc(e);return{experimentId:e.experimentId,bucketId:n.bucketId,endTime:e.endTime,config:ac(ac({},r),n.config),buckets:e.buckets}},cc=function(e){var t=Math.floor(Math.random()*e.buckets.length);return e.buckets[t]},fc="abbaPreview",lc="mockUserInfo",dc="mockContextInfo",pc="mockTagsInfo",vc="mockUrlInfo",hc="mockContentMetadata";function gc(e,t){var r=ws(e);if(Es){var n=Es(e);t&&(n=ks(n).call(n,(function(t){return Rs(e,t).enumerable}))),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):_s?Object.defineProperties(e,_s(r)):gc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Rs(r,t))}))}return e}var bc=function(e){try{return null!==new Au(window.location.search).get(e)}catch(e){return!1}},yc=function(){var e=Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!oc.getPreview());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wc=function(){var e=Qa(ds.mark((function e(t){var r,n,o;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bc(fc)){e.next=9;break}return r=new Au(window.location.search),n=JSON.parse(r.get(fc)),e.next=5,oc.setPreview(n);case 5:return Pu("Preview param detected and applying",n),e.abrupt("return",mc(mc({},t),n));case 9:if(!yc()){e.next=17;break}return e.next=12,oc.getPreview();case 12:return o=e.sent,Pu("Saved preview detected and applying",o),e.abrupt("return",mc(mc({},t),o));case 17:return Cu("No preview detected."),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ec=function(e){if(!bc(e))return Cu("No mock info detected for key: ".concat(e)),null;var t=new Au(window.location.search),r=JSON.parse(decodeURIComponent(t.get(e)));return Pu("Found and applying mock info",r),r},Ic=x((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),xc=Object.isExtensible,Sc=x((function(){xc(1)}))||Ic?function(e){return!!B(e)&&((!Ic||"ArrayBuffer"!=N(e))&&(!xc||xc(e)))}:xc,Oc=!x((function(){return Object.isExtensible(Object.preventExtensions({}))})),kc=s((function(e){var t=Ke.f,r=!1,n=be("meta"),o=0,i=function(e){t(e,n,{value:{objectID:"O"+o++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},r=!0;var e=cr.f,t=E([].splice),o={};o[n]=1,e(o).length&&(cr.f=function(r){for(var o=e(r),i=0,a=o.length;i<a;i++)if(o[i]===n){t(o,i,1);break}return o},Ye({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:hr.f}))},fastKey:function(e,t){if(!B(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ve(e,n)){if(!Sc(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!ve(e,n)){if(!Sc(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return Oc&&r&&Sc(e)&&!ve(e,n)&&i(e),e}};zt[n]=!0})),Ac=Ke.f,Tc=Ur.forEach,Rc=Mr.set,_c=Mr.getterFor,Pc=Ke.f,Cc=kc.fastKey,Nc=Mr.set,Lc=Mr.getterFor;!function(e,t,r){var n,o=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),a=o?"set":"add",s=l[e],u=s&&s.prototype,c={};if(S&&I(s)&&(i||u.forEach&&!x((function(){(new s).entries().next()})))){var f=(n=t((function(t,r){Rc(Si(t,f),{type:e,collection:new s}),null!=r&&si(r,t[a],{that:t,AS_ENTRIES:o})}))).prototype,d=_c(e);Tc(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in u)||i&&"clear"==e||Je(f,e,(function(r,n){var o=d(this).collection;if(!t&&i&&!B(r))return"get"==e&&void 0;var a=o[e](0===r?0:r,n);return t?this:a}))})),i||Ac(f,"size",{configurable:!0,get:function(){return d(this).collection.size}})}else n=r.getConstructor(t,e,o,a),kc.enable();Or(n,e,!1,!0),c[e]=n,Ye({global:!0,forced:!0},c),i||r.setStrong(n,e,o)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,r,n){var o=e((function(e,o){Si(e,i),Nc(e,{type:t,index:sr(null),first:void 0,last:void 0,size:0}),S||(e.size=0),null!=o&&si(o,e[n],{that:e,AS_ENTRIES:r})})),i=o.prototype,a=Lc(t),s=function(e,t,r){var n,o,i=a(e),s=u(e,t);return s?s.value=r:(i.last=s={index:o=Cc(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=s),n&&(n.next=s),S?i.size++:e.size++,"F"!==o&&(i.index[o]=s)),e},u=function(e,t){var r,n=a(e),o=Cc(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return wi(i,{clear:function(){for(var e=a(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,S?e.size=0:this.size=0},delete:function(e){var t=this,r=a(t),n=u(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),S?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=a(this),n=Ge(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),wi(i,r?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),S&&Pc(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=Lc(t),i=Lc(n);Qn(e,t,(function(e,t){Nc(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Ii(t)}});var jc=$.Set,Mc=Go;function Dc(e,t){var r=ws(e);if(Es){var n=Es(e);t&&(n=ks(n).call(n,(function(t){return Rs(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):_s?Object.defineProperties(e,_s(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Rs(r,t))}))}return e}var Uc=function(){function e(){Ya(this,e),this.config={},this.tracking={targets:new jc,experiments:new jc,sources:{}},this.reserveKeys=new jc}return ts(e,[{key:"addTargetConfig",value:function(e,t,r){var n=this,o=ws(e),i=ks(o).call(o,(function(e){return n.reserveKeys.has(e)}));return i.length?(Cu("Tried to add target config for ".concat(t," but some keys already existed"),{targetConfig:e,overlapKeys:i}),!1):(ls(this.config,e),o.forEach((function(e){n.reserveKeys.add(e),n.tracking.sources[e]={targetId:t,experimentId:null,bucketId:null,assignedDate:r.assignedDate,assignedEndDate:null}})),this.tracking.targets.add(t),!0)}},{key:"addExperimentConfig",value:function(e,t,r,n){var o,i,a=this,s=ws(e),u=t.split(".")[0],c=t.split(".")[1].split("=")[0],f=t.split("=")[1],l=ks(s).call(s,(function(e){return a.reserveKeys.has(e)}));return l.length?(Cu(as(o=as(i="Tried to add experiment config for targetId ".concat(u,", experimentId ")).call(i,c," bucketId ")).call(o,f," but some keys already existed"),{experimentConfig:e,overlapKeys:l}),!1):(ls(this.config,e),s.forEach((function(e){a.reserveKeys.add(e)})),s.forEach((function(e){a.tracking.sources[e]={targetId:u,experimentId:c,bucketId:f,assignedDate:n.assignedDate,assignedEndDate:r}})),this.tracking.targets.add(u),this.tracking.experiments.add(t),!0)}},{key:"getConfig",value:function(){return Fc(Fc({},this.config),this.formatTracking())}},{key:"formatTracking",value:function(){return{tracking:{targets:Mc(this.tracking.targets).join(","),experiment:Mc(this.tracking.experiments).join(","),sources:this.tracking.sources}}}}]),e}();Ye({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Bc=R.f,$c=E(Bc),Gc=E([].push),zc=function(e){return function(t){for(var r,n=U(t),o=Kt(n),i=o.length,a=0,s=[];i>a;)r=o[a++],S&&!$c(n,r)||Gc(s,e?[r,n[r]]:n[r]);return s}},Vc={entries:zc(!0),values:zc(!1)}.entries;Ye({target:"Object",stat:!0},{entries:function(e){return Vc(e)}});var Wc=$.Object.entries,Xc=Ur.map,Hc=At("map");Ye({target:"Array",proto:!0,forced:!Hc},{map:function(e){return Xc(this,e,arguments.length>1?arguments[1]:void 0)}});var Kc=xo("Array").map,Jc=Array.prototype,qc=function(e){var t=e.map;return e===Jc||V(Jc,e)&&t===Jc.map?Kc:t},Qc=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Yc}(e)}(e)};var Yc="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Zc(e,t){return!1!==t.clone&&t.isMergeableObject(e)?of((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function ef(e,t,r){return e.concat(t).map((function(e){return Zc(e,r)}))}function tf(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function rf(e,t){try{return t in e}catch(e){return!1}}function nf(e,t,r){var n={};return r.isMergeableObject(e)&&tf(e).forEach((function(t){n[t]=Zc(e[t],r)})),tf(t).forEach((function(o){(function(e,t){return rf(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(rf(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return of;var r=t.customMerge(e);return"function"==typeof r?r:of}(o,r)(e[o],t[o],r):n[o]=Zc(t[o],r))})),n}function of(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||ef,r.isMergeableObject=r.isMergeableObject||Qc,r.cloneUnlessOtherwiseSpecified=Zc;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):nf(e,t,r):Zc(t,r)}of.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return of(e,r,t)}),{})};var af=of,sf={Author:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Dataarticle:!0,Event:!0,Feature:!0,Fund:!0,Index:!0,Interactive:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Series:!0,Slideshow:!0,Story:!0,Topic:!0,Video:!0,Storythread:!0},uf={deviceInfo:"metadata.paywall.device",referrerSource:"metadata.paywall.referrer",consent:"metadata.consent"};function cf(e){var t,r=e.baseUrl;return as(t="".concat(r,"?")).call(t,function(e){var t=function(e){var t=e.id,r=e.contentType;if(void 0!==t&&Object.prototype.hasOwnProperty.call(sf,r)){var n;return{currentResource:as(n="".concat(r,"|")).call(n,t)}}}(e),r=ff(e);return n=ls({},t,{deviceInfo:r},{consent:e.personalizationAllowed},{referrerSource:e.referrerSource},{limit:null!==e.limit?100:null}),qc(o=ks(i=ws(n)).call(i,(function(e){var t=n[e];return!(null==t||""===t)}))).call(o,(function(e){var t,r=n[e],o=void 0===uf[e]?encodeURIComponent(e):encodeURIComponent(uf[e]),i=encodeURIComponent(r);return as(t="".concat(o,"=")).call(t,i)})).join("&");var n,o,i}(e))}function ff(e){var t,r;if(e.deviceInfo)return as(t=as(r="".concat(e.deviceInfo.platform,"|")).call(r,e.deviceInfo.OS,"|")).call(t,e.deviceInfo.browserName)}var lf,df,pf=ko,vf=W.match(/firefox\/(\d+)/i),hf=!!vf&&+vf[1],gf=/MSIE|Trident/.test(W),mf=W.match(/AppleWebKit\/(\d+)\./),bf=!!mf&&+mf[1],yf=[],wf=E(yf.sort),Ef=E(yf.push),If=x((function(){yf.sort(void 0)})),xf=x((function(){yf.sort(null)})),Sf=!!(df=[]["sort"])&&x((function(){df.call(null,lf||function(){throw 1},1)})),Of=!x((function(){if(q)return q<70;if(!(hf&&hf>3)){if(gf)return!0;if(bf)return bf<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)yf.push({k:t+n,v:r})}for(yf.sort((function(e,t){return t.v-e.v})),n=0;n<yf.length;n++)t=yf[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));Ye({target:"Array",proto:!0,forced:If||!xf||!Sf||!Of},{sort:function(e){void 0!==e&&oe(e);var t=de(this);if(Of)return void 0===e?wf(t):wf(t,e);var r,n,o=[],i=it(t);for(n=0;n<i;n++)n in t&&Ef(o,t[n]);for(Ds(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:Dt(t)>Dt(r)?1:-1}}(e)),r=o.length,n=0;n<r;)t[n]=o[n++];for(;n<i;)delete t[n++];return t}});var kf=xo("Array").sort,Af=Array.prototype,Tf=function(e){var t=e.sort;return e===Af||V(Af,e)&&t===Af.sort?kf:t},Rf=l.Array,_f=z("JSON","stringify"),Pf=E(/./.exec),Cf=E("".charAt),Nf=E("".charCodeAt),Lf=E("".replace),jf=E(1..toString),Mf=/[\uD800-\uDFFF]/g,Df=/^[\uD800-\uDBFF]$/,Ff=/^[\uDC00-\uDFFF]$/,Uf=function(e,t,r){var n=Cf(r,t-1),o=Cf(r,t+1);return Pf(Df,e)&&!Pf(Ff,o)||Pf(Ff,e)&&!Pf(Df,n)?"\\u"+jf(Nf(e,0),16):e},Bf=x((function(){return'"\\udf06\\ud834"'!==_f("\udf06\ud834")||'"\\udead"'!==_f("\udead")}));_f&&Ye({target:"JSON",stat:!0,forced:Bf},{stringify:function(e,t,r){for(var n=0,o=arguments.length,i=Rf(o);n<o;n++)i[n]=arguments[n];var a=g(_f,null,i);return"string"==typeof a?Lf(a,Mf,Uf):a}}),$.JSON||($.JSON={stringify:JSON.stringify});var $f=function(e,t,r){return g($.JSON.stringify,null,arguments)},Gf=20,zf=1,Vf=.25;function Wf(e,t){var r;if(Object.prototype.hasOwnProperty.call(e,"assetType")&&Object.prototype.hasOwnProperty.call(e,"assetID")&&(e.statsInfo&&e.statsInfo["1y"]&&(r=e.statsInfo["1y"].score),r))return{id:e.assetID,derivedScore:r*t,type:e.assetType}}var Xf={Person:3,Company:3,Index:1,Topic:2,Commodity:1.5,City:2,Fund:1,Organization:1,Country:2,Currency:2,Region:3,Classification:2,Location:1,Event:1},Hf={Bond:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Event:!0,Fund:!0,Index:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Topic:!0},Kf={Person:"People",Company:"Tickers",Index:"Indexes",Topic:"Topics",Resourcetype:"Resourcetypes"};function Jf(e){return ks(e).call(e,(function(e){var t=e.type;return Object.prototype.hasOwnProperty.call(Hf,t)}))}function qf(e){return ks(e).call(e,(function(e){var t=e.type;return e.derivedScore>=Xf[t]}))}function Qf(e){return qc(e).call(e,(function(e){var t=e.derivedScore,r=e.type;return void 0===t&&(t=Xf[r]||0),ls({},e,{derivedScore:t})}))}function Yf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gf;return wl(e,t)}function Zf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zf;return wl(e,t)}function el(e){return ws(e).forEach((function(t){e[t]=e[t].join(",")})),e}function tl(e){return e.reduce((function(e,t){var r=t.id,n=t.type;return e[n]=e[n]||[],e[n].push(r),e}),{})}function rl(e){return ws(e).reduce((function(t,r){return t[function(e){return Kf[e]||e}(r)]=e[r],t}),{})}function nl(e){var t,r=e.type,n=e.id;return as(t="".concat(r,"|")).call(t,n)}function ol(e){var t,r=e.reduce((function(e,t){return Object.prototype.hasOwnProperty.call(e,t.type)?e[t.type]+=t.derivedScore:e[t.type]=t.derivedScore,e}),{});return qc(t=ws(r)).call(t,(function(e){return{id:e,type:"contextTagTypes",derivedScore:r[e]}}))}var il=20,al=0;function sl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:il;return wl(e,t)}var ul=1,cl=.25,fl={Commodity:"Quote",Company:"Quote",Currency:"Quote",Dataarticle:"Story",Feature:"Story",Fund:"Quote",Index:"Quote",Interactive:"Story",Quicktake:"Story",Slideshow:"Story",Story:"Story",Video:"Video",Storythread:"Storythread"};function ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ul;return wl(e,t)}var dl={"m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bloomberg.com":"BLOOMBERG"},pl=/https?:\/\/([^ /]+)/;var vl,hl={deepestPaywallStage:"ua_dps"};function gl(e){var t,r,n=e.userInfo,o=void 0===n?{}:n,i=e.contextInfo,a=(i=void 0===i?{}:i).referrer,s=ml(e),u=s.contextTagsTypeMap,c=s.preferredTagsTypeMap,f=s.preferredResourceTypesMap,l=s.cumulativeScoredContentTagsMap,d=bl(u,[rl,el]),p=bl(l,[rl,el]),v=bl(ls({},c,f),[rl,el]),h=ls({},yl(d,"context"),yl(v,"preferred"),p),g=a?{referrer:(t=a,r=pl.exec(t),null===r||""===r?t:dl[r[1]]||r[1])}:{},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===e&&(e={});var t=e.Metadata,r=(t=void 0===t?{}:t).attribute,n=void 0===r?{}:r;return ws(n).reduce((function(e,t){var r=hl[t];return r&&(e[r]=n[t]),e}),{})}(o);return ls({},g,h,m)}function ml(e){var t=e.userInfo,r=e.contextInfo;t=t||{};var n=(void 0===r?{}:r).contentTags,o=void 0===n?[]:n,i=bl(o,[Jf,Qf,qf]),a=bl(i,[Yf,tl]),s=bl(o,[ol,Zf,tl]);return{contextTagsTypeMap:a,preferredTagsTypeMap:bl(function(e){var t=e.contextTags,r=e.preferredTags,n=JSON.parse($f(t)),o={};n.forEach((function(e){var t=nl(e);o[t]=e}));var i=[];return r.forEach((function(e){var t=nl(e);Object.prototype.hasOwnProperty.call(o,t)?o[t].derivedScore+=e.derivedScore:i.push(e)})),as(n).call(n,i)}({contextTags:i,preferredTags:function(e){var t=[],r=e.Tag,n=(r=void 0===r?{}:r).Confidence,o=void 0===n?0:n,i=r.Preferences,a=void 0===i?{}:i;return o<Vf||ws(Hf).forEach((function(e){var r=a[e];Array.isArray(r)&&r.forEach((function(e){var r=Wf(e,o);r&&t.push(r)}))})),t}(t)}),[Yf,tl]),preferredAuthorsMap:bl(function(e){var t=[],r=e.Author,n=(r=void 0===r?{}:r).Confidence,o=void 0===n?0:n,i=r.Preferences,a=void 0===i?[]:i;return o<al?t:Array.isArray(a)?(a.forEach((function(e){var r=Wf(e,o);r&&t.push(r)})),t):t}(t),[sl,tl]),preferredResourceTypesMap:bl(function(e){var t,r=[],n={},o=e.Resourcetype,i=(o=void 0===o?{}:o).Confidence,a=void 0===i?0:i,s=o.Preferences,u=void 0===s?[]:s;return a<cl?r:Array.isArray(u)?(u.forEach((function(e){if(Object.prototype.hasOwnProperty.call(e,"assetType")){var t,r=fl[e.assetType];r&&(e.statsInfo&&e.statsInfo["1y"]&&(t=e.statsInfo["1y"].score),n[r]=(n[r]||0)+t)}})),r=qc(t=ws(n)).call(t,(function(e){return{id:e,type:"Resourcetype",derivedScore:n[e]}}))):r}(t),[ll,tl]),cumulativeScoredContentTagsMap:s}}function bl(e,t){return t.reduce((function(e,t){return t(e)}),e)}function yl(e,t){var r={};for(var n in e){if(e[n])r[t+n]=e[n]}return r}function wl(e,t){var r,n;return void 0===t||t<=0?[]:pf(r=Tf(n=pf(e).call(e)).call(n,(function(e,t){return e.derivedScore<t.derivedScore?-1:e.derivedScore>t.derivedScore?1:0}))).call(r,-t).reverse()}var El=qc(vl=["com","co.jp","co.uk","es","ca","de","it","fr","com.au","com.br","com.gr","co.in","co.id","com.mx","dk","com.ar","ch","cl","at","co.kr","ie","com.co","pl","pt","com.pk"]).call(vl,(function(e){return"www.google.".concat(e)})),Il=["","us","ca","uk","in","au","nl","nz","sg","de","es","ln","fr"],xl=function(e){return ks(e).call(e,(function(e){return e})).join(".")},Sl=qc(Il).call(Il,(function(e){return xl([e,"search.yahoo.com"])})),Ol=qc(Il).call(Il,(function(e){return xl([e,"video.search.yahoo.com"])})),kl={"drudgereport.com":"DRUDGEREPORT","www.drudgereport.com":"DRUDGEREPORT","m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bing.com":"BING_SEARCH","bing.com":"BING_SEARCH"};El.forEach((function(e){return kl[e]="GOOGLE_SEARCH"})),Ol.forEach((function(e){return kl[e]="YAHOO_SEARCH"})),Sl.forEach((function(e){return kl[e]="YAHOO_SEARCH"}));var Al={INTERNAL_WEB:"INTERNAL",INTERNAL_MOBILE:"INTERNAL",FACEBOOK:"SOCIAL",LINKEDIN:"SOCIAL",TWITTER:"SOCIAL",GOOGLE_PLUS:"SOCIAL",REDDIT:"SOCIAL",DRUDGEREPORT:"NEWS_PORTALS",GOOGLE_SEARCH:"SEARCH",BING_SEARCH:"SEARCH",YAHOO_SEARCH:"SEARCH",OTHERS:"OTHERS"},Tl="INTERNAL_WEB",Rl="INTERNAL_MOBILE",_l="GOOGLE_SEARCH",Pl="OTHERS",Cl=function(e){var t=Ml(e);if(null!==t)return t;var r=jl(e);if(null===r)return Pl;if(Nl(r)||Ll(r))return _l;var n=r.host,o=kl[n];return o||(o=Pl),o},Nl=function(e){var t=e.path,r=e.hostname;return t&&0===t.indexOf("//com.google.android.googlequicksearchbox")&&"android-app"===r},Ll=function(e){var t=e.path,r=e.hostname;return t&&0===t.indexOf("/auth/chrome-content-suggestions")&&"googleapis.com"===r},jl=function(e){var t=null,r=RegExp("^(http|https)://.*$");if(e&&e.length>0){var n=decodeURI(e);n=Dl(n),n=r.test(n)?n:"http://".concat(n),t=o.default.parse(n)}return t},Ml=function(e){var t=null;if(e&&e.length>0){var r=Dl(e);-1!==r.indexOf(".bloomberg.com")&&(t=Tl),-1!==r.indexOf("mobile://")&&(t=Rl)}return t},Dl=function(e){return e.split("\\?",2)[0]},Fl=function(e,t){if(t){var r="Direct",n=t.get("utm_source")||e,o=t.get("utm_medium")||"",i=["google","bing","yahoo"],a=as(i).call(i,["duckduckgo"]),s=["offer","nurture"],u=/.*newsletter.*/;try{if("display"===o)return"Display";if("webpush"===n)return"Web_Push";if(-1!==a.indexOf(n))return"cpc"===o?"Paid_Search":"Organic_Search";if(-1===i.indexOf(n)&&"cpc"===o)return"Paid_Social";var c=s.indexOf(n);if(-1===c&&"email"===o||u.test(n)||u.test(o))return"Newsletter";if(-1!==c&&"email"===o){var f,l=s[c];return as(f="Email_".concat(l.charAt(0).toUpperCase())).call(f,pf(l).call(l,1))}if(new RegExp(["fb","t.co",".*facebook.*",".*twitter.*",".*instagram.*",".*likeshop.*",".*reddit.*",".*linkedin.*",".*snapchat.*"].join("|"),"i").test(n)&&"cpc"!==o)return"Organic_Social";if(""!==n)return"Referral"}catch(e){r="Direct"}return r}};var Ul,Bl,$l,Gl,zl,Vl,Wl,Xl,Hl={v1:function(e,t,r){var n={};try{e.forEach((function(e){var o="/"===e.charAt(0)?e:"/".concat(e);if(void 0!==r[o]&&void 0!==r[o][t]){var i=r[o][t];ws(i).forEach((function(e){var i=r[o][t][e];Object.prototype.hasOwnProperty.call(n,e)?n[e]=Math.max(n[e],i[0]/i[1]):n[e]=i[0]/i[1]}))}}))}catch(e){n={}}return{values:n}}},Kl="contentMetadata",Jl="coordinatorServiceData",ql=/local.bloomberg.com/,Ql=/(origin\.(?!(www)).*|.*-stg\.cm|.*\.stg)\.bloomberg.(com|co\.[a-zA-Z]{2})/,Yl={STR_FILE_URL:"https://assets.bwbx.io/s3/mediaservices/superelastic/data.json",COORDINATOR_SERVICE_URL:ql.test(null===(Ul=window)||void 0===Ul||null===(Bl=Ul.location)||void 0===Bl?void 0:Bl.host)||Ql.test(null===($l=window)||void 0===$l||null===(Gl=$l.location)||void 0===Gl?void 0:Gl.host)?"https://coordinator-stg.cm.bloomberg.com/coordination":"https://coordinator.cm.bloomberg.com/coordination",ABBA_FEED_S3_URL:ql.test(null===(zl=window)||void 0===zl||null===(Vl=zl.location)||void 0===Vl?void 0:Vl.host)||Ql.test(null===(Wl=window)||void 0===Wl||null===(Xl=Wl.location)||void 0===Xl?void 0:Xl.host)?"https://d3jh429r6zmxbc.cloudfront.net/s3/abba/feed":"https://assets.bwbx.io/s3/abba/feed"},Zl=s((function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){var n={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0};e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:n,OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(e,t,r){var n,o=r(2),i=r(0),a=i.BROWSER_TYPES,s=i.OS_TYPES,u=i.DEVICE_TYPES,c=r(4),f=c.checkType,l=c.broPayload,d=c.mobilePayload,p=c.wearPayload,v=c.consolePayload,h=c.stvPayload,g=c.getNavigatorInstance,m=c.isIOS13Check,b=new o,y=b.getBrowser(),w=b.getDevice(),E=b.getEngine(),I=b.getOS(),x=b.getUA(),S=a.CHROME,O=a.CHROMIUM,k=a.IE,A=a.INTERNET_EXPLORER,T=a.OPERA,R=a.FIREFOX,_=a.SAFARI,P=a.EDGE,C=a.YANDEX,N=a.MOBILE_SAFARI,L=u.MOBILE,j=u.TABLET,M=u.SMART_TV,D=u.BROWSER,F=u.WEARABLE,U=u.CONSOLE,B=s.ANDROID,$=s.WINDOWS_PHONE,G=s.IOS,z=s.WINDOWS,V=s.MAC_OS,W=function(){return I.name===s.WINDOWS&&"10"===I.version&&("string"==typeof x&&-1!==x.indexOf("Edg/"))},X=function(){return y.name===P},H=function(){return m("iPad")},K=w.type===M,J=w.type===U,q=w.type===F,Q=y.name===N||H(),Y=y.name===O,Z=function(){switch(w.type){case L:case j:return!0;default:return!1}}()||H(),ee=w.type===L,te=w.type===j||H(),re=w.type===D,ne=I.name===B,oe=I.name===$,ie=I.name===G||H(),ae=y.name===S,se=y.name===R,ue=y.name===_||y.name===N,ce=y.name===T,fe=y.name===A||y.name===k,le=I.version?I.version:"none",de=I.name?I.name:"none",pe=y.major,ve=y.version,he=y.name,ge=w.vendor?w.vendor:"none",me=w.model?w.model:"none",be=E.name,ye=E.version,we=x,Ee=X()||W(),Ie=y.name===C,xe=w.type,Se=(n=g())&&(/iPad|iPhone|iPod/.test(n.platform)||"MacIntel"===n.platform&&n.maxTouchPoints>1)&&!window.MSStream,Oe=H(),ke=m("iPhone"),Ae=m("iPod"),Te=function(){var e=g(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Re=W(),_e=X(),Pe=I.name===z,Ce=I.name===V,Ne=f(w.type);e.exports={deviceDetect:function(){var e=Ne.isBrowser,t=Ne.isMobile,r=Ne.isTablet,n=Ne.isSmartTV,o=Ne.isConsole,i=Ne.isWearable;return e?l(e,y,E,I,x):n?h(n,E,I,x):o?v(o,E,I,x):t||r?d(Ne,w,I,x):i?p(i,E,I,x):void 0},isSmartTV:K,isConsole:J,isWearable:q,isMobileSafari:Q,isChromium:Y,isMobile:Z,isMobileOnly:ee,isTablet:te,isBrowser:re,isAndroid:ne,isWinPhone:oe,isIOS:ie,isChrome:ae,isFirefox:se,isSafari:ue,isOpera:ce,isIE:fe,osVersion:le,osName:de,fullBrowserVersion:pe,browserVersion:ve,browserName:he,mobileVendor:ge,mobileModel:me,engineName:be,engineVersion:ye,getUA:we,isEdge:Ee,isYandex:Ie,deviceType:xe,isIOS13:Se,isIPad13:Oe,isIPhone13:ke,isIPod13:Ae,isElectron:Te,isEdgeChromium:Re,isLegacyEdge:_e,isWindows:Pe,isMacOs:Ce}},function(e,t,r){var n;
/*!
	 * UAParser.js v0.7.18
	 * Lightweight JavaScript-based User-Agent string parser
	 * https://github.com/faisalman/ua-parser-js
	 *
	 * Copyright Â© 2012-2016 Faisal Salman <fyzlman@gmail.com>
	 * Dual licensed under GPLv2 or MIT
	 */!function(o,i){var a="function",s="undefined",u="object",c="model",f="name",l="type",d="vendor",p="version",v="architecture",h="console",g="mobile",m="tablet",b="smarttv",y="wearable",w={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},E={rgx:function(e,t){for(var r,n,o,s,c,f,l=0;l<t.length&&!c;){var d=t[l],p=t[l+1];for(r=n=0;r<d.length&&!c;)if(c=d[r++].exec(e))for(o=0;o<p.length;o++)f=c[++n],typeof(s=p[o])===u&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,f):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=f?f.replace(s[1],s[2]):i:this[s[0]]=f?s[1].call(this,f,s[2]):i:4==s.length&&(this[s[0]]=f?s[3].call(this,f.replace(s[1],s[2])):i):this[s]=f||i;l+=2}},str:function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(w.has(t[r][n],e))return"?"===r?i:r}else if(w.has(t[r],e))return"?"===r?i:r;return e}},I={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},x={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[f,p],[/(opios)[\/\s]+([\w\.]+)/i],[[f,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[f,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[f,p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[f,"IE"],p],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[f,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[f,"Yandex"],p],[/(puffin)\/([\w\.]+)/i],[[f,"Puffin"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[f,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(micromessenger)\/([\w\.]+)/i],[[f,"WeChat"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[f,p],[/(QQ)\/([\d\.]+)/i],[f,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[f,p],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[f,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[f,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[f],[/(LBBROWSER)/i],[f],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[f,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[f,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[f,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[f,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[f,p],[/(dolfin)\/([\w\.]+)/i],[[f,"Dolphin"],p],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[f,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[f,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[f,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,f],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[f,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[f,[p,E.str,I.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[f,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[f,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[v,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,d,[l,m]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[d,"Apple"],[l,m]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[l,m]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[d,"Amazon"],[l,m]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,E.str,I.device.amazon.model],[d,"Amazon"],[l,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,d,[l,g]],[/\((ip[honed|\s\w*]+);/i],[c,[d,"Apple"],[l,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[l,g]],[/\(bb10;\s(\w+)/i],[c,[d,"BlackBerry"],[l,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[d,"Asus"],[l,m]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[c,"Xperia Tablet"],[l,m]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[c,[d,"Sony"],[l,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,c,[l,h]],[/android.+;\s(shield)\sbuild/i],[c,[d,"Nvidia"],[l,h]],[/(playstation\s[34portablevi]+)/i],[c,[d,"Sony"],[l,h]],[/(sprint\s(\w+))/i],[[d,E.str,I.device.sprint.vendor],[c,E.str,I.device.sprint.model],[l,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,c,[l,m]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[c,/_/g," "],[l,g]],[/(nexus\s9)/i],[c,[d,"HTC"],[l,m]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[c,[d,"Huawei"],[l,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,c,[l,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[d,"Microsoft"],[l,h]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,"Microsoft"],[l,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[d,"Motorola"],[l,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[d,"Motorola"],[l,m]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,w.trim],[c,w.trim],[l,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,"Samsung"],[l,b]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[l,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],c,[l,m]],[/smart-tv.+(samsung)/i],[d,[l,b],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[l,g]],[/sie-(\w*)/i],[c,[d,"Siemens"],[l,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],c,[l,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[d,"Acer"],[l,m]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[d,"LG"],[l,m]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[l,m]],[/(lg) netcast\.tv/i],[d,c,[l,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[d,"LG"],[l,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[d,"Lenovo"],[l,m]],[/linux;.+((jolla));/i],[d,c,[l,g]],[/((pebble))app\/[\d\.]+\s/i],[d,c,[l,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,c,[l,g]],[/crkey/i],[[c,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[c,[d,"Google"],[l,y]],[/android.+;\s(pixel c)\s/i],[c,[d,"Google"],[l,m]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[d,"Google"],[l,g]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[l,g]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[l,m]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[d,"Meizu"],[l,m]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[c,[d,"OnePlus"],[l,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[d,"RCA"],[l,m]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[d,"Dell"],[l,m]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[d,"Verizon"],[l,m]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],c,[l,m]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[d,"NuVision"],[l,m]],[/android.+;\s(k88)\sbuild/i],[c,[d,"ZTE"],[l,m]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[d,"Swiss"],[l,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[d,"Swiss"],[l,m]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[d,"Zeki"],[l,m]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],c,[l,m]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[d,"Insignia"],[l,m]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[d,"NextBook"],[l,m]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],c,[l,g]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],c,[l,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[d,"Envizen"],[l,m]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,c,[l,m]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[d,"MachSpeed"],[l,m]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,c,[l,m]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[d,"Rotor"],[l,m]],[/android.+(KS(.+))\s+build/i],[c,[d,"Amazon"],[l,m]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,c,[l,m]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[l,w.lowerize],d,c],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,f]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[f,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[f,[p,E.str,I.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[f,"Windows"],[p,E.str,I.os.windows.version]],[/\((bb)(10);/i],[[f,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[f,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[f,"Symbian"],p],[/\((series40);/i],[f],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[f,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[f,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[f,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[f,p],[/(haiku)\s(\w+)/i],[f,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[f,p]]},S=function(e,t){if("object"==typeof e&&(t=e,e=i),!(this instanceof S))return new S(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?w.extend(x,t):x;return this.getBrowser=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:i};return E.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return E.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:i,version:i};return E.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};S.VERSION="0.7.18",S.BROWSER={NAME:f,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:v},S.DEVICE={MODEL:c,VENDOR:d,TYPE:l,CONSOLE:h,MOBILE:g,SMARTTV:b,TABLET:m,WEARABLE:y,EMBEDDED:"embedded"},S.ENGINE={NAME:f,VERSION:p},S.OS={NAME:f,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=S),t.UAParser=S):r(3)?(n=function(){return S}.call(t,r,t,e))===i||(e.exports=n):o&&(o.UAParser=S);var O=o&&(o.jQuery||o.Zepto);if(typeof O!==s){var k=new S;O.ua=k.getResult(),O.ua.get=function(){return k.getUA()},O.ua.set=function(e){k.setUA(e);var t=k.getResult();for(var r in t)O.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(0),i=o.DEVICE_TYPES,a=o.defaultData,s=t.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},u=t.isIOS13Check=function(e){var t=s();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:function(e){switch(e){case i.MOBILE:return{isMobile:!0};case i.TABLET:return{isTablet:!0};case i.SMART_TV:return{isSmartTV:!0};case i.CONSOLE:return{isConsole:!0};case i.WEARABLE:return{isWearable:!0};case i.BROWSER:return{isBrowser:!0};default:return a}},broPayload:function(e,t,r,n,o){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:r.name||!1,engineVersion:r.version,osName:n.name,osVersion:n.version,userAgent:o}},mobilePayload:function(e,t,r,o){return n({},e,{vendor:t.vendor,model:t.model,os:r.name,osVersion:r.version,ua:o})},stvPayload:function(e,t,r,n){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},consolePayload:function(e,t,r,n){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},wearPayload:function(e,t,r,n){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},getNavigatorInstance:s,isIOS13Check:u}}])})),ed=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},td=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},rd=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},nd=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},od=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},id=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ad=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,sd=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ud=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function cd(e){return e?fd(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new id:"undefined"!=typeof navigator?fd(navigator.userAgent):"undefined"!=typeof process&&process.version?new rd(process.version.slice(1)):null}function fd(e){var t=function(e){return""!==e&&sd.reduce((function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new od;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<3&&(o=ed(ed([],o,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-o.length),!0)):o=[];var i=o.join("."),a=function(e){for(var t=0,r=ud.length;t<r;t++){var n=ud[t],o=n[0];if(n[1].exec(e))return o}return null}(e),s=ad.exec(e);return s&&s[1]?new nd(r,i,a,s[1]):new td(r,i,a)}var ld,dd=function(){var e=void 0;try{var t=cd(),r="React_Native";window.navigator.userAgent&&(r="Desktop",Zl.isMobileOnly?r="Mobile":Zl.isTablet&&(r="Tablet")),e={platform:r,OS:t.os?t.os.replace(/\s/g,"_"):t.os,browserName:t.name}}catch(t){e=void 0}return e};function pd(e,t){var r=ws(e);if(Es){var n=Es(e);t&&(n=ks(n).call(n,(function(t){return Rs(e,t).enumerable}))),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(r),!0).forEach((function(t){rs(e,t,r[t])})):_s?Object.defineProperties(e,_s(r)):pd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Rs(r,t))}))}return e}var hd=null!==(ld=window.performance)&&void 0!==ld&&ld.mark?window.performance:n.default.performance,gd=Kl,md=Jl,bd=Yl.STR_FILE_URL,yd=Yl.COORDINATOR_SERVICE_URL,wd=Yl.ABBA_FEED_S3_URL,Ed=function(){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.strFileUrl,i=void 0===o?bd:o,a=n.coordinatorServiceUrl,s=void 0===a?yd:a,u=n.useCachedCoordinatorData,c=void 0!==u&&u;Ya(this,e),this._bindClassFunctions(this),this._bridge=t,this.strFileUrl=i,this.coordinatorServiceUrl=s,this.useCachedCoordinatorData=c,this.userInfo=this._bridge.getPersonalizationAllowedSync&&this._bridge.getPersonalizationAllowedSync()&&(null===(r=this._bridge.getItemSync(md))||void 0===r?void 0:r.personalization)||{}}var t,r,n,o,i,a,s,u,c,f,l,d;return ts(e,[{key:"_bindClassFunctions",value:function(e){e.getTags=e.getTags.bind(e),e.getUserInfo=e.getUserInfo.bind(e),e.getTagsWithContentInfo=e.getTagsWithContentInfo.bind(e),e.getTagsWithDefaults=e.getTagsWithDefaults.bind(e),e.injectIFrame=e.injectIFrame.bind(e),e.setContentMetadata=e.setContentMetadata.bind(e),e.getContentMetadata=e.getContentMetadata.bind(e),e.getSTRValues=e.getSTRValues.bind(e),e.getUrlValues=e.getUrlValues.bind(e),e.refreshCoordinatorServiceData=e.refreshCoordinatorServiceData.bind(e),e.getTargetingMetadata=e.getTargetingMetadata.bind(e),e.getAdRecommendations=e.getAdRecommendations.bind(e),e.fetchCoordinatorServiceData=e.fetchCoordinatorServiceData.bind(e),e._fetchAbbaFeeds=e._fetchAbbaFeeds.bind(e)}},{key:"_withUserInfo",value:(d=Qa(ds.mark((function e(t){var r,n,o,i,a=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this._bridge.getItem(md);case 3:return n=e.sent,o=(null==n?void 0:n.personalization)||{},i=ls({},r,{userInfo:o}),e.abrupt("return",t(i));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"refreshCoordinatorServiceData",value:(l=Qa(ds.mark((function e(){var t,r,n,o,i,a,s,u,c,f,l,d,p,v,h=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:{},n=r.forceCoordinatorFetch,o=void 0!==n&&n,hd.mark("AbbaClient-refreshCoordinatorServiceData-Start"),i=[this._bridge.getCurrentResource(),this._bridge.getPersonalizationAllowed(),this._bridge.getReferrer(),this._bridge.getQueryParams(),this._bridge.needsPersonalizationRefresh()],e.next=5,ns.all(i);case 5:return a=e.sent,s=a[0],u=s.id,c=s.contentType,f=a[1]||!1,l=Fl(a[2],a[3]),d=a[4]||!1,e.next=12,this._bridge.getItem(md);case 12:if(p=e.sent,v={},d||o||!p){e.next=18;break}v=p,e.next=26;break;case 18:if(!this.useCachedCoordinatorData||!p){e.next=23;break}v=p,this.fetchCoordinatorServiceData({baseUrl:this.coordinatorServiceUrl,id:u,contentType:c,deviceInfo:dd(),referrerSource:l,personalizationAllowed:f}),e.next=26;break;case 23:return e.next=25,this.fetchCoordinatorServiceData({baseUrl:this.coordinatorServiceUrl,id:u,contentType:c,deviceInfo:dd(),referrerSource:l,personalizationAllowed:f});case 25:v=e.sent;case 26:return this.userInfo=null===(t=v)||void 0===t?void 0:t.personalization,hd.mark("AbbaClient-refreshCoordinatorServiceData-End"),hd.measure("AbbaClient-refreshCoordinatorServiceData","AbbaClient-refreshCoordinatorServiceData-Start","AbbaClient-refreshCoordinatorServiceData-End"),e.abrupt("return",v);case 30:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"fetchCoordinatorServiceData",value:(f=Qa(ds.mark((function e(t){var r,n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd.mark("AbbaClient-fetchCoordinatorServiceData-Start"),e.next=3,xd(t);case 3:return r=e.sent,e.next=6,this._bridge.getQueryParams();case 6:return e.sent.get("impersonator")&&(n=this._bridge.getCookie("impersonator-mocks").coordinatorMockData,r=af(r,n)),e.next=10,this._bridge.setItem(md,r);case 10:return hd.mark("AbbaClient-fetchCoordinatorServiceData-End"),hd.measure("AbbaClient-fetchCoordinatorServiceData","AbbaClient-fetchCoordinatorServiceData-Start","AbbaClient-fetchCoordinatorServiceData-End"),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"_fetchAbbaFeeds",value:(c=Qa(ds.mark((function e(t){var r,n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd.mark("AbbaClient-_fetchAbbaFeeds-Start"),e.next=3,xd({baseUrl:as(r="".concat(wd,"/")).call(r,t,".json"),limit:null},{includeCredentials:!1});case 3:return n=e.sent,hd.mark("AbbaClient-_fetchAbbaFeeds-End"),hd.measure("AbbaClient-_fetchAbbaFeeds","AbbaClient-_fetchAbbaFeeds-Start","AbbaClient-_fetchAbbaFeeds-End"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getAdParams",value:function(e){return this._withUserInfo(Od,e)}},{key:"getTags",value:function(e){var t,r={},n=this._bridge.getItemSync(gd,!0);this._bridge.getItemSync&&(r=Od({userInfo:(null===(t=this._bridge.getItemSync(md))||void 0===t?void 0:t.personalization)||{},referrer:this._bridge.getReferrerSync(),contentTags:n&&n.contentTags||[]}));return ls({},e,r)}},{key:"getAdRecommendations",value:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.targetingParamLimit;var i=(null===(e=this._bridge.getItemSync(md))||void 0===e?void 0:e.personalization)||{},a={},s={HIGH:"recsh",MEDIUM:"recsm",LOW:"recsl"};if(null!=i&&null!==(t=i.Metadata)&&void 0!==t&&null!==(r=t.prediction)&&void 0!==r&&r.adPropensity)for(var u=0,c=Wc(i.Metadata.prediction.adPropensity);u<c.length;u++){var f=Xo(c[u],2),l=f[0],d=f[1];a[s[l]]=d}return ls({},n,a)}},{key:"getTagsWithDefaults",value:function(e){return this.getTags(e)}},{key:"getTagsWithContentInfo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};this._bridge.getItemSync&&(n=Od({userInfo:null===(e=this._bridge.getItemSync(md))||void 0===e?void 0:e.personalization,referrer:this._bridge.getReferrerSync(),contentTags:r.contentTags||[]}));return ls({},t,n)}},{key:"injectIFrame",value:function(e,t,r){"function"==typeof this._bridge.injectIFrame&&this._bridge.injectIFrame(e,t,r)}},{key:"getPreferredTags",value:function(e){return this._withUserInfo(kd,e)}},{key:"getPreferredResourceTypes",value:function(){return this._withUserInfo(Ad)}},{key:"getPreferredAuthors",value:function(){return this._withUserInfo(Td)}},{key:"getUserSegments",value:function(){return this._withUserInfo(Rd)}},{key:"getUserActions",value:function(){return this._withUserInfo(_d)}},{key:"getUserMetadata",value:(u=Qa(ds.mark((function e(){var t,r,n,o,i,a;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(md);case 2:return t=e.sent,r=(null==t?void 0:t.personalization)||{},n=(r||{}).Metadata,i=Id((o=void 0===n?{}:n).attribute),a=ls({},o,{attribute:i}),e.abrupt("return",{Metadata:a});case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getGeoIPData",value:(s=Qa(ds.mark((function e(){var t;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bridge.getItem(md);case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.geoIP)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"getContextMetadata",value:(a=Qa(ds.mark((function e(){var t;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._bridge.getReferrer();case 3:return t=e.sent,e.abrupt("return",{Metadata:{attribute:{domainCategory:(r=t,n=void 0,o=void 0,n=Cl(r),o=Al[n],o||(o=Al.OTHERS),o)}}});case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{});case 11:case"end":return e.stop()}var r,n,o}),e,this,[[0,7]])}))),function(){return a.apply(this,arguments)})},{key:"setContentMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adCodes,r=void 0===t?[]:t,n=e.archived,o=void 0!==n&&n,i=e.brand,a=void 0===i?"":i,s=e.contentTags,u=void 0===s?[]:s,c=e.contentType,f=void 0===c?"":c,l=e.franchise,d=void 0===l?"":l,p=e.id,v=void 0===p?"":p,h=e.metadata,g=void 0===h?{}:h;return this._bridge.setItem(gd,{adCodes:r,archived:o,brand:a,contentTags:u,contentType:f,franchise:d,id:v,articleMetadata:g},!0)}},{key:"getContentMetadata",value:function(){return this._bridge.getItem(gd,!0)}},{key:"getSTRValues",value:(i=Qa(ds.mark((function e(){var t,r,n,o,i,a,s,u;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r=[this._bridge.getItem(gd,!0),this._bridge.getItem(md),this._fetchSTRFile(this.strFileUrl)],e.prev=2,e.next=5,ns.all(r);case 5:return i=e.sent,a=i[0]&&i[0].adCodes||[],s=(null===(n=i[1])||void 0===n||null===(o=n.geoIP)||void 0===o?void 0:o.country)||"",u=i[2],ws(Hl).forEach((function(e){var r=Hl[e];t[e]=r(a,s,u)})),e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(){return i.apply(this,arguments)})},{key:"_fetchSTRFile",value:(o=Qa(ds.mark((function e(t){var r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error(r.statusText);case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"getUrlValues",value:(n=Qa(ds.mark((function e(){var t,r,n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"",utmValues:void 0,queryParams:void 0},r=[this._bridge.getUrl(),this._bridge.getQueryParams("utm_.*"),this._bridge.getQueryParams()],e.prev=2,e.next=5,ns.all(r);case 5:n=e.sent,t.url=n[0]||"",t.utmValues=n[1]||new Au,t.queryParams=n[2]||new Au,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return n.apply(this,arguments)})},{key:"getTargetingMetadata",value:(r=Qa(ds.mark((function e(){var t,r,n,o,i,a,s,u,c;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getContentMetadata();case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return t=e.t0,r=[this.getContextMetadata(),this.getAdParams(t.contentTags),this.getUrlValues(),this.getUserMetadata(),this.getGeoIPData()],e.next=10,ns.all(r);case 10:return n=e.sent,o=Xo(n,5),i=o[0],a=o[1],s=o[2],u=o[3],c=o[4],e.abrupt("return",{contextInfo:i,tagsInfo:a,urlUtmValues:s,contentMetadata:t,byzantium:u,geoIP:c});case 20:throw e.prev=20,e.t1=e.catch(0),console.error(e.t1),e.t1;case 24:case"end":return e.stop()}}),e,this,[[0,20]])}))),function(){return r.apply(this,arguments)})},{key:"getDeviceInfo",value:function(){var e=dd();return vd(vd({},e),{},{deviceInfoString:ff({deviceInfo:e})})}},{key:"getReferrerSource",value:(t=Qa(ds.mark((function e(){var t,r,n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this._bridge.getReferrer(),this._bridge.getQueryParams()],e.next=3,ns.all(t);case 3:return r=e.sent,n=Fl(r[0],r[1]),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function Id(e){var t,r,n,o,i,a=new Date,s=e&&e.firstVisitedDate?(t=a,r=e.firstVisitedDate,n=Xo(r.split("-"),2),o=n[0],i=n[1],12*(t.getFullYear()-parseInt(o))+(t.getMonth()+1-parseInt(i))+1):1;return ls({},e,{calendarMonthSinceFirstVisit:s})}function xd(e){return Sd.apply(this,arguments)}function Sd(){return(Sd=Qa(ds.mark((function e(t){var r,n,o,i,a,s,u,c,f=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},n=r.includeCredentials,o=void 0===n||n,hd.mark("AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-Start")),i=t.fetchApi,a=void 0===i?fetch:i,s=cf(t),e.prev=4,e.next=7,a(s,{credentials:o?"include":void 0});case 7:return u=e.sent,c=u.json(),hd.mark("AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-End")),hd.measure("AbbaClient-_fetchWrapper-".concat(t.baseUrl),"AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-Start"),"AbbaClient-_fetchWrapper-".concat(t.baseUrl,"-End")),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(4),console.error("Failed to fetch data from url: ".concat(s,"."),e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function Od(e){var t=e.userInfo,r=e.contentTags;return gl({userInfo:t,contextInfo:{referrer:e.referrer,contentTags:r}})}function kd(e){return ml({userInfo:e.userInfo,contextInfo:{contentTags:e.contentTags}}).preferredTagsTypeMap}function Ad(e){return ml({userInfo:e.userInfo}).preferredResourceTypesMap}function Td(e){return ml({userInfo:e.userInfo}).preferredAuthorsMap}function Rd(e){return Pd({userInfo:e.userInfo,targetField:"segment",outputField:"userSegments"})}function _d(e){return Pd({userInfo:e.userInfo,targetField:"action",outputField:"userActions"})}function Pd(e){var t=e.userInfo,r=e.targetField,n=e.outputField,o=(t||{}).Metadata,i=(o=void 0===o?{}:o)[r],a=void 0===i?[]:i;return rs({},n,qc(a).call(a,(function(e){return e["".concat(r,"Id")]})))}var Cd=io,Nd=xo("Array").entries,Ld=Array.prototype,jd={DOMTokenList:!0,NodeList:!0},Md=function(e){var t=e.entries;return e===Ld||V(Ld,e)&&t===Ld.entries||ve(jd,dt(e))?Nd:t},Dd=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function n(e){var t=document.cookie.match("(^|;) ?".concat(e,"=([^;$]*)"));return t?t[2]:""}function o(e,t){return-1!==e.indexOf(t)}function i(e){window.__tcfapi("removeEventListener",2,(function(t){t||console.warn("[ms.consent] Failed to remove __tcfapi event listener",e)}),e)}function a(){return o(n("bbgconsentstring"),"req1")}function s(){return o(n("bbgconsentstring"),"fun1")}function u(){return o(n("bbgconsentstring"),"pad1")}r.r(t),t.default={waitForUserConsent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),r(new Error("__tcfapi and __uspapi not loaded"));var n=!1,o=setTimeout((function(){console.error("[ms.consent] Timeout in `waitForUserConsent` with options",e),r(new Error("No response from __tcfapi event listener"))}),e.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,(function(e,a){if(!a)return console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),r(new Error("Unable to assign event listener"));if(!n)if(void 0!==e.gdprApplies){clearTimeout(o);var s=e.gdprApplies,u=e.eventStatus,c=e.listenerId;s?"tcloaded"!==u&&"useractioncomplete"!==u||(t({tcData:e}),i(c),n=!0):(window.__uspapi("getUSPData",1,(function(e,n){if(!n)return console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),r(new Error("Unable to get US privacy data from __uspapi"));t({uspData:e})})),i(c),n=!0)}else console.warn("[ms.consent] Received `gdprApplies` as undefined")}))}))},gdprAppliesAsync:function(){return window.__tcfapi?new Promise((function(e,t){window.__tcfapi("getTCData",2,(function(r,n){n?e(r.gdprApplies):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise((function(e,t){window.__tcfapi("getTCData",2,(function(r,n){n?e(r.tcString):t(new Error("Failed to `getTCData` from __tcfapi"))}))})):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise((function(e,t){window.__uspapi("getUSPData",1,(function(r,n){n?e(r.uspString):t(new Error("Failed to `getUSPData` from __uspapi"))}))})):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:a,reqAllowedAsync:function(){return Promise.resolve(a())},funAllowed:s,funAllowedAsync:function(){return Promise.resolve(s())},padAllowed:u,padAllowedAsync:function(){return Promise.resolve(u())}}}]).default,Fd=function(e,t){if(e&&e.cookie){var r=e.cookie.match("(^|;) ?"+t+"=([^;$]*)");if(r)return r[2]}return null},Ud="contentMetadata",Bd="mostRecentResource";function $d(){try{var e=JSON.parse(window.sessionStorage.getItem(Ud)),t=e.id,r=e.contentType;if(void 0!==t&&void 0!==r)return{id:t,contentType:r}}catch(e){}return{}}var Gd="reg-user-info-ready",zd="session_id",Vd="session_key",Wd="agent_id",Xd="_breg-uid";function Hd(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Fd(document,zd),r=Fd(document,Vd),n=Fd(document,Wd),o=Fd(document,Xd);return t&&r&&n&&o||e?{sessionId:t,sessionKey:r,agentId:n,userId:o}:null}function Kd(e){var t=e.sessionId,r=e.sessionKey,n=e.agentId,o=e.userId,i={};return t&&(i.session_id=t),r&&(i.session_key=r),n&&(i.agent_id=n),o&&(i.breg=o),i}function Jd(e,t){var r=void 0!==Cd&&bo(e)||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){var r;if(!e)return;if("string"==typeof e)return qd(e,t);var n=pf(r=Object.prototype.toString.call(e)).call(r,8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Mc(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qd(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function qd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qd=function(){function e(){Ya(this,e),window.addEventListener("beforeunload",(function(){window.sessionStorage.removeItem(Ud),window.sessionStorage.removeItem(Bd)}))}return ts(e,[{key:"setItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new ns((function(n,o){try{r?window.sessionStorage.setItem(e,$f(t)):window.localStorage.setItem(e,$f(t)),n()}catch(e){o(e)}}))}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new ns((function(r){try{r(t?JSON.parse(window.sessionStorage.getItem(e)):JSON.parse(window.localStorage.getItem(e)))}catch(e){r(null)}}))}},{key:"getItemSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null;try{r=t?JSON.parse(window.sessionStorage.getItem(e)):JSON.parse(window.localStorage.getItem(e))}catch(e){}return r}},{key:"getReferrer",value:function(){var e="";try{e=document.referrer}catch(e){}return ns.resolve(e)}},{key:"getReferrerSync",value:function(){var e="";try{e=document.referrer}catch(e){}return e}},{key:"getUrl",value:function(){var e="";try{e=window.location.href}catch(e){}return ns.resolve(e)}},{key:"getQueryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new Au;try{var r=new Au(window.location.search);if(e)t=r;else{var n,o=new RegExp(e,"i"),i=Jd(Md(r).call(r));try{for(i.s();!(n=i.n()).done;){var a=Xo(n.value,2),s=a[0],u=a[1];s.match(o)&&t.append(s,u)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){}return ns.resolve(t)}},{key:"getCurrentResource",value:function(){return ns.resolve($d())}},{key:"needsPersonalizationRefresh",value:function(){var e=this,t=!0;return new ns((function(r){var n,o=$d(),i=o.id,a=o.contentType,s=as(n="".concat(a,"|")).call(n,i);e.getItem(Bd,!0).then((function(r){return t=void 0===a&&void 0===i||r!==s,e.setItem(Bd,s,!0)})).then((function(){r(t)}))}))}},{key:"getPersonalizationAllowed",value:function(){return ns.resolve(Dd.padAllowed())}},{key:"getPersonalizationAllowedSync",value:function(){return Dd.padAllowed()}},{key:"getSessionInfo",value:function(){return(e=window._regUserInfo||Hd())?ns.resolve(Kd(e)):new ns((function(t,r){var n;try{n=function(o){var i=o.detail;window.removeEventListener(Gd,n),e=i;try{t(Kd(e))}catch(e){return r("exception in _formatUserInfo")}},window.addEventListener(Gd,n),setTimeout((function(){window.removeEventListener(Gd,n),e=Hd(!0),t(Kd(e))}),2e3)}catch(e){return window.removeEventListener(Gd,n),r("exception in getSessionInfo")}}));var e}},{key:"injectIFrame",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e&&e.getElementsByTagName("iframe").length>0||""===r)return e=null,!1;var n=document.createElement("iframe");return n.setAttribute("src",r),n.setAttribute("style","width: 100%; height: "+t.height),e.appendChild(n),e=null,n=null,!0}},{key:"getCookie",value:function(e){var t=decodeURIComponent(Fd(document,e));try{return JSON.parse(t)}catch(e){return t}}}]),e}(),Yd=s((function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0})),Zd=s((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0})),ep=s((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0})),tp=Object.prototype.hasOwnProperty,rp=Object.prototype.propertyIsEnumerable;function np(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function op(e,t,r){var n=t[r];if(null!=n){if(tp.call(e,r)&&(void 0===e[r]||null===e[r]))throw new TypeError("Cannot convert undefined or null to object ("+r+")");var o,i;!tp.call(e,r)||(i=typeof(o=n),null===o||"object"!==i&&"function"!==i)?e[r]=n:e[r]=ip(Object(e[r]),t[r])}}function ip(e,t){if(e===t)return e;for(var r in t=Object(t))tp.call(t,r)&&op(e,t,r);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),o=0;o<n.length;o++)rp.call(t,n[o])&&op(e,t,n[o]);return e}var ap=function(e){e=np(e);for(var t=1;t<arguments.length;t++)ip(e,arguments[t]);return e},sp=s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Yd(Zd),n=Yd(ep),o=Yd(ap),i=function(e,t){return new Promise((function(r,n){try{var o=e();t&&t(null,o),r(o)}catch(e){t&&t(e),n(e)}}))},a=function(e,t,r){return Promise.all(e).then((function(e){var n=r?r(e):null;return t&&t(null,n),Promise.resolve(n)}),(function(e){return t&&t(e),Promise.reject(e)}))},s=function(){function e(){(0,r.default)(this,e)}return(0,n.default)(e,null,[{key:"getItem",value:function(e,t){return i((function(){return window.localStorage.getItem(e)}),t)}},{key:"setItem",value:function(e,t,r){return i((function(){window.localStorage.setItem(e,t)}),r)}},{key:"removeItem",value:function(e,t){return i((function(){return window.localStorage.removeItem(e)}),t)}},{key:"mergeItem",value:function(e,t,r){return i((function(){!function(e,t){var r=window.localStorage.getItem(e),n=JSON.parse(r),i=JSON.parse(t),a=JSON.stringify((0,o.default)({},n,i));window.localStorage.setItem(e,a)}(e,t)}),r)}},{key:"clear",value:function(e){return i((function(){window.localStorage.clear()}),e)}},{key:"getAllKeys",value:function(e){return i((function(){for(var e=window.localStorage.length,t=[],r=0;r<e;r+=1){var n=window.localStorage.key(r);t.push(n)}return t}),e)}},{key:"flushGetRequests",value:function(){}},{key:"multiGet",value:function(t,r){var n=t.map((function(t){return e.getItem(t)}));return a(n,r,(function(e){return e.map((function(e,r){return[t[r],e]}))}))}},{key:"multiSet",value:function(t,r){var n=t.map((function(t){return e.setItem(t[0],t[1])}));return a(n,r)}},{key:"multiRemove",value:function(t,r){var n=t.map((function(t){return e.removeItem(t)}));return a(n,r)}},{key:"multiMerge",value:function(t,r){var n=t.map((function(t){return e.mergeItem(t[0],t[1])}));return a(n,r)}}]),e}();t.default=s})),up=function(e){return{getItem:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cp.default.getItem.apply(cp.default,[e].concat(r))},setItem:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cp.default.setItem.apply(cp.default,[e].concat(r))},mergeItem:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cp.default.mergeItem.apply(cp.default,[e].concat(r))},removeItem:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cp.default.removeItem.apply(cp.default,[e].concat(r))}}},cp=Yd(sp);var fp=Object.defineProperty({useAsyncStorage:up},"__esModule",{value:!0}),lp=a(s((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useAsyncStorage",{enumerable:!0,get:function(){return fp.useAsyncStorage}}),t.default=void 0;var r=Yd(sp).default;t.default=r}))),dp=function(){function e(t){Ya(this,e),this.storage=t}return ts(e,[{key:"get",value:function(e){return this.storage.getItem(e).then((function(e){return JSON.parse(e)})).catch((function(){return null}))}},{key:"multiGet",value:function(e){return this.storage.multiGet(e).then((function(e){return qc(e).call(e,(function(e){return[e[0],JSON.parse(e[1])]}))})).catch((function(){return null}))}},{key:"set",value:function(e,t){return this.storage.setItem(e,$f(t))}},{key:"delete",value:function(e){return this.storage.removeItem(e)}}]),e}(),pp=function(){function e(){Ya(this,e),this.storage=new dp(lp)}return ts(e,[{key:"setItem",value:function(e,t){return this.storage.set(e,t)}},{key:"getItem",value:function(e){return this.storage.get(e)}},{key:"getItemSync",value:function(e){return{}}},{key:"getReferrer",value:function(){return ns.resolve("")}},{key:"getReferrerSync",value:function(){return""}},{key:"getUrl",value:function(){return ns.resolve("")}},{key:"getQueryParams",value:function(){return ns.resolve(void 0)}},{key:"getCurrentResource",value:function(){return ns.resolve({})}},{key:"needsPersonalizationRefresh",value:function(){return ns.resolve(!1)}},{key:"getPersonalizationAllowed",value:function(){return ns.resolve(!1)}},{key:"getPersonalizationAllowedSync",value:function(){return!1}},{key:"getSessionInfo",value:function(){return ns.resolve({})}},{key:"injectIFrame",value:function(){return ns.resolve(!0)}}]),e}(),vp="Feed was null or undefined.",hp="Feed targets was null or undefined.",gp="Feed targets was not passed as an array.",mp="Feed targets was empty.",bp=function(e){if(!e)throw Nu(vp),new Error(vp);if(!e.targets)throw Nu(hp),new Error(hp);if(!Array.isArray(e.targets))throw Nu(gp),new Error(gp);if(0===e.targets.length)throw Nu(mp),new Error(mp);return!0},yp="1.0.0",wp=new(function(){function e(){Ya(this,e),this.jobQueue=[],this.running=!1}var t,r,n;return ts(e,[{key:"push",value:(n=Qa(ds.mark((function e(t){var r,n,o,i;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new ns((function(e,t){r=e,n=t})),i={fn:t,resolve:r,reject:n},this.jobQueue.push(i),this.runNextJob(),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"runNextJob",value:(r=Qa(ds.mark((function e(){var t,r;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.jobQueue.length>0)||this.running){e.next=15;break}return this.running=!0,t=this.jobQueue.shift(),e.prev=3,e.next=6,t.fn.call();case 6:r=e.sent,t.resolve(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.reject(e.t0);case 13:return this.running=!1,e.abrupt("return",this.runNextJob());case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return r.apply(this,arguments)})},{key:"flushQueue",value:(t=Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.push((function(){}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),Ep=function(e){return Cu("Sanitizing feed"),e=e.data||e,Array.isArray(e)&&(e={targets:e}),e.targets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config)),"string"==typeof e.condition&&(e.condition=JSON.parse(e.condition)),e.experiments&&e.experiments.forEach((function(e){e.buckets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config))}))})),e.globalExperiments&&e.globalExperiments.forEach((function(e){e.buckets.forEach((function(e){"string"==typeof e.config&&(e.config=JSON.parse(e.config))}))}))})),Cu("Successfully sanitized feed"),e},Ip=yr.f("iterator");function xp(e){return(xp="function"==typeof ao&&"symbol"==typeof Ip?function(e){return typeof e}:function(e){return e&&"function"==typeof ao&&e.constructor===ao&&e!==ao.prototype?"symbol":typeof e})(e)}function Sp(e){return function(e){if(et(e))return Vo(e)}(e)||function(e){if(void 0!==ao&&null!=bo(e)||null!=e["@@iterator"])return zo(e)}(e)||Wo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Op=xo("Array").values,kp=Array.prototype,Ap={DOMTokenList:!0,NodeList:!0},Tp=function(e){var t=e.values;return e===kp||V(kp,e)&&t===kp.values||ve(Ap,dt(e))?Op:t},Rp=xo("Array").keys,_p=Array.prototype,Pp={DOMTokenList:!0,NodeList:!0},Cp=function(e){var t=e.keys;return e===_p||V(_p,e)&&t===_p.keys||ve(Pp,dt(e))?Rp:t},Np=function(){var e,t;return!(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||!t.userAgent)&&(Zl.isMobileOnly?"mobile":Zl.isTablet?"tablet":"desktop")},Lp=function(){if(window&&window.navigator){var e=cd();return e&&e.name}return!1},jp=function(){if(window&&window.navigator){var e=cd();return e&&e.os}return!1};var Mp="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Dp={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Fp=s((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=Dp,n=(t=e.exports={}).re=[],o=t.src=[],i=t.t={};let a=0;const s=(e,t,r)=>{const s=a++;Mp(s,t),i[e]=s,o[s]=t,n[s]=new RegExp(t,r?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),s("FULL",`^${o[i.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),s("LOOSE",`^${o[i.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),s("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),s("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),s("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",o[i.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));const Up=["includePrerelease","loose","rtl"];var Bp=e=>e?"object"!=typeof e?{loose:!0}:Up.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const $p=/^[0-9]+$/,Gp=(e,t)=>{const r=$p.test(e),n=$p.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var zp={compareIdentifiers:Gp,rcompareIdentifiers:(e,t)=>Gp(t,e)};const{MAX_LENGTH:Vp,MAX_SAFE_INTEGER:Wp}=Dp,{re:Xp,t:Hp}=Fp,{compareIdentifiers:Kp}=zp;class Jp{constructor(e,t){if(t=Bp(t),e instanceof Jp){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>Vp)throw new TypeError(`version is longer than ${Vp} characters`);Mp("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?Xp[Hp.LOOSE]:Xp[Hp.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Wp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wp||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Wp)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Mp("SemVer.compare",this.version,this.options,e),!(e instanceof Jp)){if("string"==typeof e&&e===this.version)return 0;e=new Jp(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Jp||(e=new Jp(e,this.options)),Kp(this.major,e.major)||Kp(this.minor,e.minor)||Kp(this.patch,e.patch)}comparePre(e){if(e instanceof Jp||(e=new Jp(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(Mp("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Kp(r,n)}while(++t)}compareBuild(e){e instanceof Jp||(e=new Jp(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(Mp("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Kp(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var qp=Jp;var Qp=(e,t,r)=>new qp(e,r).compare(new qp(t,r));var Yp=(e,t,r)=>Qp(e,t,r)>0;var Zp=(e,t,r)=>Qp(e,t,r)<0;var ev=(e,t,r)=>0===Qp(e,t,r);var tv=(e,t,r)=>0!==Qp(e,t,r);var rv=(e,t,r)=>Qp(e,t,r)>=0;var nv=(e,t,r)=>Qp(e,t,r)<=0,ov=function(){var e=Qa(ds.mark((function e(t,r){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t.store,e.next="byzantium"===e.t0?4:"userInfo"===e.t0?5:"geo"===e.t0?6:"device"===e.t0?7:"content"===e.t0?8:"userAgent"===e.t0?9:"os"===e.t0?10:"contextInfo"===e.t0?11:"tagsInfo"===e.t0?12:"contentMetadata"===e.t0?13:"url"===e.t0?14:"semver"===e.t0?15:16;break;case 4:return e.abrupt("return",pv(t,r.byzantium));case 5:return e.abrupt("return",pv(t,r));case 6:return e.abrupt("return",av(t,r));case 7:return e.abrupt("return",sv(t));case 8:return e.abrupt("return",iv(t));case 9:return e.abrupt("return",uv(t));case 10:return e.abrupt("return",cv(t));case 11:return e.abrupt("return",vv(t,r.contextInfo));case 12:return e.abrupt("return",vv(t,r.tagsInfo));case 13:return e.abrupt("return",vv(t,r.contentMetadata));case 14:return e.abrupt("return",hv(t,r.urlUtmValues));case 15:return e.abrupt("return",bv(t,r.appVersion));case 16:return e.abrupt("return",!1);case 17:e.next=22;break;case 19:return e.prev=19,e.t1=e.catch(0),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,r){return e.apply(this,arguments)}}(),iv=function(){var e=Qa(ds.mark((function e(t){var r,n,o,i,a;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc.getContentTags();case 2:if((r=e.sent)&&r.length){e.next=5;break}return e.abrupt("return",!1);case 5:return n=t.id.split("|"),o=Xo(n,2),i=o[0],a=o[1],e.abrupt("return",r.some((function(e){return e.type===i&&e.id===a&&lv(e.derivedScore,t.value,t.comparator,t.type)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),av=function(){var e=Qa(ds.mark((function e(t,r){var n;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc.geoIP(r);case 2:return n=e.sent.country,e.abrupt("return",lv(n,t.value,t.comparator,t.type));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),sv=function(){var e=Qa(ds.mark((function e(t){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lv(Np(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uv=function(){var e=Qa(ds.mark((function e(t){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lv(Lp(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cv=function(){var e=Qa(ds.mark((function e(t){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lv(jp(),t.value,t.comparator,t.type));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fv=function(e,t,r){if(!t)return!1;var n=ks(t).call(t,(function(t){return t["".concat(r,"Id")]?lv(t["".concat(r,"Id")],e.value,e.comparator,e.type):lv(t.id,e.value,e.comparator,e.type)}));return"not"===e.comparator?n.length===t.length:1===n.length};function lv(e,t,r,n){var o;if("boolean"===n)return function(e,t,r){switch(r){case"eq":return e===t;case"not":return e!==t;default:return!1}}(e,t,r);if(void 0===e)return!1;switch(r){case"gt":return e>t;case"lt":return e<t;case"eq":return e===t;case"not":return e!==t;case"gte":return e>=t;case"lte":return e<=t;case"ct":return-1!==e.indexOf(t);case"nct":return-1===e.indexOf(t);case"rgx":return o=new RegExp(t),null!==e.match(o);default:return!1}}var dv,pv=function(e,t){var r=e.path.split("."),n=r[r.length-1],o=yv(r,t);return Array.isArray(o)?"numeric"===e.type?function(e,t,r){if(!t)return!1;var n=bs(t).call(t,(function(t){return t["".concat(r,"Id")]===e.id}));return!!n&&lv(n.confidence,e.value,e.comparator,e.type)}(e,o,n):fv(e,o,n):lv(o,e.value,e.comparator,e.type)},vv=function(e,t){var r=e.path.split("."),n=yv(r,t);return Array.isArray(n)?fv(e,n,r[r.length-1]):lv(n,e.value,e.comparator,e.type)},hv=function(e,t){switch(e.id){case"utmCode":return gv(e,t.utmValues);case"queryParameters":return mv(e,t.queryParams);case"url":return vv(e,t)}},gv=function(e,t){return Sp(Tp(t).call(t)).some((function(t){return lv(t,e.value,e.comparator,e.type)}))},mv=function(e,t){var r;return ks(r=Sp(Cp(t).call(t))).call(r,(function(t){return lv(t,e.indicator_value,e.indicator_comparator,e.type)})).some((function(r){return lv(t.get(r),e.value,e.comparator,e.type)}))},bv=function(e,t){switch(e.comparator){case"gt":return Yp(t,e.value);case"lt":return Zp(t,e.value);case"eq":return ev(t,e.value);case"not":return tv(t,e.value);case"gte":return rv(t,e.value);case"lte":return nv(t,e.value);default:return!1}},yv=function(e,t){return e.reduce((function(e,t){return void 0!==e&&void 0!==e[t]?e[t]:void 0}),t)},wv=function(){var e=Qa(ds.mark((function e(t,r){var n,o,i;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.or){e.next=15;break}o=0;case 2:if(!(o<t.or.length)){e.next=12;break}return n=t.or[o],e.next=6,wv(n,r);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:o++,e.next=2;break;case 12:return e.abrupt("return",!1);case 15:if(void 0===t.and){e.next=30;break}i=0;case 17:if(!(i<t.and.length)){e.next=27;break}return n=t.and[i],e.next=21,wv(n,r);case 21:if(e.sent){e.next=24;break}return e.abrupt("return",!1);case 24:i++,e.next=17;break;case 27:return e.abrupt("return",!0);case 30:return e.abrupt("return",ov(t,r));case 31:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ev=function(){var e=Qa(ds.mark((function e(t,r,n){var o,i;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="object"===xp(t)?$f(t):t,void 0===n[o]){e.next=5;break}return e.abrupt("return",n[o]);case 5:return e.next=7,wv(t,r);case 7:return i=e.sent,n[o]=i,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Iv=null!==(dv=window.performance)&&void 0!==dv&&dv.mark?window.performance:n.default.performance;return function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.platform,o=void 0===n?"frontend":n,i=r.options,a=void 0===i?{useCachedCoordinatorData:!1}:i;Ya(this,e),rs(this,"refresh",this._init),rs(this,"evaluateUrlInfo",hv),Pu("Abba-Client version ".concat(yp)),this._platform=o,this._bridge="mobile"===(null==o?void 0:o.toLowerCase())?new pp:new Qd,oc.setBridge(this._bridge),Cu("Bridge set"),this._byzantium=new Ed(this._bridge,{useCachedCoordinatorData:null!==(t=a.useCachedCoordinatorData)&&void 0!==t&&t}),Cu("Byzantium initialized")}var t,r,n,o,i,a,s,u;return ts(e,[{key:"_init",value:(u=Qa(ds.mark((function e(){var t,r,n,o,i,a,s,u=this,c=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.contentMetadata,n=void 0===r?{}:r,o=t.abbaFeeds,i=void 0===o?null:o,a=t.options,s=void 0===a?{forceCoordinatorFetch:!1}:a,Iv.mark("AbbaClient-_init-Start"),wp.push(Qa(ds.mark((function e(){var t,r,o,a;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[function(){var e=Qa(ds.mark((function e(){var t;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u._byzantium.setContentMetadata(n);case 2:return e.next=4,u._byzantium.refreshCoordinatorServiceData({forceCoordinatorFetch:null!==(t=s.forceCoordinatorFetch)&&void 0!==t&&t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),null!=i?i:u._byzantium._fetchAbbaFeeds(u._platform)],e.next=4,ns.all(t);case 4:r=e.sent,(o=Xo(r,2))[0],a=o[1],u._feeds=a,u._impersonatorMode="true"===localStorage.getItem("inImpersonatorMode"),u._impersonatorMode&&Pu("abba-client is running in Impersonator Mode"),Iv.mark("AbbaClient-_init-End"),Iv.measure("AbbaClient-_init","AbbaClient-_init-Start","AbbaClient-_init-End"),Cu("Resolved Byzantium getAbbaFeeds, setContentMetadata and refreshCoordinatorServiceData calls");case 14:case"end":return e.stop()}}),e)})))),Cu("Queued Byzantium setContentMetadata and refreshCoordinatorServiceData calls");case 4:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"getConfig",value:(s=Qa(ds.mark((function e(t){var r,n,o=this,i=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},t){e.next=3;break}throw new Error("You must provide a platformObject name for getConfig to obtain its abba target/experiment feed.");case 3:return e.next=5,wp.push(Qa(ds.mark((function e(){var n,i,a,s;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!==(n=null==o?void 0:o._feeds[t])&&void 0!==n?n:null){e.next=3;break}throw new Error(as(a="The feed for platform object ".concat(t," is not present in the ")).call(a,o._platform," feeds object"));case 3:return e.next=5,o._getConfig(i,r);case 5:return s=e.sent,Cu("Resolved getConfig call for platformObject: ".concat(t)),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)}))));case 5:return n=e.sent,Cu("Queued getConfig call for platformObject: ".concat(t)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"_getConfig",value:(a=Qa(ds.mark((function e(t){var r,n,o,i,a,s,u,c,f,l,d,p,v,h,g,m,b,y,w,E,I,x,S,O,k,A,T,R,_,P,C,N=arguments;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=N.length>1&&void 0!==N[1]?N[1]:{},e.prev=1,t=Ep(t),bp(t),Pu("Received valid feed",t),Pu("Provided user info",r),e.next=8,this._byzantium.getTargetingMetadata();case 8:n=e.sent,o=n.contextInfo,i=void 0===o?Ec(dc):o,a=n.tagsInfo,s=void 0===a?Ec(pc):a,u=n.urlUtmValues,c=void 0===u?Ec(vc):u,f=n.contentMetadata,l=void 0===f?Ec(hc):f,d=n.byzantium,p=n.geoIP,Pu("Context info set",i),Pu("Tags info set",s),Pu("UrlUtmValues ",c),Pu("Content Metadata set",l),Pu("Byzantium info set",d),Pu("GeoIP info set",p),r=Ec(lc)||ls({},r,{byzantium:d},{contextInfo:i},{tagsInfo:s},{urlUtmValues:c},{contentMetadata:l},{geoIP:p}),Pu("Final user info set",r),v={},h=new Uc,Cu("Evaluating experiments..."),g=t.targets.length-1;case 22:if(!(g>=0)){e.next=68;break}return m=t.targets[g],e.next=26,oc.lockedInExperiment(m);case 26:if(e.t0=e.sent,e.t0){e.next=31;break}return e.next=30,Ev(m.condition,r,v);case 30:e.t0=e.sent;case 31:if(!e.t0){e.next=65;break}return Pu("Met condition for target ".concat(m.targetId),m),b=void 0,e.prev=35,e.next=38,sc(m);case 38:b=e.sent,e.next=45;break;case 41:return e.prev=41,e.t1=e.catch(35),Nu("Attempted to evaluate experiments for the target ".concat(m.targetId," but an error occurred."),{target:m,error:e.t1}),e.abrupt("continue",65);case 45:if(!b){e.next=62;break}return E=as(y=as(w="".concat(m.targetId,".")).call(w,b.experimentId,"=")).call(y,b.bucketId),I=void 0,x=void 0,e.prev=48,e.next=51,oc.getExperimentPlacement(b.experimentId);case 51:x=e.sent,I=h.addExperimentConfig(b.config,E,b.endTime,x),e.next=59;break;case 55:return e.prev=55,e.t2=e.catch(48),Nu("Attempted to get the previous placement for experiment ".concat(b.experimentId," and add it to the config object but an error occurred."),{experimentPlacement:x,error:e.t2}),e.abrupt("continue",65);case 59:Pu(I?as(S=as(O="Placed into experiment ".concat(b.experimentId," in bucket ")).call(O,b.bucketId," of target ")).call(S,m.targetId):as(k=as(A="Attempted to place into experiment ".concat(b.experimentId," in bucket ")).call(A,b.bucketId," of target ")).call(k,m.targetId,", but there were overlapping configurations."),b),e.next=65;break;case 62:return e.next=64,oc.setTargetPlacement(m.targetId,null,null);case 64:Pu("User did not fall into any experiment in ".concat(m.targetId));case 65:g--,e.next=22;break;case 68:Cu("Evaluating targets..."),T=t.targets.length-1;case 70:if(!(T>=0)){e.next=92;break}return R=t.targets[T],e.next=74,Ev(R.condition,r,v);case 74:if(!e.sent){e.next=89;break}return _=void 0,P=void 0,e.prev=77,e.next=80,oc.getTargetPlacement(R.targetId);case 80:P=e.sent,_=h.addTargetConfig(R.config,R.targetId,P),e.next=88;break;case 84:return e.prev=84,e.t3=e.catch(77),Nu("Attempted to get the previous placement for target ".concat(R.targetId," and add it to the config object but an error occurred."),{targetPlacement:P,error:e.t3}),e.abrupt("continue",89);case 88:Pu(_?"Target ".concat(R.targetId," configuration applied"):"Attempted to apply target ".concat(R.targetId," but there were overlapping configurations."),R);case 89:T--,e.next=70;break;case 92:return Cu("Applying preview configs"),e.next=95,wc(h.getConfig());case 95:return C=e.sent,Pu("Final configuration",C),e.abrupt("return",C);case 100:throw e.prev=100,e.t4=e.catch(1),console.error(e.t4),Nu("Error in processing",e.t4),e.t4;case 105:case"end":return e.stop()}}),e,this,[[1,100],[35,41],[48,55],[77,84]])}))),function(e){return a.apply(this,arguments)})},{key:"getAdRecommendations",value:(i=Qa(ds.mark((function e(t,r){var n=this;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.push(Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._byzantium.getAdRecommendations(t,r));case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"getGeoIPData",value:(o=Qa(ds.mark((function e(){var t=this;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.push(Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._byzantium.getGeoIPData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"getTags",value:(n=Qa(ds.mark((function e(t){var r=this;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.push(Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._byzantium.getTags(t));case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getUserInfo",value:(r=Qa(ds.mark((function e(){var t=this;return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.push(Qa(ds.mark((function e(){return ds.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._byzantium.getUserInfo());case 1:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}],[{key:"build",value:(t=Qa(ds.mark((function t(){var r,n,o,i,a,s,u,c,f,l,d=arguments;return ds.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:{},n=r.platform,o=void 0===n?"frontend":n,i=r.contentMetadata,a=void 0===i?{}:i,s=r.abbaFeeds,u=void 0===s?null:s,c=r.options,l=new e({platform:o,options:f=void 0===c?{useCachedCoordinatorData:!1,forceCoordinatorFetch:!0}:c}),t.next=4,l._init({contentMetadata:a,abbaFeeds:u,options:f});case 4:return t.abrupt("return",l);case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]),e}()}));
