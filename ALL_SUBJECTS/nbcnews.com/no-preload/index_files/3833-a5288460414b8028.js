(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3833],{42758:function(e,t,n){"use strict";n.d(t,{R:function(){return E}});var r=n(85893),i=n(67294),a=n(13978),o=n(45697),c=n.n(o),s=n(94184),u=n.n(s),l=n(81993),f=n(79767),p=n(32242),d=n(63100),m=n(70131),h=n(9448),_=n(11752);n(88852);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function S(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?v(e):t}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}var j=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}var O=i.lazy((function(){return n.e(7745).then(n.t.bind(n,37745,23))})),P=(0,_.default)().publicRuntimeConfig.SAILTHRU_CUSTOMER_ID,A="nl-signup-input",E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,n,o,c=k(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),b(v(t=c.call(this,e)),"handleChange",(function(e){var n=e.target.value;t.setState({emailAddress:n})})),b(v(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state.emailAddress;(0,f.Z)(n)?(t.inputBoxEl.setCustomValidity(""),t.recaptchaInstance.execute(),t.setState({emailInvalid:!1})):(t.inputBoxEl.setCustomValidity(a.ZP.t("Invalid email")),t.formEl.reportValidity(),t.setState({emailInvalid:!0}))})),b(v(t),"captchaVerify",(function(){var e=t.props,n=e.newsletterId,r=e.signupSource,i=e.onSubmit,a=e.onError,o=e.newsletterIdSource,c=t.state.emailAddress,s={id:c,key:"email",email:c,lists:{Master:1},vars:g(b({},n,1),o&&b({},o,r),{sign_up_date:(new Date).toISOString(),referrer:null===document||void 0===document?void 0:document.referrer,domain:null===document||void 0===document?void 0:document.location.href}),source:r,onSuccess:function(e){var n=e.email;t.setState({submitted:!0}),i(n)},onError:function(){a()}};(0,l.T)(s,P)})),b(v(t),"renderButton",(function(e){var n,i=t.props.vertical,o=(0,p.xT)(d.NL_SIGNUP_BUTTON_ANIMATED,i),c=a.ZP.t("Sign Up"),s=t.props.isRail;return(0,r.jsx)(h.Z,{additionalClasses:u()("".concat(A,"__button"),(n={},b(n,"".concat(A,"__button--grayscale"),e),b(n,"".concat(A,"__button--rail"),s),n)),animated:o,"data-confirm_howl":"false","data-show_prompt":"false",id:"email-subscribe-button",onClick:t.handleSubmit,title:c,type:"button"})})),t.state={emailAddress:"",emailInvalid:!1,submitted:!1},t}return t=s,(n=[{key:"render",value:function(){var e,t,n,o,c=this,s=this.props,l=s.renderOnSuccess,f=s.sitekey,p=s.isRail,d=s.grayscale,h=this.state,_=h.emailAddress,v=h.emailInvalid,y=h.submitted;return(0,r.jsxs)("div",{className:A,children:[(0,r.jsx)("div",{className:u()("".concat(A,"__input-wrapper"),(e={},b(e,"".concat(A,"__input-wrapper--grayscale"),d),b(e,"".concat(A,"__input-wrapper--rail"),p),e)),children:y?(0,r.jsx)("div",{className:u()("".concat(A,"__submitted-message"),b({},"".concat(A,"__submitted-message--rail"),p)),children:i.cloneElement(l)}):(0,r.jsxs)("form",{className:u()("".concat(A,"__form"),(t={},b(t,"".concat(A,"__form--grayscale"),d),b(t,"".concat(A,"__form--rail"),p),t)),ref:function(e){c.formEl=e},children:[(0,r.jsx)("input",{className:u()("".concat(A,"__input"),(n={},b(n,"".concat(A,"__input--grayscale"),d),b(n,"".concat(A,"__input--invalid"),v),b(n,"".concat(A,"__input--rail"),p),n)),name:"emailAddress",onChange:this.handleChange,placeholder:a.ZP.t("Enter your email"),ref:function(e){c.inputBoxEl=e},value:_,required:"required","aria-required":"true",type:"email",minLength:"3"}),this.renderButton(d)]})}),(0,r.jsxs)("footer",{className:u()("".concat(A,"__footer"),(o={},b(o,"".concat(A,"__footer--grayscale"),d),b(o,"".concat(A,"__footer--rail"),p),o)),children:[a.ZP.t("This site is protected by recaptcha"),"\xa0",(0,r.jsxs)("span",{className:u()("".concat(A,"__recaptcha-links"),b({},"".concat(A,"__recaptcha-links--rail"),p)),children:[(0,r.jsx)("a",{className:u()("".concat(A,"__recaptcha-link"),b({},"".concat(A,"__recaptcha-link--rail"),p)),href:"https://www.nbcuniversal.com/privacy",rel:"noopener noreferrer",target:"_blank",children:a.ZP.t("Privacy Policy")}),p&&"\xa0","\xa0|\xa0",p&&"\xa0",(0,r.jsx)("a",{className:u()("".concat(A,"__recaptcha-link"),b({},"".concat(A,"__recaptcha-link--rail"),p)),href:"https://www.nbcuniversal.com/terms",rel:"noopener noreferrer",target:"_blank",children:a.ZP.t("Terms of Service")})]})]}),f&&(0,r.jsx)(m.df,{children:function(e){var t=e.inView,n=e.ref;return(0,r.jsx)("div",{ref:n,children:t&&(0,r.jsx)(i.Suspense,{fallback:null,children:(0,r.jsx)(O,{ref:function(e){c.recaptchaInstance=e},onVerify:c.captchaVerify,sitekey:f,size:"invisible"})})})}})]})}}])&&y(t.prototype,n),o&&y(t,o),s}(i.Component);b(E,"propTypes",{newsletterId:c().string.isRequired,onError:c().func,onSubmit:c().func,renderOnSuccess:c().node,signupSource:c().string,sitekey:c().string.isRequired,vertical:c().string.isRequired,isRail:c().bool,newsletterIdSource:c().string,grayscale:c().string}),b(E,"defaultProps",{onError:Function.prototype,onSubmit:Function.prototype,renderOnSuccess:(0,r.jsx)("p",{children:a.ZP.t("You have been successfully added to our newsletter")}),signupSource:null,isRail:!1,newsletterIdSource:null,grayscale:!1})},53279:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r=function(e){switch(e){case"news":case"today":case"msnbc":default:return"6LeCn4odAAAAAFt1umE7XdVqlpUB2-e20vksHlQL";case"noticias":return"6LfHVOQUAAAAAPSCmupFMjHMATCo3lMVB9f6LFdK"}}},81993:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(34051),i=n.n(r);function a(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)}))}}var c=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.Sailthru.init({customerId:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("error initializing non-prod Sailthru client",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.Sailthru||"object"!==typeof window.Sailthru){e.next=6;break}if(!n){e.next=4;break}return e.next=4,c(n);case 4:r=t.id,a=t.email,r&&a&&window.Sailthru.integration("userSignUp",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},79767:function(e,t){"use strict";var n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;t.Z=function(e){return n.test(String(e).toLowerCase())}},88852:function(){}}]);