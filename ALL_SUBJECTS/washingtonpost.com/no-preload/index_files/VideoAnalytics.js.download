!function(){var t={1989:function(t,e,n){var o=n(1789),r=n(401),i=n(7667),a=n(1327),s=n(1866);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},8407:function(t,e,n){var o=n(7040),r=n(4125),i=n(2117),a=n(7518),s=n(4705);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},7071:function(t,e,n){var o=n(852)(n(5639),"Map");t.exports=o},3369:function(t,e,n){var o=n(4785),r=n(1285),i=n(6e3),a=n(9916),s=n(5265);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},6384:function(t,e,n){var o=n(8407),r=n(7465),i=n(3779),a=n(7599),s=n(4758),u=n(4309);function c(t){var e=this.__data__=new o(t);this.size=e.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},2705:function(t,e,n){var o=n(5639).Symbol;t.exports=o},1149:function(t,e,n){var o=n(5639).Uint8Array;t.exports=o},6874:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},4636:function(t,e,n){var o=n(2545),r=n(5694),i=n(1469),a=n(4144),s=n(5776),u=n(6719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&r(t),p=!n&&!l&&a(t),d=!n&&!l&&!p&&u(t),v=n||l||p||d,f=v?o(t.length,String):[],h=f.length;for(var w in t)!e&&!c.call(t,w)||v&&("length"==w||p&&("offset"==w||"parent"==w)||d&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||s(w,h))||f.push(w);return f}},9932:function(t){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}},2488:function(t){t.exports=function(t,e){for(var n=-1,o=e.length,r=t.length;++n<o;)t[r+n]=e[n];return t}},6556:function(t,e,n){var o=n(9465),r=n(7813);t.exports=function(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&o(t,e,n)}},4865:function(t,e,n){var o=n(9465),r=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&r(a,n)&&(void 0!==n||e in t)||o(t,e,n)}},8470:function(t,e,n){var o=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},9465:function(t,e,n){var o=n(8777);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},3118:function(t,e,n){var o=n(3218),r=Object.create,i=function(){function t(){}return function(e){if(!o(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},1078:function(t,e,n){var o=n(2488),r=n(7285);t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=r),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,a,s):o(s,l):a||(s[s.length]=l)}return s}},8483:function(t,e,n){var o=n(5063)();t.exports=o},7786:function(t,e,n){var o=n(1811),r=n(327);t.exports=function(t,e){for(var n=0,i=(e=o(e,t)).length;null!=t&&n<i;)t=t[r(e[n++])];return n&&n==i?t:void 0}},4239:function(t,e,n){var o=n(2705),r=n(9607),i=n(2333),a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):i(t)}},8565:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},13:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:function(t,e,n){var o=n(4239),r=n(7005);t.exports=function(t){return r(t)&&"[object Arguments]"==o(t)}},8458:function(t,e,n){var o=n(3560),r=n(5346),i=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,p=c.hasOwnProperty,d=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||r(t))&&(o(t)?d:s).test(a(t))}},8749:function(t,e,n){var o=n(4239),r=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&r(t.length)&&!!a[o(t)]}},313:function(t,e,n){var o=n(3218),r=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return i(t);var e=r(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},2980:function(t,e,n){var o=n(6384),r=n(6556),i=n(8483),a=n(9783),s=n(3218),u=n(1704),c=n(6390);t.exports=function t(e,n,l,p,d){e!==n&&i(n,(function(i,u){if(d||(d=new o),s(i))a(e,n,u,l,t,p,d);else{var v=p?p(c(e,u),i,u+"",e,n,d):void 0;void 0===v&&(v=i),r(e,u,v)}}),u)}},9783:function(t,e,n){var o=n(6556),r=n(4626),i=n(7133),a=n(278),s=n(8517),u=n(5694),c=n(1469),l=n(9246),p=n(4144),d=n(3560),v=n(3218),f=n(8630),h=n(6719),w=n(6390),m=n(9881);t.exports=function(t,e,n,y,g,b,_){var k=w(t,n),S=w(e,n),T=_.get(S);if(T)o(t,n,T);else{var x=b?b(k,S,n+"",t,e,_):void 0,A=void 0===x;if(A){var P=c(S),C=!P&&p(S),O=!P&&!C&&h(S);x=S,P||C||O?c(k)?x=k:l(k)?x=a(k):C?(A=!1,x=r(S,!0)):O?(A=!1,x=i(S,!0)):x=[]:f(S)||u(S)?(x=k,u(k)?x=m(k):v(k)&&!d(k)||(x=s(S))):A=!1}A&&(_.set(S,x),g(x,S,y,b,_),_.delete(S)),o(t,n,x)}}},5970:function(t,e,n){var o=n(3012),r=n(9095);t.exports=function(t,e){return o(t,e,(function(e,n){return r(t,n)}))}},3012:function(t,e,n){var o=n(7786),r=n(611),i=n(1811);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=o(t,c);n(l,c)&&r(u,i(c,t),l)}return u}},5976:function(t,e,n){var o=n(6557),r=n(5357),i=n(61);t.exports=function(t,e){return i(r(t,e,o),t+"")}},611:function(t,e,n){var o=n(4865),r=n(1811),i=n(5776),a=n(3218),s=n(327);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=r(e,t)).length,p=l-1,d=t;null!=d&&++c<l;){var v=s(e[c]),f=n;if("__proto__"===v||"constructor"===v||"prototype"===v)return t;if(c!=p){var h=d[v];void 0===(f=u?u(h,v,d):void 0)&&(f=a(h)?h:i(e[c+1])?[]:{})}o(d,v,f),d=d[v]}return t}},6560:function(t,e,n){var o=n(5703),r=n(8777),i=n(6557),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:i;t.exports=a},2545:function(t){t.exports=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}},531:function(t,e,n){var o=n(2705),r=n(9932),i=n(1469),a=n(3448),s=o?o.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return r(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:function(t,e,n){var o=n(7990),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},1717:function(t){t.exports=function(t){return function(e){return t(e)}}},1811:function(t,e,n){var o=n(1469),r=n(5403),i=n(5514),a=n(9833);t.exports=function(t,e){return o(t)?t:r(t,e)?[t]:i(a(t))}},4318:function(t,e,n){var o=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}},4626:function(t,e,n){t=n.nmd(t);var o=n(5639),r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,a=i&&i.exports===r?o.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,o=s?s(n):new t.constructor(n);return t.copy(o),o}},7133:function(t,e,n){var o=n(4318);t.exports=function(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:function(t){t.exports=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}},8363:function(t,e,n){var o=n(4865),r=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?r(n,c,l):o(n,c,l)}return n}},4429:function(t,e,n){var o=n(5639)["__core-js_shared__"];t.exports=o},1463:function(t,e,n){var o=n(5976),r=n(6612);t.exports=function(t){return o((function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++o<i;){var u=n[o];u&&t(e,u,o,a)}return e}))}},5063:function(t){t.exports=function(t){return function(e,n,o){for(var r=-1,i=Object(e),a=o(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(i[u],u,i))break}return e}}},8777:function(t,e,n){var o=n(852),r=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},9021:function(t,e,n){var o=n(5564),r=n(5357),i=n(61);t.exports=function(t){return i(r(t,void 0,o),t+"")}},1957:function(t,e,n){var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},5050:function(t,e,n){var o=n(7019);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},852:function(t,e,n){var o=n(8458),r=n(7801);t.exports=function(t,e){var n=r(t,e);return o(n)?n:void 0}},5924:function(t,e,n){var o=n(5569)(Object.getPrototypeOf,Object);t.exports=o},9607:function(t,e,n){var o=n(2705),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,s=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var o=!0}catch(t){}var r=a.call(t);return o&&(e?t[s]=n:delete t[s]),r}},7801:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},222:function(t,e,n){var o=n(1811),r=n(5694),i=n(1469),a=n(5776),s=n(1780),u=n(327);t.exports=function(t,e,n){for(var c=-1,l=(e=o(e,t)).length,p=!1;++c<l;){var d=u(e[c]);if(!(p=null!=t&&n(t,d)))break;t=t[d]}return p||++c!=l?p:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(i(t)||r(t))}},1789:function(t,e,n){var o=n(4536);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},401:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:function(t,e,n){var o=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},1327:function(t,e,n){var o=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:r.call(e,t)}},1866:function(t,e,n){var o=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},8517:function(t,e,n){var o=n(3118),r=n(5924),i=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:o(r(t))}},7285:function(t,e,n){var o=n(2705),r=n(5694),i=n(1469),a=o?o.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||r(t)||!!(a&&t&&t[a])}},5776:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var o=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:function(t,e,n){var o=n(7813),r=n(8612),i=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?r(n)&&i(e,n.length):"string"==s&&e in n)&&o(n[e],t)}},5403:function(t,e,n){var o=n(1469),r=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:function(t,e,n){var o,r=n(4429),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!i&&i in t}},5726:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},7040:function(t){t.exports=function(){this.__data__=[],this.size=0}},4125:function(t,e,n){var o=n(8470),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},2117:function(t,e,n){var o=n(8470);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},7518:function(t,e,n){var o=n(8470);t.exports=function(t){return o(this.__data__,t)>-1}},4705:function(t,e,n){var o=n(8470);t.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},4785:function(t,e,n){var o=n(1989),r=n(8407),i=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},1285:function(t,e,n){var o=n(5050);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},6e3:function(t,e,n){var o=n(5050);t.exports=function(t){return o(this,t).get(t)}},9916:function(t,e,n){var o=n(5050);t.exports=function(t){return o(this,t).has(t)}},5265:function(t,e,n){var o=n(5050);t.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},4523:function(t,e,n){var o=n(8306);t.exports=function(t){var e=o(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:function(t,e,n){var o=n(852)(Object,"create");t.exports=o},3498:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:function(t,e,n){t=n.nmd(t);var o=n(1957),r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,a=i&&i.exports===r&&o.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},5357:function(t,e,n){var o=n(6874),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=r(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),o(t,this,c)}}},5639:function(t,e,n){var o=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},6390:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},61:function(t,e,n){var o=n(6560),r=n(1275)(o);t.exports=r},1275:function(t){var e=Date.now;t.exports=function(t){var n=0,o=0;return function(){var r=e(),i=16-(r-o);if(o=r,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:function(t,e,n){var o=n(8407);t.exports=function(){this.__data__=new o,this.size=0}},3779:function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:function(t){t.exports=function(t){return this.__data__.get(t)}},4758:function(t){t.exports=function(t){return this.__data__.has(t)}},4309:function(t,e,n){var o=n(8407),r=n(7071),i=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!r||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},5514:function(t,e,n){var o=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=o((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,o,r){e.push(o?r.replace(i,"$1"):n||t)})),e}));t.exports=a},327:function(t,e,n){var o=n(3448);t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5703:function(t){t.exports=function(t){return function(){return t}}},3279:function(t,e,n){var o=n(3218),r=n(7771),i=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u,c,l,p,d,v,f=0,h=!1,w=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,o=c;return u=c=void 0,f=e,p=t.apply(o,n)}function g(t){return f=t,d=setTimeout(_,e),h?y(t):p}function b(t){var n=t-v;return void 0===v||n>=e||n<0||w&&t-f>=l}function _(){var t=r();if(b(t))return k(t);d=setTimeout(_,function(t){var n=e-(t-v);return w?s(n,l-(t-f)):n}(t))}function k(t){return d=void 0,m&&u?y(t):(u=c=void 0,p)}function S(){var t=r(),n=b(t);if(u=arguments,c=this,v=t,n){if(void 0===d)return g(v);if(w)return clearTimeout(d),d=setTimeout(_,e),y(v)}return void 0===d&&(d=setTimeout(_,e)),p}return e=i(e)||0,o(n)&&(h=!!n.leading,l=(w="maxWait"in n)?a(i(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==d&&clearTimeout(d),f=0,u=v=c=d=void 0},S.flush=function(){return void 0===d?p:k(r())},S}},7813:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:function(t,e,n){var o=n(1078);t.exports=function(t){return null!=t&&t.length?o(t,1):[]}},7361:function(t,e,n){var o=n(7786);t.exports=function(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}},8721:function(t,e,n){var o=n(8565),r=n(222);t.exports=function(t,e){return null!=t&&r(t,e,o)}},9095:function(t,e,n){var o=n(13),r=n(222);t.exports=function(t,e){return null!=t&&r(t,e,o)}},6557:function(t){t.exports=function(t){return t}},5694:function(t,e,n){var o=n(9454),r=n(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},1469:function(t){var e=Array.isArray;t.exports=e},8612:function(t,e,n){var o=n(3560),r=n(1780);t.exports=function(t){return null!=t&&r(t.length)&&!o(t)}},9246:function(t,e,n){var o=n(8612),r=n(7005);t.exports=function(t){return r(t)&&o(t)}},4144:function(t,e,n){t=n.nmd(t);var o=n(5639),r=n(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?o.Buffer:void 0,u=(s?s.isBuffer:void 0)||r;t.exports=u},3560:function(t,e,n){var o=n(4239),r=n(3218);t.exports=function(t){if(!r(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},8630:function(t,e,n){var o=n(4239),r=n(5924),i=n(7005),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=o(t))return!1;var e=r(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},3448:function(t,e,n){var o=n(4239),r=n(7005);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},6719:function(t,e,n){var o=n(8749),r=n(1717),i=n(1167),a=i&&i.isTypedArray,s=a?r(a):o;t.exports=s},1704:function(t,e,n){var o=n(4636),r=n(313),i=n(8612);t.exports=function(t){return i(t)?o(t,!0):r(t)}},8306:function(t,e,n){var o=n(3369);function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=t.apply(this,o);return n.cache=i.set(r,a)||i,a};return n.cache=new(r.Cache||o),n}r.Cache=o,t.exports=r},2492:function(t,e,n){var o=n(2980),r=n(1463)((function(t,e,n){o(t,e,n)}));t.exports=r},308:function(t){t.exports=function(){}},7771:function(t,e,n){var o=n(5639);t.exports=function(){return o.Date.now()}},8718:function(t,e,n){var o=n(5970),r=n(9021)((function(t,e){return null==t?{}:o(t,e)}));t.exports=r},5062:function(t){t.exports=function(){return!1}},4841:function(t,e,n){var o=n(7561),r=n(3218),i=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9881:function(t,e,n){var o=n(8363),r=n(1704);t.exports=function(t){return o(t,r(t))}},9833:function(t,e,n){var o=n(531);t.exports=function(t){return null==t?"":o(t)}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o](i,i.exports,n),i.loaded=!0,i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){"use strict";var t=n(308),e=n.n(t),o=n(7361),r=n.n(o),i=n(2492),a=n.n(i);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){var e=t||{};return{vpaid:"object"===s(e.vpaid)||e.vpaid,numberOfRedirects:e.adWrapperIds?e.adWrapperIds.length:null,adId:e.adId||null,adQueryId:e.adQueryId||null,creativeId:function(t){var e=t.adWrapperCreativeIds||[],n=t.creativeId||"";return e.push(n),e.filter((function(t){return!!t})).join(",")}(e),title:e.title||null,description:e.description||null,mediaUrl:e.mediaUrl,adSystem:e.adSystem||null,adMeta:function(t){var e=Object.assign({},t);"object"===s(e.vpaid)&&(e.vpaid=!!e.vpaid);try{return JSON.stringify(e)}catch(t){return console.debug(t),""}}(e),isPreloadingAd:e.isPreloading,adWrapperSystems:(e.adWrapperSystems||[]).join(","),adDuration:e.duration}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["715998959","138210079292","716945960","138228291976"];return t&&"string"==typeof t.creativeId?e.includes(t.creativeId):null}var l=n(8718),p=n.n(l);function d(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null}function v(t){return new Date(t).getTime()}function f(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(){try{return window.self!==window.top}catch(t){return!0}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{if(!I(t))return"";t=(t=t.split("/")[2]).split(":")[0]}catch(t){console.debug(t)}return t}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof HTMLElement){var o=t.getBoundingClientRect();return o.top+t.offsetHeight*e>=0&&o.bottom-t.offsetHeight*e<=(window.innerHeight||document.documentElement.clientHeight)&&(!n||o.left>=0)&&(!n||o.right<=(window.innerWidth||document.documentElement.clientWidth))}return null}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.prop,o=void 0===n?"name":n,r=e.begin,i=void 0===r?0:r;if(!Array.isArray(t)||t.length<=i)return null;var a=t.slice(i).map((function(t){return t[o]})).join(";");return a.includes(";")&&(a+=";"),a}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];for(var n in t)e.push(t[n].text);return e}function b(t){return t?t.join(";"):""}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();return window.performance.timing.navigationStart>0?t-window.performance.timing.navigationStart:null}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();return window.performance.timing.domContentLoadedEventStart>0?t-window.performance.timing.domContentLoadedEventStart:null}function S(){return r()(window,"wp_pb.pageName")||r()(window,"Fusion.template")||""}function T(){return!0===r()(window,"wp_meta_data.isHomepage")||"homepage"===r()(window,"Fusion.metas.contentType.value")}function x(){return!!r()(window,"pageName","").startsWith("video-leaf-page")||S().startsWith("video")}function A(){return T()?"homepage":x()?"leaf":(e=S()).startsWith("article")||e.startsWith("template/article")||(t=r()(window,"__NEXT_DATA__.props.pageProps.globalContent.subtype"),"LUF"===window.pageType||"highlights"===t||"live-all"===t)?"article page":window.location.href.indexOf("/graphics/")>-1||"interactive graphics"===r()(window,"wp_content_type","")?"graphics":"wpvIframe"===window.pageType||/washingtonpost\.com\/(video|posttv)\/c\/embed/.test(window.location.href)?"iframe":"other";var t,e}function P(t){var e=t.powa,n=t.powaId,o=t.powaTrack,i=t.event;return o||(e&&!n&&(n=e.getID()),o=r()(window,"powas[".concat(n,"].powaTrack"),[])),o.filter((function(t){return t.event===i}))[0]||null}function C(t){var e=t.powa,n=t.powaId,o=t.powaTrack,r=t.event,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),a=P({powa:e,powaId:n,powaTrack:o,event:r});if(a){var s=a.timestamp;return i-s}return null}var O,j,I=function(t){return/^https?:\/\//.test(t)},E=(O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e={};return t&&(window.URLSearchParams?new URLSearchParams(t).forEach((function(t,n){e[n]=t})):t.replace(/(^\?)/,"").split("&").forEach((function(t){t=t.split("="),e[t[0]]=t[1]}))),e}().embedContext,window.wp_meta_data&&!0===window.wp_meta_data.isPWA||"pwa"===window.wp_site?"pwa":/^(fbInstant|amp|pwa)$/.test(O)?O.toLowerCase():"");function D(){var t,e={url:(t=window.location.origin,t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),"".concat(t).concat(window.location.pathname)),urlQueryString:window.location.search,urlHash:window.location.hash,HTTP_REFERER:document.referrer,isSignedIn:!!d("wapo_secure_login_id"),isIframe:window.top!==window.self,embedContext:E,site:"amp"===E&&/freshcontent=1/.test(document.referrer)?"ampfresh":"amp"===E?"amphtml":E||(window.self===window.top&&document.domain.indexOf("washingtonpost.com")>-1||window.self!==window.top&&"document.domain"==document.domain&&document.domain===window.top.document.domain?"www.washingtonpost.com":void 0),templateName:S(),powaVersion:r()(window,"PoWa.VERSION"),powaBuild:r()(window,"PoWa.BUILD"),pageType:A(),pageSection:window.wp_section||"",_pageSubSection:window.wp_subsection||""},n=d("wapo_actmgmt")||"";e.isSubscriber=-1!==n.indexOf("isub:1");try{e.page=window.s.pageName,e.channel=window.s.channel,e.type=window.s.prop3}catch(t){}var o=function(){if(window.wp_pb&&window.wp_pb.BrowserInfo){var t=window.wp_pb.BrowserInfo;return{browser:t.browser&&t.browser.toLowerCase(),os:t.OS&&t.OS.toLowerCase(),version:t.version&&t.version.split(".")[0]}}}();return o&&(e.browser=o.browser,e.os=o.os,e.version=o.version),x()&&(e.medleyHash=r()(window,"__NEXT_DATA__.props.pageProps.buildHash")),e}function M(){return{visibilityState:document.visibilityState,persisted:j,imaVersion:r()(window,"google.ima.VERSION")}}function V(t){if(!t)return{};var e,n=t.getElement(),o=t.getDataset(),i=t.getStatus(),a=r()(i,"stream"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaBoot.js";return document.querySelector('script[src*="'+t+'"]')}(),u={playerType:N(o),streamType:W(a),streamDomain:L(a),cdn:B(L(a))||null,ptvenv:R(s),powaLoadedVia:(e=s,e?e.dataset.loadedBy||e.dataset.loadedVia:null),nthVideoOnPage:o.powaIndex,_isPrerollPlugin:o.prerollOnly,_isAdDisabledOnPlayer:!1===o.ads,articleAutoplay:o.articleAutoplay,isLooping:o.continuousPlay||o.loop,offsetTop:U(n),promoType:H(t),variant:o.variant};u.loadedBy=o.loadedBy||null,u.loadedByReason=o.loadedByReason||null,u.adTimeoutLength=o.adTimeouts.adStart,u.initOnScroll=!0===o.initOnScroll||!0===o.noVideoOnLivebarStart||!0===o.curtainNonInitialState;var c=function(){var t=window.PoWaSettings&&window.PoWaSettings.client||{};return{browser:t.browserName,os:t.isAndroid?"android":t.isKindle?"kindle":t.isMac?"mac":t.isLinux?"linux":t.isIOS?"ios":t.isWindows?"windows":t.isChromeOs?"chromeOS":"",version:t.version,isWebView:t.isWebView}}();return c&&(u.browser=c.browser,u.os=c.os,u.version=c.version,c.isWebView&&(u.isWebView=c.isWebView)),!0===o.loop&&(!1===o.ads&&(u._adNotSupported=!0),u.player="powa-loopingVideo"),u}function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var e=t.split("/").pop(),n=e.split(".")[1].split("?")[0];return n}catch(t){return null}}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?t.split("/")[2]:null}function B(t){if(t){if(/akamai/.test(t))return"akamai";if(/posttv\.com|cloudfront.net/.test(t))return"cloudfront"}}function N(t){var e="posttv-embed".concat(E?"-"+E:"");return t.playerType?e=t.playerType:!0===t.discovery?e="posttv-embed-playlist":window.wp_meta_data&&!0===window.wp_meta_data.isHomepage?e="posttv-embed-hp":window.self!==window.top?e="posttv-embed-iframe":window.wp_pb&&/video-leaf-page/.test(window.wp_pb.pageName)&&(e="posttv-leaf"),e}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaBoot.js",n=t&&t.src?t.src.toLowerCase():null,o=n?n.split("//")[1].split("/").slice(1):[],r=o.reduce((function(t,n,o){return n.indexOf(e.toLowerCase())>-1?o:t}),0);return 0===r?"prod":"js"===o[r-1]?"local":o[r-1]}function F(t){return t&&t.closest?null!==t.closest(".powa-sticky-stick.powa-sticky"):null}function U(t){var e;try{var n=window!=window.parent?window.parent:window,o=t.getBoundingClientRect(),r=n.pageYOffset||document.documentElement.scrollTop;e=Math.floor(o.top+r)}catch(t){}return e}function H(t){var e=t.getElement();if(e.querySelector("video.powa-shot-promo-video"))return"mp4";var n=e.querySelector(".powa-shot-image.powa-click-promo-play, .powa-shot-image.powa-click-promo-play-debounced");if(n){var o=getComputedStyle(n).backgroundImage;return o&&"none"!==o?(o=o.slice(5,-2)).endsWith(".gif")?"gif":"image":null}return null}window.addEventListener("pageshow",(function(t){t.persisted&&(j="persisted")}));var z=n(8721),q=n.n(z);function $(t){var e=t.find((function(t){return"promoPlay"===t.event||"start"===t.event}));if(e){if(r()(e,"data.videoStarts")>1)return"continuous";if("promoPlay"===e.event)return"manual";if("start"===e.event){var n=r()(e,"data.powa"),o=n?n.getDataset():null;return o&&o.loop?"looping":"autoplay"}}}function Y(t){if(!t)return{};var e=t.getPoWaTrack(),n={startReason:$(e)},o=e.filter((function(t){return"adRequest"===t.event}))[0],i=e.filter((function(t){return"adImpression"===t.event}))[0],a=e.filter((function(t){return"adStart"===t.event}))[0],s=e.filter((function(t){return"adComplete"===t.event}))[0],u=e.filter((function(t){return"adBarSkip"===t.event}))[0],l=a||i||o,p=e.filter((function(t){return"adStartTimeout"===t.event}))[0],d=e.filter((function(t){return"adError"===t.event}))[0];if(l){n._isAdEventAvailable=!0;var v=l.data.adStatus,f=v.adMeta;n._isBlankAd=c(f),n._isPreloadAd=v.adPreload,n._isAdTimeout=!!p,n._isAdRequest=!!o,n._isAdStarted=!!a,n._isAdCompleted=!!s,n._isAdBarSkipped=!!u,n._isAdError=!!d}else n._isAdEventAvailable=!1;var h=e.filter((function(t){return"mtSession"===t.event}))[0];h?(n.mt=!1===q()(h,"data.error"),n.mtError=q()(h,"data.error")):(n.mt=!1,n.mtError=!1);var w=e.filter((function(t){return"mtAvails"===t.event}))[0];w?(n.mtAvails=!0,n.mtCreativeId=r()(w,"data.avails[0].ads[0].creativeId"),n.mtVastAdId=r()(w,"data.avails[0].ads[0].vastAdId"),n.mtAdTitle=r()(w,"data.avails[0].ads[0].adTitle")):n.mtAvails=!1,e.filter((function(t){return"preview2-autoplay"===t.event}))[0]&&(n.isPreview2=!0),e.filter((function(t){return"onceplay-autoplay"===t.event}))[0]&&(n.isOnceplay=!0);var m=e.filter((function(t){return"adHeaderBidding"===t.event}))[0];m&&(n.adHeaderBidding=!0,n.adHeaderBiddingProvider=r()(m,"data.provider"));var y=e.filter((function(t){return"irisStart"===t.event}))[0];if(y){var g=e.filter((function(t){return"irisBidRequest"===t.event}))[0],b=e.filter((function(t){return"irisBidFetched"===t.event}))[0];b&&(n.irisRunTime=b.timestamp-y.timestamp,n.irisBidTime=b.timestamp-g.timestamp),e.filter((function(t){return"irisTimeout"===t.event}))[0]&&(n.irisTimeout=!0)}return e.filter((function(t){return"WapoUpUpcoming_notUpcoming"===t.event}))[0]&&(n.wasUpcoming=!0),n}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){if("object"!==J(t))return{};var e,n,o,i,a,s={videoId:t._id||null,videoName:r()(t,"headlines.basic",null),videoType:"live"===t.video_type?"livestream":"video",videoSource:r()(t,"source.name",null),videoCMS:r()(t,"source.system"),videoHost:r()(t,"credits.host_talent",null),subsection:r()(t,"additional_properties.subsection",null),secondarySections:r()(t,"taxonomy.sections",null),durationInSeconds:t.duration?t.duration/1e3:0,editors:G(t),streamName:r()(t,"additional_properties.streamName",""),streamDisplayName:r()(t,"additional_properties.streamDisplayName",""),contributors:r()(t,"credits.contributors"),videoCategory:r()(t,"additional_properties.videoCategory"),provider:r()(t,"streams[0].provider"),keywords:r()(t,"taxonomy.seo_keywords",null),tags:r()(t,"taxonomy.tags",null),canonicalUrl:r()(t,"canonical_url"),displayDate:(e=r()(t,"display_date"),n=new Date(e),o=n.getDate().toString(),i=(n.getMonth()+1).toString(),a=n.getFullYear().toString(),1==i.length&&(i="0"+i),1==o.length&&(o="0"+o),a+"-"+i+"-"+o),_dateLastPublished:v(t.last_updated_date),_adAllowed:Q(t)};return Q(t)&&(X(t)&&(s.missingAdSetUrl=!0),tt(t)&&(s.missingAdZone=!0),et(t)&&(s.invalidAdZone=!0),s.videoAdZone=r()(t,"additional_properties.advertising.videoAdZone")),s}function G(t){var e=r()(t,"credits.by",[]).filter((function(t){return t.name}));if(0==e.length){var n=r()(t,"credits.host_talent"),o=r()(t,"credits.contributors");if(n&&0!==n.length||o&&0!==o.length)e=null;else{var i=r()(t,"additional_properties.firstPublishedBy.name",""),a=r()(t,"additional_properties.firstPublishedBy.lastname","");e=i||a?[{name:"".concat(i," ").concat(a)}]:null}}return e}var Q=function(t){var e=r()(t,"additional_properties.playVideoAds"),n=K(t);return e&&n},K=function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{if(t=w(t)){var e=t.split("."),n=e.length,o="co"===e[n-2]?3:2;if(n>=o){for(var r=[];o;)r.push(e[n-o]),o--;t=r.join(".")}}}catch(t){console.debug(t)}return t}();if(/washingtonpost\.com|localhost|thelily\.com|arcpublishing\.com|wpprivate\.com/.test(e))return!0;var n=w();return!!/www-washingtonpost-com\.cdn\.ampproject\.org|wpit\.nile\.works/.test(n)||r()(t,"additional_properties.advertising.allowPrerollOnDomain")},X=function(t){return!r()(t,"additional_properties.advertising.adSetUrls.apps","")},tt=function(t){return!r()(t,"additional_properties.advertising.videoAdZone","")},et=function(t){var e=r()(t,"additional_properties.advertising.videoAdZone","");return!1===/wpni.video/.test(e)};function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();if(!t)return{};var n={},o=Object.keys(t);o.forEach((function(o){n["timeSince".concat(f(o))]=e-t[o]}));var r=k(e);return r&&(n.timeSinceDomContentLoaded=r),n}function ot(){var t;try{t=this.powa.getStatus().yt}catch(t){}return{videoAnalyticsVersion:"1.17.9",playCounter:this.playCounter,vendor:t?"YouTube":this.powa?"PoWa":void 0,adEndVisibilityState:this.adEndVisibilityState}}function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t){return t.map((function(t){return t.name})).join(", ")}function at(t){var e=t.subsection||"",n=t._dateLastPublished,o=t.videoName,r=new Date(n).toLocaleDateString("en-US"),i=e?e.toLowerCase()+":":"";return"".concat(i,"video - ").concat(r," - ").concat(o)}var st="wp - ";function ut(t,e){return e.indexOf(t)>=0?e:"".concat(t).concat(e)}function ct(t){return"object"!==rt(t)?{}:{eVar2:t.pageSection?ut(st,t.pageSection):"",prop2:t._pageSubSection?ut(st,t._pageSubSection):"",eVar8:t.editors?it(t.editors):"",eVar12:t.videoId,eVar13:at(t),eVar17:t.videoType,eVar36:t.hostTalent?it(t.hostTalent):"",eVar37:t.contributors?it(t.contributors):"",eVar41:t.videoCategory,eVar42:t.videoSource,eVar44:lt(t),eVar47:t.subsection,eVar48:pt(t),eVar49:t.playerType,eVar50:t.pageType,eVar58:"washingtonpost.com",rolledUpAdStatus:dt(t)}}function lt(t){return"".concat(t.os," ").concat(t.browser," ").concat(t.version)}function pt(t){var e,n;return e=t._isAdEventAvailable?t._isPreloadAd?"prefetched":"notfetched":"undefined",t._isAdEventAvailable?t._isBlankAd?n="reqblank":t._isAdError?n="error":t._isAdStarted?n="reqshow":t._isAdTimeout&&(n="reqTimeout"):n=!1===t._adAllowed?"noreq":"undefined","".concat(e,":").concat(n)}function dt(t){var e;return t._isAdEventAvailable?t._isBlankAd?e="adBlank":t._isAdError?e="adError":t._isAdCompleted?e="adCompleted":t._isAdStarted?e="adStarted":t._isAdTimeout&&(e="adTimeout"):e=t._adNotSupported?"adNotSupported":!1===t._adAllowed?"adNotAllowed":t._isAdDisabledOnPlayer?"adDisabled":"undefined",e}function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ft=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"send",value:function(){e()()}},{key:"load",value:function(){if(t=d("wp_geo")||"",n=d("wp_gdpr")||"",t.toUpperCase().endsWith("|EEA")||n.startsWith("1"))return null;var t,n,o;window.TWP&&window.TWP.Analytics||(o="https://www.washingtonpost.com/wp-stat/analytics/latest/main.js",new Promise((function(t,n){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e(),r=document.querySelector('script[src="'.concat(t,'"]'));if(r&&r.hasAttribute("data-powa-script"))r.hasAttribute("data-load")?n():r.hasAttribute("data-error")?o():(r.addEventListener("load",n),r.addEventListener("error",o));else{r=document.createElement("script");var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i),r.addEventListener("error",(function(){r.setAttribute("data-error",!0),o()})),r.addEventListener("load",(function(){r.setAttribute("data-load",!0),n()})),r.setAttribute("data-powa-script",!0),r.type="text/javascript",r.async=!0,r.src=t}}(o,t,n)}))).then((function(){console.log("analytics main.js loaded from videoAnalytics"),window.TWP.Analytics.init({suppressTrackPageLoad:!0})})).catch((function(t){return console.log("could not load main.js",t)}))}}],null&&vt(n.prototype,null),o&&vt(n,o),t}(),ht=n(3279);function wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var mt=["_ga","evtType","evtTime","streamName","streamDisplayName","ytState","ytState2","browser","version","os","videoId","url","ptvenv","powaBuild","powaVersion","powaState","videoAnalyticsVersion","HTTP_REFERER","playerType","vendor","visibilityState","persisted","rolledUpAdStatus","initOnScroll","nthVideoOnPage","playCounter","videoType","pageType","event501","errorText","startReason","articleAutoplay","templateName","isSubscriber","offsetTop","embedContext","promoType","medleyHash","wasUpcoming","autoplayBlocked","isElementInViewport","timeSinceDomContentLoaded","timeSincePowaRender","timeSincePromoClick","adMeta","adHeaderBiddingProvider","irisRunTime","irisBidTime","irisTimeout"],yt=[];function gt(t){yt.push(t)}var bt=n.n(ht)()((function(){for(var t=[],e=0;yt.length>0&&e<10;e++){var n=yt.pop(),o=n.name,r=n.data;t.push({name:o,data:r})}var i;i={postBody:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="";return t.forEach((function(t){var n=t.name,o=t.data,r={sourcetype:"httpevent",event:{name:n,data:o}};o.evtTime&&(r.time=Math.floor(o.evtTime/1e3)),e+=JSON.stringify(r)})),e}(t)},fetch("https://d1get58iwmjrxx.cloudfront.net/collector",{method:"POST",body:i.postBody}).then((function(t){})).catch((function(t){console.error(t)})),yt.length&&bt()}),6e4,{maxWait:6e4}),_t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"send",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.timeSinceDomContentLoaded||(n.timeSinceDomContentLoaded=k()),n.pageType||(n.pageType=A()),void 0===n.timeSincePowaRender&&o.powaId&&(n.timeSincePowaRender=C({powaId:o.powaId,event:"powaRender"})),void 0===n._ga&&(n._ga=d("_ga")),!0===o.harvest&&(Object.assign(n,D()),o.videoJSON&&Object.assign(n,Z(o.videoJSON)));var r=Object.assign({evtName:t,evtType:"string"==typeof e?e:e[0]||"",evtTime:Date.now()},p()(n,mt));gt({name:t,data:r}),bt()}}],null&&wt(e.prototype,null),n&&wt(e,n),t}();function kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var St=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"send",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.pageType||(n.pageType=A()),!0===o.harvest&&(Object.assign(n,D()),o.videoJSON&&Object.assign(n,Z(o.videoJSON))),window.dataLayer=window.dataLayer||[];var r={event:t,action:t,category:"video",label:Pt(n)},i=Tt(n),a=Object.assign({},r,i);window.dataLayer.push(a)}}],null&&kt(e.prototype,null),n&&kt(e,n),t}();function Tt(t){var e={avName:r()(t,"videoName"),avProducer:y(r()(t,"editors",null)),avCMS:r()(t,"videoCMS"),avHost:y(r()(t,"videoHost")),avSection:r()(t,"subsection"),avSecondarySections:y(r()(t,"secondarySections",null),{begin:1}),avSource:r()(t,"videoSource"),avPlayer:r()(t,"player","powa"),avPlayerType:r()(t,"playerType"),avLength:r()(t,"durationInSeconds"),avArcID:r()(t,"videoId"),avType:r()(t,"videoCategory"),avContributors:y(r()(t,"contributors",null)),avHostID:y(r()(t,"videoHost"),{prop:"slug"}),avContributorID:y(r()(t,"contributors",null),{prop:"slug"}),avTags:b(g(r()(t,"tags"),!0)),avDesk:null,avPublishDate:r()(t,"displayDate"),avKeywords:b(r()(t,"keywords")),adAttribute:r()(t,"rolledUpAdStatus"),avHeaderBidding:r()(t,"adHeaderBidding",!1),avTestGroup:r()(t,"variant"),avPromoType:r()(t,"promoType"),avAdMeta:Ct(t)};return t.avLiveProgress&&(e.avLiveProgress=t.avLiveProgress),t.eventDimension&&(e.eventDimension=t.eventDimension),t.socialShareButton&&(e.socialShareButton=t.socialShareButton),e}var xt={continuous:"rollthrough",manual:"click",autoplay:"autoplay",looping:"looping"},At={homepage:"homepage",leaf:"leaf","article page":"embed",graphics:"graphics",other:"embed",iframe:"iframe"};function Pt(t){var e=r()(t,"startReason",null),n=r()(t,"pageType",null);return r()(t,"isPreview2",null)?"autoplay-"+r()(At,n)+"-preroll":e&&n?r()(xt,e)+"-"+r()(At,n):r()(At,n)}function Ct(t){var e=r()(t,"adDuration",0),n="length:".concat(e,";"),o=t.skipAllow;null!=o&&(n+="skipAllow:".concat(o,";"));var i=t.skipDelay;return null!=i&&(n+="skipDelay:".concat(i,";")),n}var Ot={event125:{name:"video-promo-click",google:!0,timeMarker:"promoClick"},event6:{name:"video-social-share",google:!0},event9:{name:"video-start",google:!0,splunk:!0,timeMarker:"videoStart"},event10:{name:"video-25-complete",google:!0},event11:{name:"video-50-complete",google:!0},event12:{name:"video-75-complete",google:!0},event13:{name:"video-complete",google:!0},event34:{name:"ad-video-skip",google:!0,timeMarker:"adSkip"},event73:{name:"video-unmute",google:!0},event128:{name:"video-mute",google:!0},event136:{name:"video-pause",google:!0},event137:{name:"video-unpause",google:!0},event140:{name:"ad-video-pause",google:!0},event141:{name:"ad-video-unpause",google:!0},event166:{name:"fullscreen-engaged",google:!0},event75:{name:"video-autoplay",splunk:!0,google:!0},"video-looping-promo":{name:"video-looping-promo",google:!0,splunk:!0}},jt={event7:{name:"video-ad-start",google:!0,splunk:!0,timeMarker:"adStart"},event8:{name:"video-ad-complete",google:!0,timeMarker:"adEnd"},irisError:{name:"Iris Error",splunk:!0},irisBidError:{name:"Iris Bid Error",splunk:!0},irisTimeout:{name:"Iris Timeout",splunk:!0}};function It(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Et={name:"player-video-ready",splunk:!0,timeMarker:"powaRender"},Dt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event5_2";this.powa=e.powa,this.va=e.va;var o=P({powa:this.powa,event:"powaRender"});o?this.send(o.timestamp):this.powa.once("powaRender",(function(t){n.send()}))}var e,n;return e=t,(n=[{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();this.va.send("event5_2",{config:Et,time:t,trackerData:{timeSinceNavigationStart:_()}})}}])&&It(e.prototype,n),t}();function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Vt={name:"YT State",splunk:!0},Wt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event400";this.powa=e.powa,this.el=this.powa.getElement(),this.va=e.va;var o=this.powa.getDataset(),i=this.powa.getVideoData();if(this.videoData=i,"live-bar"!==o.playerType){var a=!0===r()(window,"wp_meta_data.isHomepage")||"homepage"===r()(window,"Fusion.metas.contentType.value"),s=r()(window,"wpMetaData.subType")||r()(window,"Fusion.globalContent.subtype",""),u="live-all"===s||"highlights"===s,c="live"===i.video_type;(o.event400||(a||u)&&c)&&(this.intervalEndDate=Lt(i),this.interval=6e4,this.timePlayingBuffer=500,this.powa.on("previewClicked",(function(){return n.onInteraction()})),this.powa.on("promoPlay",(function(){return n.onInteraction()})),this.powa.on("time",(function(){return n.onTime()})),this.powa.on("destroyed",(function(){return n.teardown()})),this.powa.on("WapoYouTube_playerStateChange",(function(t){return n.onYtPlayerStateChange(t)})),"LiveBar"===o.playerType&&this.powa.on("muted",(function(t){return n.onMuted(t)})))}}var e,n;return e=t,(n=[{key:"onInteraction",value:function(){this.interacted=!0}},{key:"onMuted",value:function(t){!1===t.muted&&this.onInteraction()}},{key:"onTime",value:function(){var t=this;this.lastTimeUpdate=(new Date).getTime(),!this.pingInterval&&this.interacted&&(this.send(),this.pingInterval=window.setInterval((function(){if(document.getElementById(t.powa.getID())){var e=r()(window,"PoWaSettings.LiveConfig.videoData[".concat(t.uuid,"]"))||t.videoData;if("ended"!==r()(e,"status")){var n=Lt(e),o=new Date;n&&o>n?window.clearInterval(t.pingInterval):t.send()}else window.clearInterval(t.pingInterval)}else window.clearInterval(t.pingInterval)}),this.interval))}},{key:"send",value:function(){var t=this.powa.getStatus().state;this.va.send("event400",{config:Vt,trackerData:{ytState:this._getYTState(t),powaState:t}})}},{key:"_getYTState",value:function(t){var e=(new Date).getTime();return"buffering"===t&&"safari"===r()(window,"PoWaSettings.client.browserName")&&e-this.lastTimeUpdate<this.timePlayingBuffer?"playing":t}},{key:"teardown",value:function(){window.clearInterval(this.pingInterval),delete this.pingInterval}},{key:"onYtPlayerStateChange",value:function(t){"playing"===t.playerState&&(this.onInteraction(),this.onTime())}}])&&Mt(e.prototype,n),t}();function Lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r()(t,"additional_properties.publicationEndDate");if(e){var n=new Date(e);if(r()(t,"additional_properties.streamName","").startsWith("washpostlive"))try{n.setMinutes(n.getMinutes()-30)}catch(t){}return n}return null}function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Nt={event500:{name:"Player Waiting"},event501:{name:"Player Waiting End",splunk:!0,timeMarker:!0},event9999_01:{name:"Video Timeout",splunk:!0}},Rt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event500";this.powa=e.powa,this.va=e.va,this.debug=e.va.debug,this.interval=2e3,this.maxRuns=8,this.sentOnPlayback=!1,this.sentOnTimeout=!1,this.powa.on("start",(function(t){return n.onStart(t)})),this.powa.on("adStart",(function(t){return n.onAdStart(t)})),this.powa.on("firstFrame",(function(t){return n.onFirstFrame(t)})),this.powa.on("time",(function(t){return n.onTime(t)})),this.powa.on("end",(function(t){return n.onEnd(t)})),this.powa.on("destroyed",(function(t){return n.onEnd(t)})),this.onTimeout=e.onTimeout||function(){}}var e,n;return e=t,(n=[{key:"onStart",value:function(){var t=this;this.pingInterval&&window.clearInterval(this.pingInterval),this.pingCount=0,this.sentOnPlayback=!1,this.sentOnTimeout=!1,this.pingInterval=window.setInterval((function(){t.pingCount++,t.send("event500"),t.pingCount>=t.maxRuns&&t._onTimeout()}),this.interval)}},{key:"onAdStart",value:function(t){this._onPlayback(t)}},{key:"onFirstFrame",value:function(t){this._onPlayback(t)}},{key:"onTime",value:function(t){this._onPlayback(t)}},{key:"onEnd",value:function(t){window.clearInterval(this.pingInterval)}},{key:"_onPlayback",value:function(t){this.sentOnPlayback||(window.clearInterval(this.pingInterval),this.send("event501",{event501:"firstPicture",firstPictureReason:r()(t,"type","")}),this.sentOnPlayback=!0)}},{key:"_onTimeout",value:function(){if(!this.sentOnTimeout){window.clearInterval(this.pingInterval);var t=this.powa.getStatus()||{},e="autoplayBlocked"===r()(t,"autoplayStatus",""),n=r()(t,"state","");this.send("event501",{event501:"timeout",autoplayBlocked:e,isElementInViewport:m(this.powa.getElement()),powaState:n}),this.sentOnTimeout=!0,this.send("event9999_01")}}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Nt[t];e.pingCount=this.pingCount,!0===n.timeMarker&&(n.timeMarker=e.event501),this.va.send(t,{config:n,trackerData:e})}}])&&Bt(e.prototype,n),t}();function Ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ut={name:"Setup error",splunk:!0},Ht=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event9994";this.powa=e.powa,this.va=e.va,this.powa.on("powaError",(function(t){n.send(t)}))}var e,n;return e=t,(n=[{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r()(t,"error.error")||r()(t,"error.message")||r()(t,"message");this.va.send("event9994",{config:Ut,trackerData:{errorText:e}})}}])&&Ft(e.prototype,n),t}();function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var qt={event9996:{name:"Video Ad Error",splunk:!0}},$t=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event9996";this.powa=e.powa,this.va=e.va,this.powa.on("adError",(function(t){n.send("event9996",t)}))}var e,n;return e=t,(n=[{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e.adMeta)){var n=qt[t],o=r()(e,"adStatus.adMeta",{});o=p()(o,["title","creativeId","adWrapperIds"]),this.va.send(t,{config:n,trackerData:{errorText:e.error},adMeta:p()(o,["title","creativeId","adWrapperIds"])})}}}])&&zt(e.prototype,n),t}();function Yt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Jt={event9991_04:{name:"Non-blocking error"},event9999:{name:"Video Error",splunk:!0},event9999_preload:{name:"Video Error before start"},event9999_deluge:{name:"Video Error deluge"}},Zt=["details","code","mediaError","fatal","type","stream","time"],Gt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event400";this.powa=e.powa,this.va=e.va;var n=this.powa.getID();this.powaTrack=window.powas[n].powaTrack,this.deluge=50,this.errorCount=0,this.powa.on("start",this.onStart.bind(this)),this.powa.on("error",this.onError.bind(this))}var e,n;return e=t,(n=[{key:"onStart",value:function(t){this.started=!0}},{key:"onError",value:function(t){t.nonBlocking?this.send("event9991_04",t):this.started?(this.errorCount++,this.errorCount>this.deluge?this.send("event9999_deluge",t):this.send("event9999",t)):this.send("event9999_preload",t)}},{key:"send",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=p()(n,Zt);try{e=this.powa.getElement().querySelector("video.powa-video").error.message}catch(t){}var r=Jt[t];this.va.send(t,{config:r,trackerData:{errorText:JSON.stringify(o),errorMessage:e,errorType:o.type,errorDetails:o.type}})}}])&&Yt(e.prototype,n),t}();function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Kt={name:"powa-impression",google:!0},Xt=function(){function t(e){var n=this,o=e.powa,r=e.va;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!o||!r)throw"Invalid settings to setup event5_3";this.powa=o,this.va=r,this.isSent=!1;var i=this.powa.getDataset();!0===i.autoplay?(this.powa.once("start",(function(t){return n.send()})),this.powa.once("powaReady",(function(t){"autoplayBlocked"===n.powa.getStatus().autoplayStatus&&n.send("manual")}))):!0===i.viewportAutoplay?(this.powa.once("start",(function(t){return n.send()})),this.powa.once("ViewportAutoplay-blocked",(function(t){return n.send("manual")}))):!0===i.preview2?(this.powa.once("preview2-autoplay",(function(t){return n.send()})),this.powa.once("preview2-autoplay-blocked",(function(t){return n.send("manual")}))):this.send("manual")}var e,n;return e=t,(n=[{key:"send",value:function(t){this.isSent||(this.va.send("event5_3",{config:Kt,trackerData:t?{startReason:t}:{},time:(new Date).getTime()}),this.isSent=!0)}}])&&Qt(e.prototype,n),t}();function te(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ee={name:"live-video-threshold",google:!0},ne=3e5,oe=function(t){var e=t.getStatus(),n=t.getVideoData();return!!document.getElementById(t.getID())&&!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r()(t,"additional_properties.publicationEndDate");if(e)try{var n=new Date,o=new Date(e);if(o.setHours(o.getHours()+1),n>o)return!0}catch(t){console.debug(t)}}(n)&&("playing"===e.state&&!1===e.muted||"adPlaying"===e.state&&!1===e.muted)},re=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup liveVideoThreshold";this.powa=e.powa,this.el=this.powa.getElement(),this.va=e.va,"live"===this.powa.getVideoData().video_type&&(this.interval=ne,this.onTime=this.onTime.bind(this),this.powa.on("time",this.onTime))}var e,n;return e=t,(n=[{key:"onInteraction",value:function(){this.interacted=!0}},{key:"onTime",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.pingInterval&&"playing"===e.state&&!1===e.muted){var n=e.powa;this.startTime=new Date,this.powa.off("time",this.onTime),this.pingInterval=setInterval((function(){if(oe(n)){var e=new Date-t.startTime,o=Math.floor(e/6e4);t.send({avLiveProgress:o})}}),this.interval)}}},{key:"send",value:function(t){var e=t.avLiveProgress;this.va.send("live-video-threshold",{config:ee,trackerData:{avLiveProgress:e}})}},{key:"teardown",value:function(){window.clearInterval(this.pingInterval),delete this.pingInterval}}])&&te(e.prototype,n),t}();function ie(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ae=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isSent=!1,!e.powa||!e.va)throw"Invalid settings to setup";this.powa=e.powa,this.va=e.va,this.powa.on("WapoControls_video-play",(function(t){return n.send("video-play-wapoControls",t.time)})),this.powa.on("WapoControls_video-pause",(function(t){return n.send("video-pause-wapoControls",t.time)})),this.powa.on("WapoControls_video-mute",(function(t){return n.send("video-mute-wapoControls",t.time)})),this.powa.on("WapoControls_video-unmute",(function(t){return n.send("video-unmute-wapoControls",t.time)})),this.powa.on("WapoControls_video-volume-adjust",(function(t){return n.send("video-volume-adjust-wapoControls",t.time)})),this.powa.on("WapoControls_video-fullscreen-engaged",(function(t){return n.send("video-fullscreen-engaged-wapoControls",t.time)})),this.powa.on("WapoControls_video-fullscreen-close",(function(t){return n.send("video-fullscreen-close-wapoControls",t.time)})),this.powa.on("WapoControls_video_closed-caption-on",(function(t){return n.send("video-closed-caption-on-wapoControls",t.time)})),this.powa.on("WapoControls_video_closed-caption-off",(function(t){return n.send("video-closed-caption-off-wapoControls",t.time)})),this.powa.on("WapoControls_video_closed-caption-customize",(function(t){return n.send("video-closed-caption-customize-wapoControls",t.time)})),this.powa.on("WapoControls_video-social-share-twitter",(function(t){return n.send("video-social-share-wapoControls",t.time,"twitter")})),this.powa.on("WapoControls_video-social-share-facebook",(function(t){return n.send("video-social-share-wapoControls",t.time,"facebook")})),this.powa.on("WapoControls_video-social-share-google",(function(t){return n.send("video-social-share-wapoControls",t.time,"email")})),this.powa.on("WapoControls_video-social-share-permalink",(function(t){return n.send("video-social-share-wapoControls",t.time,"permalink")})),this.powa.on("WapoControls_video-social-share-embed-code",(function(t){return n.send("video-social-share-wapoControls",t.time,"embed-code")})),this.powa.on("WapoControls_video-prev",(function(){return n.send("video-prev-wapoControls")})),this.powa.on("WapoControls_video-next",(function(){return n.send("video-next-wapoControls")}))}var e,n;return e=t,(n=[{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={name:t,google:!0},r={};e&&(r.eventDimension=e),n&&(r.socialShareButton=n),this.va.send(t,{config:o,trackerData:r})}}])&&ie(e.prototype,n),t}();function se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ce={},le=[0,25,50,75,100],pe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(se(this,t),!e||!n.data&&!n.powaId)throw"missing required stuff";this.events=Object.assign({},Ot,jt),this.data=n.data,this.options=Object.assign({},ce,n),this.userClickedToPlay=!1,this.debug=window.location.search.includes("vaDebug=true"),this.initTimeIntervals(),this.playCounter=0,this.firstPlay=!0,this.timeMarkers={},this.trackLiveTime=this.trackLiveTime.bind(this),this._resetPersistentAdMeta(),n.powa?this.powa=n.powa:n.powaId&&window.powas&&window.powas[n.powaId]&&(this.powa=window.powas[n.powaId].powa),this.powa&&(this.data=this.powa.getVideoData(),this.powaVersionCheck()),h()&&this.loadTrackingScripts(),this.harvest=Object.assign(D(),Z(this.data),V(this.powa),(this.powa,{})),this.powa&&this.initListeners()}var e,n;return e=t,(n=[{key:"loadTrackingScripts",value:function(){ft.load()}},{key:"registerPoWa",value:function(t){this.powa?console.warn("Calling registerPoWa() but you already have a powa"):(this.powaVersionCheck(),this.powa=window.powas[t].powa,this.data=this.powa.getVideoData(),Object.assign(this.harvest,Z(this.data),V(this.powa),(this.powa,{})),this.initListeners())}},{key:"scanPowa",value:function(){this.data=this.powa.getVideoData(),Object.assign(this.harvest,Z(this.data),V(this.powa))}},{key:"scanPerformance",value:function(){Object.assign(this.harvest,(this.powa,{}))}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.debug&&console.debug("VA send()",t),!t)throw"no event";var n=t.split(",")[0],o=e.config||this.events[n];if(!o)return!1;var r=e.time?nt(this.timeMarkers,e.time):nt(this.timeMarkers),i=Y(this.powa),s=M(),c=ot.call(this),l=Object.assign({},this.harvest,r,c,i,s,e.trackerData,e.adMeta?a()(this.persistentAdMeta,u(e.adMeta)):this.persistentAdMeta),p=ct(l);l=Object.assign({},l,p),o.timeMarker&&(e.time?this.setTimeMarker(o.timeMarker,e.time):this.setTimeMarker(o.timeMarker)),Object.keys(l).forEach((function(t,e){t.startsWith("_")&&delete l[t]})),o.splunk&&_t.send(o.name,n,l),o.google&&St.send(o.name,t,l)}},{key:"sendAdEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c(e.adMeta)){var n=this.powa.getElement();e=Object.assign(e,{trackerData:{isInViewport:m(n),isSticky:F(n)}}),this.send(t,e)}}},{key:"initFlags",value:function(){this.userPaused=!1,this.userPausedAd=!1,delete this.adEndVisibilityState}},{key:"initTimeIntervals",value:function(){this.timeIntervals=le.slice()}},{key:"setTimeMarker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();if(!t)throw"name required for time marker";this.debug&&console.debug("VA setTimeMarker()",t),this.timeMarkers[t]=e}},{key:"unsetTimeMarkers",value:function(){this.timeMarkers={}}},{key:"trackLiveTime",value:function(t){"live-bar"!==this.powa.getDataset().playerType&&(!this.userClickedToPlay&&this.powa.getStatus().muted&&!0!==t.fullscreen||(this.send("event9"),this.powa.off("time",this.trackLiveTime)))}},{key:"trackFullscreen",value:function(t){t.fullscreen&&this.send("event166")}},{key:"trackPause",value:function(t){var e=this.powa.getStatus().time,n=this.powa.getStatus().duration;!this.userPaused&&e&&e>0&&n&&n!=e&&(this.send("event136"),this.userPaused=!0)}},{key:"trackAdPause",value:function(t){this.userPausedAd||(this.send("event140"),this.userPausedAd=!0)}},{key:"trackUnpause",value:function(t){this.userPaused&&(this.send("event137"),this.userPaused=!1)}},{key:"trackAdUnpause",value:function(t){this.userPausedAd&&(this.send("event141"),this.userPausedAd=!1)}},{key:"trackMute",value:function(t){t.muted?this.send("event128"):this.send("event73")}},{key:"trackAutoplay",value:function(t){var e=this.powa.getDataset();"live-bar"!==e.playerType&&(!e.autoplay||this.userClickedToPlay||this.firedAutoplay||(this.firedAutoplay=!0,this.send("event75")),"preview2-autoplay"!==t.type||this.firedAutoplay||(this.firedAutoplay=!0,this.send("event75")))}},{key:"initListeners",value:function(){if(!this.listenersDone){this.listenersDone=!0;var t=this.powa.getDataset();1==t.prerollOnly?this.prerollPluginListeners():(this.powaListeners(),"inline-player-playlist"===t.playerType&&this.inlinePlayerPlaylistListeners())}}},{key:"prerollPluginListeners",value:function(){var t=this;this.powa.on("adStart",(function(e){t.persistentAdMeta.adDuration=r()(e,"adMeta.duration",0),t.persistentAdMeta.skipAllow=r()(e,"adSkipMeta.allow",void 0),t.persistentAdMeta.skipDelay=r()(e,"adSkipMeta.delay",void 0),t.sendAdEvent("event7",{adMeta:e.adMeta})})),this.powa.on("adComplete",(function(e){return t.sendAdEvent("event8",{adMeta:e.adMeta})})),this.powa.on("adSkip",(function(e){return t.send("event34",{adMeta:e.adMeta})}))}},{key:"powaListeners",value:function(){var t=this,e=this.powa,n=this.powa.getDataset(),o=this;new Dt({powa:e,va:o}),new Xt({powa:e,va:o}),this.powa.on("promoPlay",(function(e){t.userClickedToPlay=!0,t.send("event125")})),this.powa.on("fullscreen",this.trackFullscreen.bind(this)),this.powa.on("nextClick",(function(e){return t.nextClick=!0})),this.powa.on("prevClick",(function(e){return t.prevClick=!0})),this.powa.on("adStart",(function(e){t.persistentAdMeta.adDuration=r()(e,"adMeta.duration",0),t.persistentAdMeta.skipAllow=r()(e,"adSkipMeta.allow",void 0),t.persistentAdMeta.skipDelay=r()(e,"adSkipMeta.delay",void 0),t.sendAdEvent("event7",{adMeta:e.adMeta})})),this.powa.on("adComplete",(function(e){return t.sendAdEvent("event8",{adMeta:e.adMeta})})),this.powa.on("adSkip",(function(e){return t.send("event34",{adMeta:e.adMeta})})),this.powa.on("adEnd",(function(e){return t.adEndVisibilityState=document.visibilityState})),this.powa.on("complete",this.initTimeIntervals.bind(this)),this.powa.on("muted",this.trackMute.bind(this)),this.powa.on("pause",this.trackPause.bind(this)),this.powa.on("play",this.trackUnpause.bind(this)),this.powa.on("adPause",this.trackAdPause.bind(this)),this.powa.on("adPlay",this.trackAdUnpause.bind(this)),this.powa.on("shareFacebook",(function(e){return t.send("event6")})),this.powa.on("shareTwitter",(function(e){return t.send("event6")})),this.powa.on("shareEmail",(function(e){return t.send("event6")})),this.powa.on("upNextDismissed",(function(e){return t.send("event168")})),this.powa.on("start",(function(e){t.scanPowa(),t.initFlags.bind(t),t.trackAutoplay.call(t,e),t.playCounter=!0===t.firstPlay?0:t.playCounter+1,t.firstPlay=!1,t.setTimeMarker("playerStart")})),this.powa.on("preview2-autoplay",(function(e){t.trackAutoplay.call(t,e)})),this.powa.on("loaded",(function(){t.scanPowa()})),this.powa.on("playlistLoaded",(function(e){t.scanPerformance()})),"live"===this.powa.getVideoData().video_type?this.powa.on("time",this.trackLiveTime):n.loop?this.powa.once("firstFrame",(function(e){var n=r()(e,"videoData.taxonomy.tags",[]).map((function(t){return t.text})),o=Array.isArray(n)&&n.includes("looping-promo")||T()?"video-looping-promo":"event9";t.send(o)})):n.continuousPlay?(this.powa.once("firstFrame",(function(e){return t.send("event9")})),this.powa.once("playback25",(function(e){return t.send("event10")})),this.powa.once("playback50",(function(e){return t.send("event11")})),this.powa.once("playback75",(function(e){return t.send("event12")})),this.powa.once("playback100",(function(e){t.send("event13"),t._resetPersistentAdMeta()}))):(this.powa.on("firstFrame",(function(e){return t.send("event9")})),this.powa.on("playback25",(function(e){return t.send("event10")})),this.powa.on("playback50",(function(e){return t.send("event11")})),this.powa.on("playback75",(function(e){return t.send("event12")})),this.powa.on("playback100",(function(e){t.send("event13"),t._resetPersistentAdMeta()}))),this.powa.on("irisError",(function(){return t.send("irisError")})),this.powa.on("irisBidError",(function(){return t.send("irisBidError")})),this.powa.on("irisTimeout",(function(){return t.send("irisTimeout")})),new Wt({powa:e,va:o}),new Rt({powa:e,va:o}),new Gt({powa:e,va:o}),new $t({powa:e,va:o}),new Ht({powa:e,va:o}),new re({powa:e,va:o}),new ae({powa:e,va:o})}},{key:"inlinePlayerPlaylistListeners",value:function(){var t=this;window.wp_pb.register("video","pagePlaylistItemClicked",(function(e){t.scanPowa(),t.userClickedToPlay=!0,t.send("event125")}))}},{key:"powaVersionCheck",value:function(){var t=r()(window,"PoWa.VERSION",""),e=parseInt(t.split(".")[0]);(!e||e<3)&&console.warn("VA Minimum of PoWa3 required")}},{key:"_resetPersistentAdMeta",value:function(){this.persistentAdMeta={adDuration:0,skipAllow:void 0,skipDelay:void 0}}}])&&ue(e.prototype,n),t}(),de={};window.VideoAnalytics=window.VideoAnalytics||{version:"1.17.9",build:"fe6a75e",init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return de[t]?e.powaId&&de[t].registerPoWa(e.powaId):de[t]=new pe(t,e),de[t]},static:{sendToNewRelic:e(),sendToOmniture:e(),sendToGoogle:St.send,sendToSplunk:_t.send}}}()}();