(()=>{var e,t,n={95810:function(e,t,i){var n,a,r,o;/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */r=this,o=function(){var e={};return function(){"use strict";var t={};!function(){var i=e.Constants={};i.version="4.5.8",i.CUSTOMER_KEY="customerKey",i.GATEWAY_URL="gatewayUrl",i.LOG_LEVEL="logLevel",i.ASSET_NAME="Conviva.assetName",i.PLAYER_NAME="Conviva.applicationName",i.APPLICATION_VERSION="c3.app.version",i.IS_LIVE="Conviva.streamType",i.ENCODED_FRAMERATE="Conviva.encodedFrameRate",i.DEFAULT_RESOURCE="Conviva.defaultResource",i.STREAM_URL="Conviva.streamUrl",i.VIEWER_ID="Conviva.viewerId",i.DURATION="Conviva.duration",i.UTM_TRACKING_URL="c3.cm.utmTrackingUrl",i.POD_INDEX="podIndex",i.POD_POSITION="podPosition",i.POD_DURATION="podDuration",i.AD_TYPE="adType",i.MODULE_NAME="Conviva.moduleName",i.MODULE_VERSION="Conviva.moduleVersion",i.FRAMEWORK_NAME="Conviva.frameworkName",i.FRAMEWORK_VERSION="Conviva.frameworkVersion",i.i="Constants not yet configured",i.e="Invalid : Did you report playback ended?",i.s="Invalid : Did you report ad playback ended?",i.o="Player cannot be null",i.u="PlaybackAnlytics already built",i.h="PlaybackAnlytics not yet built",i.Playback={BITRATE:"BITRATE",PLAY_HEAD_TIME:"PLAY_HEAD_TIME",RESOLUTION:"RESOLUTION",BUFFER_LENGTH:"BUFFER_LENGTH",PLAYER_STATE:"PLAYER_STATE",RENDERED_FRAMERATE:"RENDERED_FRAMERATE",SEEK_STARTED:"SEEK_STARTED",SEEK_ENDED:"SEEK_ENDED",CDN_IP:"CDN_IP",DROPPED_FRAMES_TOTAL:"DROPPED_FRAMES_TOTAL",DROPPED_FRAMES_COUNT:"DROPPED_FRAMES_COUNT"},i.Network={SIGNAL_STRENGTH:"SIGNAL_STRENGTH",LINK_ENCRYPTION:"LINK_ENCRYPTION",CONNECTION_TYPE:"CONNECTION_TYPE"},i.ErrorSeverity={FATAL:1,WARNING:0},i.NO_SESSION_KEY=-2,i.AdPosition={PREROLL:"Pre-roll",MIDROLL:"Mid-roll",POSTROLL:"Post-roll"},i.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},i.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV"},i.AdType={CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},i.AdSlates={BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},i.AdServingType={INLINE:"Inline",WRAPPER:"Wrapper"},i.DeviceCategory={ANDROID_DEVICE:"AND",APPLE_DEVICE:"APL",CHROMECAST:"CHR",DESKTOP_APP:"DSKAPP",DEVICE_SIMULATOR:"SIMULATOR",LG_TV:"LGTV",NINTENDO:"NINTENDO",PLAYSTATION:"PS",ROKU:"RK",SAMSUNG_TV:"SAMSUNGTV",SMART_TV:"TV",SET_TOP_BOX:"STB",TIVO:"TIVO",WEB:"WEB",WINDOWS_DEVICE:"WIN",XBOX:"XB",KAIOS_DEVICE:"KAIOS"},i.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},i.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},i.Events={USER_WAIT_STARTED:"Conviva.UserWaitStarted",USER_WAIT_ENDED:"Conviva.UserWaitEnded",BUMPER_VIDEO_STARTED:"Conviva.BumperVideoStarted",BUMPER_VIDEO_ENDED:"Conviva.BumperVideoEnded",AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},i.ErrorType={ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},i.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"},i.CallbackFunctions={CONSOLE_LOG:"consoleLog",MAKE_REQUEST:"makeRequest",SAVE_DATA:"saveData",LOAD_DATA:"loadData",GET_EPOCH_TIME_IN_MS:"getEpochTimeInMs",CREATE_TIMER:"createTimer",GENERATE_HASH:"generateHash",BASE64_ENCODE:"base64Encode"},i.DeviceMetadata={BRAND:"DeviceBrand",MANUFACTURER:"DeviceManufacturer",MODEL:"DeviceModel",TYPE:"DeviceType",VERSION:"DeviceVersion",OS_NAME:"OperatingSystemName",OS_VERSION:"OperatingSystemVersion",CATEGORY:"DeviceCategory",SCREEN_RESOLUTION_WIDTH:"ScreenWidth",SCREEN_RESOLUTION_HEIGHT:"ScreenHeight",SCREEN_RESOLUTION_SCALE_FACTOR:"ScaleFactor"},i.AD_PRELOAD_FEATURE="adPreloading",i.AD_TAG_URL="adTagUrl",i.IMASDK_CONTENT_PLAYER="imaMainContentPlayer",i.CONVIVA_AD_MODULE="convivaAdModule",i.CONVIVA_MODULE="convivaModule",i.MEDIA_ELEMENT="mediaElement";var n=e.Client=function(){var e=this;this.a=!1,this.version=n.version,this.c=null,this.l=null,this.v=null,this.d=-1,this.p=null,this.R=null,this.w=null,this.T=null,this.S=-1,this.g=!1,this.N={},this.O=function(){e.c},this._={},this.A=null,this.C=null,this.I=null,this.y=function(){this.w.m("Client.makeIPV4IPV6GlobalSessions",(function(){var t;!e.T||null!==(t=e.T.get(Q.D))&&t!==j.P&&e.l&&((t=new r).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=e.p.M.indexOf(a.L)>-1?a.L:a.U,e.V=e.l.k(t,null),(t=new r).custom["c3.IPV4IPV6GlobalSession"]="T",t.custom["c3.domain"]=e.p.F.indexOf(a.H)>-1?a.H:a.B,e.G=e.l.k(t,null))}))},this.j=function(t){e.w.m("Client.updateConnectionType",(function(){if(e.A=t,e.l){var i,n=e.l.K();for(i in n)n[i].W(t)}}))},this.q=function(t){e.w.m("Client.updateLinkEncryption",(function(){if(e.C=t,e.l){var i,n=e.l.K();for(i in n)n[i].Y(t)}}))},this.J=function(t){e.w.m("Client.updateSignalStrength",(function(){e.I=t}))},function(t,n,r,o){if(!(t instanceof a))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(n instanceof f))throw new Error("systemFactory parameter should be an instance of SystemFactory.");t.gatewayUrl!==a.X+a.Q&&t.gatewayUrl!==a.Z+a.Q||(this.a=!0),o&&(this.version=o),this.p=t.z(),this.v=n,this.v.$("SDK",this.p,this.version),this.w=this.v.tt(this.version),this.w.m("Client.init",(function(){if(e.T=e.v.nt(),e.T.it(),e.S=e.T.get(Q.et),-1!==e.S&&void 0!==e.S&&null!==e.S||(e.S=ie.ot()),e.l=e.v.rt(e,e.p,e.T),r)for(var t in r)switch(t){case i.Network.CONNECTION_TYPE:e.j(r[t]);break;case i.Network.LINK_ENCRYPTION:e.q(r[t]);break;case i.Network.SIGNAL_STRENGTH:e.J(r[t])}e.y()}),(function(e){throw new Error("Client constructor failed: "+e.message)}))}.apply(this,arguments),this.release=function(){this.g||this.w.m("Client.release",(function(){e.c,e.l.ut(),e.l=null,e.d=-1,e.S=-1,e.w=null,e.p=null,e.R=null,e.v=null,e.g=!0}))},this.createSession=function(t,a,o){var s=n.NO_SESSION_KEY;return this.g||(!t||t instanceof r)&&this.w.m("Client.createSession",(function(){s=e.l.ht(t,q.ct.ft,a,(o?i:e).version)})),s},this.createAdSession=function(t,a,o,s,l){var c=n.NO_SESSION_KEY;return this.g||(!a||a instanceof r)&&this.w.m("Client.createAdSession",(function(){var d,u;a||(a=new r),!$.lt(t)||t===n.NO_SESSION_KEY||(d=e.l.vt(t))&&(u=a.custom[i.APPLICATION_VERSION],a.applicationName&&a.viewerId&&void 0!==u&&u||d.dt&&d.dt.Et&&(!a.viewerId&&d.dt.Et.viewerId&&(a.viewerId=d.dt.Et.viewerId),!a.applicationName&&d.dt.Et.applicationName&&(a.applicationName=d.dt.Et.applicationName),void 0!==u&&u||void 0!==(u=d.dt.Et.custom[i.APPLICATION_VERSION])&&u&&(a.custom[i.APPLICATION_VERSION]=u)),a.custom["c3.csid"]=$.pt(d.S)),c=e.l.ht(a,q.ct.Rt,o,(s?i:e).version,l)})),c},this.reportError=function(t,i,a){this.g||$.wt(i)&&(a!==n.ErrorSeverity.FATAL&&a!==n.ErrorSeverity.WARNING||this.w.m("Client.reportError",(function(){var n=e.l.vt(t);n&&n.Tt(i,a)})))},this.updateContentMetadata=function(t,i){this.g||i instanceof r&&this.w.m("Client.updateContentMetadata",(function(){var n,a=e.l.vt(t);a&&(n=i.z(),a.St(n))}))},this.detachPlayer=function(t){this.g||this.w.m("Client.detachPlayer",(function(){var i=e.l.vt(t);i&&i.gt()}))},this.Nt=function(t){this.g||this.w.m("Client.offFocus",(function(){var i=e.l.vt(t);i&&i.Nt()}))},this.attachPlayer=function(t,i){this.g||i instanceof o&&this.w.m("Client.attachPlayer",(function(){var n=e.l.vt(t);n&&n.Ot(i)}))},this._t=function(t){this.g||this.w.m("Client.onFocus",(function(){var i=e.l.vt(t);i&&i._t()}))},this.contentPreload=function(t){this.g||this.w.m("Client.contentPreload",(function(){var i=e.l.vt(t);i&&i.At()}))},this.contentStart=function(t){this.g||this.w.m("Client.contentStart",(function(){var i=e.l.vt(t);i&&i.Ct()}))},this.sendCustomEvent=function(t,i,a){this.g||$.wt(i)&&($.It(a),this.w.m("Client.sendCustomEvent",(function(){t===n.NO_SESSION_KEY&&(e.d<0&&(s=new r,e.d=e.l.k(s,null)),t=e.d);var o=$.yt(a),s=e.l.mt(t);s&&s.Dt(i,o)})))},this.adStart=function(t,i,a,r){this.g||i!==n.AdStream.CONTENT&&i!==n.AdStream.SEPARATE||a!==n.AdPlayer.CONTENT&&a!==n.AdPlayer.SEPARATE||(r!==n.AdPosition.PREROLL&&r!==n.AdPosition.MIDROLL&&n.AdPosition.POSTROLL,this.w.m("Client.adStart",(function(){var n=e.l.vt(t);n&&n.bt(i,a,r)})))},this.adEnd=function(t){this.g||this.w.m("Client.adEnd",(function(){var i=e.l.vt(t);i&&i.Pt()}))},this.cleanupSession=function(t){this.g||t!==n.NO_SESSION_KEY&&this.w.m("Client.cleanupSession",(function(){e.l.vt(t)&&e.l.Mt(t)}))},this.getAttachedPlayer=function(t){var i=null;return this.g||t===n.NO_SESSION_KEY||this.w.m("Client.getAttachedPlayer",(function(){var n=e.l.vt(t);n&&(i=n.Lt())})),i},this.isPlayerAttached=function(e){return!this.g&&null!==this.getAttachedPlayer(e)},this.getPlayerStateManager=function(t){if(this.g)throw new Error("This instance of Conviva.Client has been released.");return new o(this.v,(t?i:e).version)},this.releasePlayerStateManager=function(e){if(this.g)throw new Error("This instance of Conviva.Client has been released.");this.w.m("Client.releasePlayerStateManager",(function(){e instanceof o&&e.release()}))},this.Ut=function(){return this.p},this.getId=function(){return this.S},this.getSessionId=function(t){if(this.g)return i.NO_SESSION_KEY;var n=null;return this.w.m("Client.getSessionId",(function(){var i=e.l.vt(t);i&&(n=i.Vt())})),n},this.getClientId=function(t){if(this.g)return null;var i=null;return this.w.m("Client.getClientId",(function(){var n=e.l.vt(t);n&&(i=n.kt())})),i},this.Ft=function(t,i,n){this.g||this.w.m("Client.updateCustomMetric",(function(){var a=e.l.vt(t);a&&a.Ft(i,n)}))},this.setUniqueIdentifier=function(e,t){if(this.g)throw new Error("This instance of Conviva.Client has been released.");if(!e||void 0===e||"{}"===JSON.stringify(e))throw new Error("Identifiers are not set. No action taken !!");for(var i in e)this.N[i]=e[i];t&&(this.O=t)},this.setUserPreferenceForDataCollection=function(e,t){if(this.g)throw new Error("This instance of Conviva.Client has been released.");if(!e||void 0===e||"{}"===JSON.stringify(e))throw new Error("Identifiers are not set. No action taken !!");for(var i in e)"false"===e[i]?this._[i]=t?Q.Bt.Ht:Q.Bt.Gt:this._[i]=Q.Bt.jt},this.setUserPreferenceForDataDeletion=function(e){if(this.g)throw new Error("This instance of Conviva.Client has been released.");if(!e||void 0===e||"{}"===JSON.stringify(e))throw new Error("Identifiers are not set. No action taken !!");for(var t in e)"true"===e[t]?this._[t]=Q.Bt.Kt:this._[t]=Q.Bt.jt}};n.version="4.5.8L",n.NO_SESSION_KEY=i.NO_SESSION_KEY,n.AdPosition={PREROLL:i.AdPosition.PREROLL,MIDROLL:i.AdPosition.MIDROLL,POSTROLL:i.AdPosition.POSTROLL},n.AdStream={CONTENT:i.AdPlayer.CONTENT,SEPARATE:i.AdPlayer.SEPARATE},n.AdPlayer={CONTENT:i.AdPlayer.CONTENT,SEPARATE:i.AdPlayer.SEPARATE},n.ErrorSeverity={FATAL:i.ErrorSeverity.FATAL,WARNING:i.ErrorSeverity.WARNING},n.DeviceType={DESKTOP:i.DeviceType.DESKTOP,CONSOLE:i.DeviceType.CONSOLE,SETTOP:i.DeviceType.SETTOP,MOBILE:i.DeviceType.MOBILE,TABLET:i.DeviceType.TABLET,SMARTTV:i.DeviceType.SMARTTV},n.AdTechnology={CLIENT_SIDE:i.AdType.CLIENT_SIDE,SERVER_SIDE:i.AdType.SERVER_SIDE},n.AdType={BLACKOUT_SLATE:i.AdSlates.BLACKOUT_SLATE,TECHNICAL_DIFFICULTIES_SLATE:i.AdSlates.TECHNICAL_DIFFICULTIES_SLATE,COMMERCIAL_SLATE:i.AdSlates.COMMERCIAL_SLATE,OTHER_SLATE:i.AdSlates.OTHER_SLATE,VPAID:i.AdSlates.VPAID,REGULAR:i.AdSlates.REGULAR},n.AdServingType={INLINE:i.AdServingType.INLINE,WRAPPER:i.AdServingType.WRAPPER},n.DeviceCategory={ANDROID_DEVICE:i.DeviceCategory.ANDROID_DEVICE,APPLE_DEVICE:i.DeviceCategory.APPLE_DEVICE,CHROMECAST:i.DeviceCategory.CHROMECAST,DESKTOP_APP:i.DeviceCategory.DESKTOP_APP,DEVICE_SIMULATOR:i.DeviceCategory.DEVICE_SIMULATOR,LG_TV:i.DeviceCategory.LG_TV,NINTENDO:i.DeviceCategory.NINTENDO,PLAYSTATION:i.DeviceCategory.PLAYSTATION,ROKU:i.DeviceCategory.ROKU,SAMSUNG_TV:i.DeviceCategory.SAMSUNG_TV,SMART_TV:i.DeviceCategory.SMART_TV,SET_TOP_BOX:i.DeviceCategory.SET_TOP_BOX,TIVO:i.DeviceCategory.TIVO,WEB:i.DeviceCategory.WEB,WINDOWS_DEVICE:i.DeviceCategory.WINDOWS_DEVICE,XBOX:i.DeviceCategory.XBOX,KAIOS_DEVICE:i.DeviceCategory.KAIOS_DEVICE};var a=e.ClientSettings=function(){var e=this;this.Wt=null,$.xt(this,"customerKey",(function(){return this.Wt})),$.qt(this,"customerKey",(function(e){$.wt(e)&&(this.Wt=e)})),this.Yt=a.Jt,$.xt(this,"heartbeatInterval",(function(){return this.Yt})),$.qt(this,"heartbeatInterval",(function(e){var t;"number"!=typeof e||(t=$.Xt(e))===e&&(this.Yt=t)})),this.Qt=null,this.M=null,this.F=null,$.xt(this,"gatewayUrl",(function(){return this.Qt})),$.qt(this,"gatewayUrl",(function(e){var t;$.wt(e)&&("https"!==(t=e.split("://"))[0]&&"http"!==t[0]||-1!==e.indexOf(".com",e.length-".com".length)&&(this.Qt=e))})),function(e){if(!$.wt(e))throw new Error("customerKey must be valid");this.customerKey=e}.apply(this,arguments),this.equals=function(e){return this.customerKey===e.customerKey&&this.gatewayUrl===e.gatewayUrl&&this.heartbeatInterval===e.heartbeatInterval},this.z=function(){var t=new a(this.customerKey);return t.gatewayUrl=function(t){if($.wt(t)){var i=t.split("://");if(-1===i[1].indexOf("cws.conviva.com")&&("https"===i[0]||"http"===i[0]))return e.M="https://"+e.customerKey+"."+a.U,e.F="https://"+e.customerKey+"."+a.B,t}return e.M="https://"+e.customerKey+"."+a.L,e.F="https://"+e.customerKey+"."+a.H,"https://"+e.customerKey+"."+a.Q}(this.gatewayUrl),t.heartbeatInterval=this.heartbeatInterval,t.M=this.M,t.F=this.F,t}};a.Zt="https://conviva.testonly.conviva.com",a.zt="https://cws.conviva.com",a.Q="cws.conviva.com",a.L="ipv4.cws.conviva.com",a.H="ipv6.cws.conviva.com",a.$t="conviva.testonly.conviva.com",a.U="ipv4.testonly.conviva.com",a.B="ipv6.testonly.conviva.com",a.X="https://",a.Z="http://",a.tn=5,a.Jt=20;var r=e.ContentMetadata=function(){this.nn=null,$.xt(this,"assetName",(function(){return this.nn})),$.qt(this,"assetName",(function(e){"string"==typeof e&&(this.nn=e)})),this.in={},$.xt(this,"custom",(function(){return this.in})),$.qt(this,"custom",(function(e){"object"==typeof e&&(this.in=$.yt(e))})),this.en=null,$.xt(this,"defaultResource",(function(){return this.en})),$.qt(this,"defaultResource",(function(e){"string"==typeof e&&(this.en=e)})),this.sn=null,$.xt(this,"viewerId",(function(){return this.sn})),$.qt(this,"viewerId",(function(e){"string"==typeof e&&(this.sn=e)})),this.on=null,$.xt(this,"applicationName",(function(){return this.on})),$.qt(this,"applicationName",(function(e){"string"==typeof e&&(this.on=e)})),this.rn=null,$.xt(this,"streamUrl",(function(){return this.rn})),$.qt(this,"streamUrl",(function(e){"string"==typeof e&&(this.rn=e)})),this.un=r.StreamType.UNKNOWN,$.xt(this,"streamType",(function(){return this.un})),$.qt(this,"streamType",(function(e){e!==r.StreamType.UNKNOWN&&e!==r.StreamType.VOD&&e!==r.StreamType.LIVE||(this.un=e)})),this.hn=-1,$.xt(this,"duration",(function(){return this.hn})),$.qt(this,"duration",(function(e){this.hn=ne.an(e)})),this.fn=-1,$.xt(this,"encodedFrameRate",(function(){return this.fn})),$.qt(this,"encodedFrameRate",(function(e){this.fn=ne.an(e)})),function(){}.apply(this,arguments),this.z=function(){var e,t=new r;for(e in t.assetName=this.assetName,t.applicationName=this.applicationName,t.streamUrl=this.streamUrl,t.viewerId=this.viewerId,t.defaultResource=this.defaultResource,t.streamType=this.streamType,t.duration=this.duration,t.encodedFrameRate=this.encodedFrameRate,this.custom)t.custom[e]=this.custom[e];return t}};r.StreamType={UNKNOWN:i.StreamType.UNKNOWN,LIVE:i.StreamType.LIVE,VOD:i.StreamType.VOD},e.ErrorType={ERROR_UNKNOWN:i.ErrorType.ERROR_UNKNOWN,ERROR_IO:i.ErrorType.ERROR_IO,ERROR_TIMEOUT:i.ErrorType.ERROR_TIMEOUT,ERROR_NULL_ASSET:i.ErrorType.ERROR_NULL_ASSET,ERROR_MISSING_PARAMETER:i.ErrorType.ERROR_MISSING_PARAMETER,ERROR_NO_AD_AVAILABLE:i.ErrorType.ERROR_NO_AD_AVAILABLE,ERROR_PARSE:i.ErrorType.ERROR_PARSE,ERROR_INVALID_VALUE:i.ErrorType.ERROR_INVALID_VALUE,ERROR_INVALID_SLOT:i.ErrorType.ERROR_INVALID_SLOT,ERROR_3P_COMPONENT:i.ErrorType.ERROR_3P_COMPONENT,ERROR_UNSUPPORTED_3P_FEATURE:i.ErrorType.ERROR_UNSUPPORTED_3P_FEATURE,ERROR_DEVICE_LIMIT:i.ErrorType.ERROR_DEVICE_LIMIT,ERROR_UNMATCHED_SLOT_SIZE:i.ErrorType.ERROR_UNMATCHED_SLOT_SIZE},e.Events={AD_REQUESTED:i.Events.AD_REQUESTED,AD_RESPONSE:i.Events.AD_RESPONSE,AD_SLOT_STARTED:i.Events.AD_SLOT_STARTED,AD_ATTEMPTED:i.Events.AD_ATTEMPTED,AD_SLOT_ENDED:i.Events.AD_SLOT_ENDED,AD_IMPRESSION_START:i.Events.AD_IMPRESSION_START,AD_START:i.Events.AD_START,AD_FIRST_QUARTILE:i.Events.AD_FIRST_QUARTILE,AD_MID_QUARTILE:i.Events.AD_MID_QUARTILE,AD_THIRD_QUARTILE:i.Events.AD_THIRD_QUARTILE,AD_COMPLETE:i.Events.AD_COMPLETE,AD_END:i.Events.AD_END,AD_IMPRESSION_END:i.Events.AD_IMPRESSION_END,AD_SKIPPED:i.Events.AD_SKIPPED,AD_ERROR:i.Events.AD_ERROR,AD_PROGRESS:i.Events.AD_PROGRESS,AD_CLOSE:i.Events.AD_CLOSE,CONTENT_PAUSED:i.Events.CONTENT_PAUSED,CONTENT_RESUMED:i.Events.CONTENT_RESUMED,POD_START:i.Events.POD_START,POD_END:i.Events.POD_END};var o=e.PlayerStateManager=function(){var t=this;t.cn=null,t.ln=-2,t.vn=o.PlayerState.UNKNOWN,t.dn={},t.En=-2,t.fn=-2,t.hn=-2,t.pn=null,t.Rn=null,t.rn=null,t.wn=null,t.Tn=null,t.Sn=-1,t.gn=-1,t.A=null,t.C=null,t.Nn=null,t.On=[],t.g=!1,this.release=function(){t.g||t.w.m("PlayerStateManager.release",(function(){t.cn&&t.cn._n(),t.An(),t.v=null,t.w=null,t.g=!0}))},this.setPlayheadTime=function(){},this.setBufferLength=function(){},this.setRenderedFrameRate=function(){},this.getEncodedFrameRate=function(){return t.fn},this.setEncodedFrameRate=function(e){t.g||t.w.m("PlayerStateManager.setEncodedFrameRate",(function(){var i=ne.an(e);i>=-1&&(t.fn=i,t.cn&&t.cn.Cn(t.fn))}))},this.getDuration=function(){return t.hn},this.setClientMeasureInterface=function(t){$.In(t,new e.ClientMeasureInterface,"ClientMeasureInterface"),this.yn=t},this.getPHT=function(){return this.yn&&"function"==typeof this.yn.getPHT?this.yn.getPHT():o.DEFAULT_PHT},this.getBufferLength=function(){return this.yn&&"function"==typeof this.yn.getBufferLength?this.yn.getBufferLength():o.DEFAULT_BUFFER_LENGTH},this.getSignalStrength=function(){return this.yn&&"function"==typeof this.yn.getSignalStrength?this.yn.getSignalStrength():o.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this.yn&&"function"==typeof this.yn.getRenderedFrameRate?this.yn.getRenderedFrameRate():o.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(e){t.g||t.w.m("PlayerStateManager.setDuration",(function(){var i=ne.an(e);i>=-1&&(t.hn=i,t.cn&&t.cn.mn(t.hn))}))},this.getStreamUrl=function(){return t.rn},this.setStreamUrl=function(e){t.g||t.w.m("PlayerStateManager.setStreamUrl",(function(){e&&(t.rn=e,t.cn&&t.cn.Dn(t.rn))}))},this.bn=function(){return t.wn},this.Pn=function(){return t.Tn},this.setModuleNameAndVersion=function(e,i){t.wn=e,t.Tn=i},this.Mn=function(){return t.Rn},this.setPlayerType=function(e){t.g||t.w.m("PlayerStateManager.setPlayerType",(function(){t.Rn=e,t.cn&&t.cn.Ln(t.Rn)}))},this.Un=function(){return t.pn},this.setPlayerVersion=function(e){t.g||t.w.m("PlayerStateManager.setPlayerVersion",(function(){t.pn=e,t.cn&&t.cn.Vn(t.pn)}))},this.setMonitoringNotifier=function(e){return!t.g&&!t.cn&&(t.cn=e,t.c,!0)},this.An=function(){t.g||(t.cn=null,t.c)},this.kn=function(){t.setPlayerState(t.getPlayerState()),t.setBitrateKbps(t.Fn()),t.setDuration(t.getDuration()),t.setEncodedFrameRate(t.getEncodedFrameRate()),t.setStreamUrl(t.getStreamUrl()),t.setPlayerType(t.Mn()),t.setPlayerVersion(t.Un());for(var e=0;e<t.On.length;e++){var i=t.On[e];t.Hn(i)}t.On=[]},this.getPlayerState=function(){return t.vn},this.setPlayerState=function(e){t.g||t.w.m("PlayerStateManager.setPlayerState",(function(){o.Bn(e)&&(t.vn=e,t.cn&&t.cn.Gn(t.vn))}))},this.Fn=function(){return t.ln},this.setBitrateKbps=function(e){t.g||t.w.m("PlayerStateManager.setBitrateKbps",(function(){var i=ne.an(e);i>=-1&&(t.ln=i,t.cn&&t.cn.jn(t.ln))}))},this.setPlayerSeekStart=function(e){t.g||t.w.m("PlayerStateManager.setPlayerSeekStart()",(function(){t.cn&&t.cn.Kn(o.SEEK_ACTIONS_TYPE.SEEK_START,e)}))},this.setPlayerSeekEnd=function(){t.g||t.w.m("PlayerStateManager.setPlayerSeekEnd()",(function(){t.cn&&t.cn.Kn(o.SEEK_ACTIONS_TYPE.SEEK_END,-1)}))},this.setUserSeekButtonUp=function(){t.g||t.w.m("PlayerStateManager.setUserSeekButtonUp()",(function(){t.cn&&t.cn.Kn(o.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)}))},this.setUserSeekButtonDown=function(){t.g||t.w.m("PlayerStateManager.setUserSeekButtonDown()",(function(){t.cn&&t.cn.Kn(o.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)}))},this.setVideoResolutionWidth=function(e){t.g||t.w.m("PlayerStateManager.setVideoResolutionWidth()",(function(){var i=ne.an(e);i>0&&(t.Sn=i),t.cn&&t.cn.Wn(t.Sn)}))},this.setVideoResolutionHeight=function(e){t.g||t.w.m("PlayerStateManager.setVideoResolutionHeight()",(function(){var i=ne.an(e);i>0&&(t.gn=i),t.cn&&t.cn.xn(t.gn)}))},this.setConnectionType=function(e){t.g||t.w.m("PlayerStateManager.setConnectionType()",(function(){t.A=e,t.cn&&t.cn.W(t.A)}))},this.setLinkEncryption=function(e){t.g||t.w.m("PlayerStateManager.setLinkEncryption()",(function(){t.C=e,t.cn&&t.cn.Y(t.C)}))},this.setSignalStrength=function(){},this.Hn=function(e){var i,n;t.Nn=e,t.cn?(i=e.errorCode,n=e.severity,t.cn.qn(i,n)):t.On.push(e)},this.sendError=function(e,i){t.g||t.w.m("PlayerStateManager.sendError",(function(){var n=new ae(e,i);t.Hn(n)}))},this.reset=function(){t.g||t.w.m("PlayerStateManager.reset",(function(){t.ln=-2,t.vn=o.PlayerState.UNKNOWN,t.dn={},t.En=-1,t.fn=-1,t.hn=-1,t.pn=null,t.Rn=null,t.rn=null,t.Nn=null,t.On=[]}))},this.setCDNServerIP=function(e){t.g||t.w.m("PlayerStateManager.setCDNServerIP",(function(){t.cn&&t.cn.Yn(e)}))},this.Jn=function(){return t.Xn},this.setDroppedFramesTotal=function(e){t.g||t.w.m("PlayerStateManager.setDroppedFramesTotal",(function(){t.cn&&t.cn.Qn(e)}))},this.setDroppedFramesCount=function(e){t.g||t.w.m("PlayerStateManager.setDroppedFramesCount",(function(){t.cn&&t.cn.Zn(e)}))},this.zn=function(){return t.Nn},function(e,i){t.v=e,t.w=t.v.tt(i)}.apply(t,arguments)};o.PlayerState={STOPPED:i.PlayerState.STOPPED,PLAYING:i.PlayerState.PLAYING,BUFFERING:i.PlayerState.BUFFERING,PAUSED:i.PlayerState.PAUSED,UNKNOWN:i.PlayerState.UNKNOWN,NOT_MONITORED:i.PlayerState.NOT_MONITORED},o.Bn=function(e){return e===o.PlayerState.STOPPED||e===o.PlayerState.PLAYING||e===o.PlayerState.BUFFERING||e===o.PlayerState.PAUSED||e===o.PlayerState.UNKNOWN||e===o.PlayerState.NOT_MONITORED},o.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"},o.DEFAULT_SIGNAL_STRENGTH=1e3,o.DEFAULT_RENDERED_FRAME_RATE=-1,o.DEFAULT_BUFFER_LENGTH=-1,o.DEFAULT_PHT=-1,e.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}};var s=e.HttpInterface=function(){this.makeRequest=function(){},this.release=function(){}},l=e.LoggingInterface=function(){this.consoleLog=function(){},this.release=function(){}},c=e.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.getDeviceCategory=function(){},this.getScreenWidth=function(){},this.getScreenHeight=function(){},this.getScaleFactor=function(){},this.release=function(){}},d=e.StorageInterface=function(){this.saveData=function(){},this.loadData=function(){},this.release=function(){}},u=e.SystemInterface=function(){(function(e,t,i,n,a,r){$.In(e,new h,"TimeInterface"),$.In(t,new p,"TimerInterface"),$.In(i,new s,"HttpInterface"),$.In(n,new d,"StorageInterface"),$.In(a,new c,"MetadataInterface"),$.In(r,new l,"LoggingInterface"),this.$n=e,this.ti=t,this.ni=i,this.ii=n,this.ei=a,this.si=r}).apply(this,arguments),this.release=function(){this.$n&&(this.$n.release(),this.$n=null),this.ti&&(this.ti.release(),this.ti=null),this.ni&&(this.ni.release(),this.ni=null),this.ii&&(this.ii.release(),this.ii=null),this.ei&&(this.ei.release(),this.ei=null),this.si&&(this.si.release(),this.si=null)}},h=e.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},p=e.TimerInterface=function(){this.createTimer=function(){},this.release=function(){}},f=e.SystemFactory=function(){var e=this;(function(e,t){if(!(e instanceof u))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this.oi=e,this.$n=this.oi.$n,this.ti=this.oi.ti,this.ni=this.oi.ni,this.ii=this.oi.ii,this.ei=this.oi.ei,this.si=this.oi.si,this.p=t instanceof _?t.z():new _}).apply(this,arguments),this.$=function(e,t,i){this.ri=e,this.ui=t,this.hi=i},this.release=function(){this.oi.release(),this.oi=null,this.ri=null,this.p=null,this.ai=null};var i=function(){return new oe(e.si,e.$n,e.Ut(),e.ai,e.ri)};this.buildLogger=function(){return i()},this.rt=function(e,t,i){return new G(e,t,i,this)},this.fi=function(e){return new te(this.buildLogger(),this.ci(),this.ui,e)},this.li=function(){return new z(this.buildTimer(e.hi))},this.vi=function(){var e=new ce(this.buildLogger(),this.ti,new J(this.buildLogger(),null,this.Ut()));return new z(e)},this.ci=function(){return new re(this.buildLogger(),this.ni,this.vi(),this.Ut())},this.tt=function(e){return new J(this.buildLogger(),this.fi(e),this.Ut())},this.buildTime=function(){return new le(this.$n,this.buildLogger())},this.buildTimer=function(e){return new ce(this.buildLogger(),this.ti,this.tt(e))},this.di=function(){return new t.Storage(this.buildLogger(),this.ii,this.li(),this.Ut())},this.nt=function(){return new Q(this.buildLogger(),this.di(),this.Ei())},this.pi=function(e){return new se(this.buildLogger(),this.ei,this.tt(e))},this.Ri=function(){return new j},this.wi=function(e,t){return new Z(e,this.buildLogger(),this.ci(),this.Ei(),t)},this.Ti=function(e,t,i,n,a){var r=this.wi(t,n.custom["c3.domain"]);return new q(this.Si(),e,t,this.buildLogger(),this.tt(a),this.buildTimer(a),r,this.Ri(),this.buildTime(),this.gi(),i,n,a)},this.Ni=function(e,t,i,n,a,r,o){return r=this.Ti(e,t.z(),i,r,o),new W(n,a,i,this.pi(o),r,this.tt(o),this.buildLogger())},this.Si=function(){return new X},this.Ei=function(){return new K},this.gi=function(){return this.ai},this.Ut=function(){return this.p},this.ai=new ee},_=e.SystemSettings=function(){this.Oi=_._i,$.xt(this,"logLevel",(function(){return this.Oi})),$.qt(this,"logLevel",(function(e){var t;"number"!=typeof e||(t=$.Xt(e))===e&&t>=_.LogLevel.DEBUG&&t<=_.LogLevel.ERROR&&(this.Oi=t)})),this.Ai=_.Ci,$.xt(this,"allowUncaughtExceptions",(function(){return this.Ai})),$.qt(this,"allowUncaughtExceptions",(function(e){$.Ii(e)&&(this.Ai=e)})),this.yi=_.mi,$.xt(this,"storageTimeout",(function(){return this.yi})),$.qt(this,"storageTimeout",(function(e){var t;"number"!=typeof e||(t=$.Xt(e))===e&&(this.yi=t)})),this.Di=_.bi,$.xt(this,"httpTimeout",(function(){return this.Di})),$.qt(this,"httpTimeout",(function(e){var t;"number"!=typeof e||(t=$.Xt(e))===e&&(this.Di=t)})),function(){}.apply(this,arguments),this.equals=function(e){return this.logLevel===e.logLevel&&this.allowUncaughtExceptions===e.allowUncaughtExceptions&&this.storageTimeout===e.storageTimeout&&this.httpTimeout===e.httpTimeout},this.z=function(){var e=new _;return e.logLevel=this.logLevel,e.allowUncaughtExceptions=this.allowUncaughtExceptions,e.storageTimeout=this.storageTimeout,e.httpTimeout=this.httpTimeout,e}};_.LogLevel={DEBUG:i.LogLevel.DEBUG,INFO:i.LogLevel.INFO,WARNING:i.LogLevel.WARNING,ERROR:i.LogLevel.ERROR,NONE:i.LogLevel.NONE},_.Pi=_.LogLevel.DEBUG,_._i=_.LogLevel.NONE,_.Mi=!0,_.Ci=!1,_.mi=10,_.bi=10;var g=t.AdAnalytics=function(){var t=this;function a(e){t.Li?($.It(e)>0&&t.setAdInfo(e),t.Li.Ui()||(t.Li.Vi(t.ki),t.Li.Fi(!0))):t.c}t.Hi=null,t.v=null,t.Bi=null,t.ki=null,t.Li=null,t.Gi=null,t.ji=null,t.Ki=null,function(e,n,a){t.Hi=e,t.Ki=a,t.v=n,a&&(t.ki=a.Wi()),t.Bi=n.buildTimer(i.version),t.Li=new v(t.Hi,t.Bi),y.call(this)}.apply(this,arguments),this.setAdInfo=function(e){$.It(e)<=0?t.c:(t.c,t.Li&&t.Li.xi(e))},this.setAdPlayerInfo=function(e){$.It(e)<=0?t.c:(t.c,t.Li&&t.Li.xi(e))},this.reportAdMetric=function(){0!==arguments.length?1===arguments.length?t.qi(arguments[0]):2===arguments.length?t.qi(arguments[0],arguments[1]):3===arguments.length?t.qi(arguments[0],arguments[1],arguments[2]):4===arguments.length&&t.qi(arguments[0],arguments[1],arguments[2],arguments[3]):t.c},this.setCallback=function(e){t.Li&&t.Li.Yi(e)},this.reportAdFailed=function(e,i){t.Li?($.It(i)>0&&t.setAdInfo(i),t.Li.Ui()?(t.c,t.reportAdError(e,n.ErrorSeverity.FATAL),t.reportAdEnded()):(t.Li.Vi(t.ki),t.c,e=new ae(e,n.ErrorSeverity.FATAL),t.Li.Fi(!0,e))):t.c},this.reportAdLoaded=function(e){t.c,a(e)},this.reportAdStarted=function(e){t.c,a(e)},this.reportAdEnded=function(){t.Li?(t.c,t.Li.Ui()&&(t.Li.Vi(null),t.Li.Fi(!1))):t.c},this.reportAdError=function(e,i){t.Li?(t.c,i=new ae(e,i),t.Li.Hn(i)):t.c},this.reportAdPlayerEvent=function(e,n){if($.wt(e))if(t.c,t.Li)switch(e){case i.Events.USER_WAIT_STARTED:case i.Events.BUMPER_VIDEO_STARTED:t.Li.gt();break;case i.Events.USER_WAIT_ENDED:case i.Events.BUMPER_VIDEO_ENDED:t.Li.Ot();break;default:t.Li.Ji(e,n)}else t.c;else t.c},this.reportAdSkipped=function(){t.Li?(t.c,t.reportAdPlayerEvent(i.Events.AD_SKIPPED),t.reportAdEnded()):t.c},this.release=function(){t.c,t.Li&&(t.Li.Ui()&&(t.Li.Vi(null),t.Li.Fi(!1)),t.Li.Yi(null),t.Li.Xi(),t.Li=null),void 0!==e.AdProxyMonitor&&t.ji&&(e.AdProxyMonitor.release(t.ji),t.ji=null)},this.setAdListener=function(i,n){i&&(void 0!==n&&void 0!==n.convivaModule?e.AdProxyMonitor=n.convivaModule.AdProxyMonitor:"undefined"!=typeof ConvivaModule&&(e.AdProxyMonitor=ConvivaModule.AdProxyMonitor),void 0!==e.AdProxyMonitor&&(!i&&t.ji?(e.AdProxyMonitor.release(t.ji),t.ji=null):i&&t.ji?(e.AdProxyMonitor.release(t.ji),t.c,t.ji=e.AdProxyMonitor.initConvivaDropIn(i,n,this,e,t.v)):i&&!t.ji&&(t.c,t.ji=e.AdProxyMonitor.initConvivaDropIn(i,n,this,e,t.v))))},this.reportAdBreakStarted=function(e,i,n){t.ki&&(t.c,t.Qi=e,t.Gi=i,t.ki.Zi(e,i,n))},this.reportAdBreakEnded=function(){t.ki&&(t.c,t.Qi=null,t.Gi=null,t.ki.zi())},this.getSessionId=function(){return t.ki?(t.c,t.Li.Vt()):i.NO_SESSION_KEY},this.getClientId=function(){return t.ki?(t.c,t.Li.kt()):null},this.getPlayerMonitor=function(){return t.ki},this.getAdPlayerMonitor=function(){return t.Li},this.getVideoAnalytics=function(){return t.Ki},this.getAdType=function(){return t.ki?t.ki.Qi:null},this.$i=function(){return t.ki?t.ki.Gi:null},g.prototype=Object.create(y.prototype),g.prototype.constructor=g},v=t.AdPlayerMonitorImpl=function(){var e=this;e.te=null,e.ne=null,function(e,t){E.call(this,e,t)}.apply(this,arguments),this.Vi=function(t){this.ie()!==t&&(this.ee(),e.ne=t||null)},this.ie=function(){return e.ne},this.se=function(t){var i,n=this.ie(),a={};a.error=t,e.te&&(e.oe=e.te.getPlayerStateManager(!0),e.re(),e.oe.setClientMeasureInterface(this),i=null,n&&(i=n.ue()),e.he=e.te.createAdSession(i,e.Et,e.oe,!0,a),void 0!==t&&(e.ae(),e.Xi()))},v.prototype=Object.create(E.prototype),v.prototype.constructor=v},m=e.Analytics={init:function(t,r,o){if(this.Hi,arguments.length<=0)throw new Error("customerKey must be valid");var s=null,l=null,c=null;if("string"==typeof t&&(s=t,!$.wt(s)))throw new Error("customerKey must be valid");arguments.length>=2&&"object"==typeof r&&(l=r),arguments.length>=3&&"object"==typeof o&&(c=o);var d=new a(s),h=new _;$.It(c)>0&&(c[i.GATEWAY_URL]&&(d.gatewayUrl=c[i.GATEWAY_URL]),c[i.LOG_LEVEL]>=0&&(h.logLevel=c[i.LOG_LEVEL])),t=new e.Impl.Html5Logging,r=new e.Impl.Html5Storage,o=new e.Impl.Html5Http,s=new e.Impl.Html5Timer,c=new e.Impl.Html5Time,this.ei||(this.ei=new e.Impl.Html5Metadata),l&&(l[i.CallbackFunctions.CONSOLE_LOG]&&(t.consoleLog=l[i.CallbackFunctions.CONSOLE_LOG]),l[i.CallbackFunctions.MAKE_REQUEST]&&(o.makeRequest=l[i.CallbackFunctions.MAKE_REQUEST]),l[i.CallbackFunctions.SAVE_DATA]&&(r.saveData=l[i.CallbackFunctions.SAVE_DATA]),l[i.CallbackFunctions.LOAD_DATA]&&(r.loadData=l[i.CallbackFunctions.LOAD_DATA]),l[i.CallbackFunctions.GET_EPOCH_TIME_IN_MS]&&(c.getEpochTimeMs=l[i.CallbackFunctions.GET_EPOCH_TIME_IN_MS]),l[i.CallbackFunctions.CREATE_TIMER]&&(s.createTimer=l[i.CallbackFunctions.CREATE_TIMER])),this.oi=new u(c,s,o,r,this.ei,t),this.v=new f(this.oi,h),this.v.$("Analytics",d),this.Hi=new n(d,this.v,this.fe,m.version)},release:function(){var e=0;if(this.ce){for(e=0;e<this.ce.length;e++){var t=this.ce[e];t&&(t.release(),t.c=null,t.Bi=null,this.ce.splice(e,1),e--)}this.ce=null}if(this.le){for(e=0;e<this.le.length;e++){var i=this.le[e];i&&(i.release(),i.c=null,i.Bi=null,this.le.splice(e,1),e--)}this.le=null}this.v&&(this.v.release(),this.v=null),this.Hi&&(this.Hi.release(),this.Hi=null),this.Hi=null,this.c=null,this.oi=null,this.ei=null,this.fe=null},setUniqueIdentifier:function(e,t){if(!this.Hi)throw new Error(i.i);this.Hi.setUniqueIdentifier(e,t)},setUserPreferenceForDataCollection:function(e,t){if(!this.Hi)throw new Error(i.i);this.Hi.setUserPreferenceForDataCollection(e,t)},setUserPreferenceForDataDeletion:function(e){if(!this.Hi)throw new Error(i.i);this.Hi.setUserPreferenceForDataDeletion(e)},reportAppEvent:function(e,t){if(!this.Hi)throw new Error(i.i);this.Hi.sendCustomEvent(n.NO_SESSION_KEY,e,t)},reportAppBackgrounded:function(){if(!this.Hi)throw new Error(i.i);this.Hi.sendCustomEvent(n.NO_SESSION_KEY,"App.Backgrounded",null)},reportAppForegrounded:function(){if(!this.Hi)throw new Error(i.i);this.Hi.sendCustomEvent(n.NO_SESSION_KEY,"App.Foregrounded",null)},configureExistingClient:function(e){if(!(e instanceof n))throw new Error(i.i);this.Hi=e,this.v=this.Hi.v},buildVideoAnalytics:function(){if(!this.Hi)throw new Error(i.i);var e=new k(this.Hi,this.v);return this.le||(this.le=[]),this.le.push(e),e},buildAdAnalytics:function(e){if(!this.Hi)throw new Error(i.i);return e=new g(this.Hi,this.v,e||null),this.ce||(this.ce=[]),this.ce.push(e),e},setDeviceMetadata:function(t){var n,a,r;arguments.length<=0||0===$.It(t)||(this.ei||(this.ei=new e.Impl.Html5Metadata),t[i.DeviceMetadata.BRAND]&&(this.ei.getDeviceBrand=function(){return t[i.DeviceMetadata.BRAND]}),t[i.DeviceMetadata.MANUFACTURER]&&(this.ei.getDeviceManufacturer=function(){return t[i.DeviceMetadata.MANUFACTURER]}),t[i.DeviceMetadata.MODEL]&&(this.ei.getDeviceModel=function(){return t[i.DeviceMetadata.MODEL]}),t[i.DeviceMetadata.TYPE]&&(this.ei.getDeviceType=function(){return t[i.DeviceMetadata.TYPE]}),t[i.DeviceMetadata.VERSION]&&(this.ei.getDeviceVersion=function(){return t[i.DeviceMetadata.VERSION]}),t[i.DeviceMetadata.OS_NAME]&&(this.ei.getOperatingSystemName=function(){return t[i.DeviceMetadata.OS_NAME]}),t[i.DeviceMetadata.OS_VERSION]&&(this.ei.getOperatingSystemVersion=function(){return t[i.DeviceMetadata.OS_VERSION]}),t[i.DeviceMetadata.CATEGORY]&&(this.ei.getDeviceCategory=function(){return t[i.DeviceMetadata.CATEGORY]}),n=t[i.DeviceMetadata.SCREEN_RESOLUTION_WIDTH],$.lt(n)&&(this.ei.getScreenWidth=function(){return n.toString()}),a=t[i.DeviceMetadata.SCREEN_RESOLUTION_HEIGHT],$.lt(a)&&(this.ei.getScreenHeight=function(){return a.toString()}),r=t[i.DeviceMetadata.SCREEN_RESOLUTION_SCALE_FACTOR],$.lt(r)&&(this.ei.getScaleFactor=function(){return r.toString()}))},reportDeviceMetric:function(e,t){switch(this.fe||(this.fe={}),e){case i.Network.CONNECTION_TYPE:if(!$.wt(t))return;this.fe[e]=t,this.Hi&&this.Hi.j(this.fe[i.Network.CONNECTION_TYPE]);break;case i.Network.LINK_ENCRYPTION:if(!$.wt(t))return;this.fe[e]=t,this.Hi&&this.Hi.q(this.fe[i.Network.LINK_ENCRYPTION]);break;case i.Network.SIGNAL_STRENGTH:var n=parseInt(t,10);if(!$.lt(n))return;if(o.DEFAULT_SIGNAL_STRENGTH===n)return;this.fe[e]=n,this.Hi&&this.Hi.J(n)}}};m.version="4.5.8";var y=t.AnalyticsImpl=function(){var e=this;function t(){var t=!!e.Li,n=e.getAdType(),a=e.$i();return n===i.AdType.SERVER_SIDE&&a===i.AdPlayer.CONTENT?y.de.ve:n!==i.AdType.SERVER_SIDE||a!==i.AdPlayer.SEPARATE?n===i.AdType.CLIENT_SIDE&&a===i.AdPlayer.CONTENT?y.de.Ee:(n===i.AdType.CLIENT_SIDE&&i.AdPlayer.SEPARATE,t?y.de.Ee:y.de.pe):void 0}function n(t,i,n){t=parseInt(t,10),i=parseInt(i,10),isNaN(t)&&isNaN(i)||(isNaN(t),isNaN(i),!e.Li||n!==y.de.Ee&&n!==y.de.ve||e.Li.Re(t,i),!e.ki||n!==y.de.pe&&n!==y.de.ve||e.ki.Re(t,i))}function a(t,i){o.Bn(t)&&(!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.we(t),(e.ki&&i===y.de.pe||i===y.de.ve)&&e.ki.we(t))}function r(t,i){t=parseInt(t,10),isNaN(t)||(!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.Te(t),!e.ki||i!==y.de.pe&&i!==y.de.ve||e.ki.Te(t))}function s(t,i){t=parseInt(t,10),isNaN(t)||(!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.Se(t),!e.ki||i!==y.de.pe&&i!==y.de.ve||e.ki.Se(t))}function l(t,i){t=parseInt(t,10),!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.ge(!0,t),!e.ki||i!==y.de.pe&&i!==y.de.ve||e.ki.ge(!0,t)}function c(t){!e.Li||t!==y.de.Ee&&t!==y.de.ve||e.Li.ge(!1,-1),!e.ki||t!==y.de.pe&&t!==y.de.ve||e.ki.ge(!1,-1)}function d(t,i){t=parseInt(t,10),isNaN(t)||(!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.Ne(t),!e.ki||i!==y.de.pe&&i!==y.de.ve||e.ki.Ne(t))}function u(t,i){t=parseInt(t,10),isNaN(t)||(!e.Li||i!==y.de.Ee&&i!==y.de.ve||e.Li.Oe(t),!e.ki||i!==y.de.pe&&i!==y.de.ve||e.ki.Oe(t))}(function(){}).apply(this,arguments),this.qi=function(o,h,p,f){switch(o){case i.Playback.BITRATE:f===y.de.Ee?d(h,y.de.Ee):d(h,t());break;case i.Playback.PLAY_HEAD_TIME:f===y.de.Ee?r(h,y.de.Ee):r(h,t());break;case i.Playback.RESOLUTION:f===y.de.Ee?n(h,p,y.de.Ee):n(h,p,t());break;case i.Playback.BUFFER_LENGTH:f===y.de.Ee?s(h,y.de.Ee):s(h,t());break;case i.Playback.PLAYER_STATE:f===y.de.Ee?a(h,y.de.Ee):a(h,t());break;case i.Playback.RENDERED_FRAMERATE:f===y.de.Ee?u(h,y.de.Ee):u(h,t());break;case i.Playback.SEEK_STARTED:arguments.length>=2&&"CONVIVA"!==h?l(h,t()):p===y.de.Ee?l(-1,y.de.Ee):l(-1,t());break;case i.Playback.SEEK_ENDED:p===y.de.Ee?c(y.de.Ee):c(t());break;case i.Playback.CDN_IP:m=h,b=t(),$.wt(m)&&(!e.Li||b!==y.de.Ee&&b!==y.de.ve||e.Li._e(m),!e.ki||b!==y.de.pe&&b!==y.de.ve||e.ki._e(m));break;case i.Playback.DROPPED_FRAMES_TOTAL:v=h,m=t(),v=parseInt(v,10),isNaN(v)||(!e.Li||m!==y.de.Ee&&m!==y.de.ve||e.Li.Ae(v),!e.ki||m!==y.de.pe&&m!==y.de.ve||e.ki.Ae(v));break;case i.Playback.DROPPED_FRAMES_COUNT:_=h,g=t(),_=parseInt(_,10),isNaN(_)||(!e.Li||g!==y.de.Ee&&g!==y.de.ve||e.Li.Ce(_),!e.ki||g!==y.de.pe&&g!==y.de.ve||e.ki.Ce(_));break;default:v=o,g=h,_=t(),$.wt(v)&&g&&(!e.Li||_!==y.de.Ee&&_!==y.de.ve||e.Li.Ft(v,g),!e.ki||_!==y.de.pe&&_!==y.de.ve||e.ki.Ft(v,g))}var _,g,v,m,b}};t.AnalyticsImpl.de={Ee:1,pe:2,ve:3};var b=t.PlayerMonitor=function(){var e=this;this.Ie=null,this.ye=null,this.Et=null,this.me=null,this.vn=o.PlayerState.UNKNOWN,this.De=-1,this.be=-1,this.On=[],this.Pe=null,this.Me=null,this.Le=-2,this.En=-1,this.I=o.DEFAULT_SIGNAL_STRENGTH,this.Ue=null,this.Xn=null,this.C=null,this.A=null,this.Bi=null,this.Ve=null,this.ke=null,this.Fe=null,this.He=null,this.Qi=null,this.Gi=null,function(t){e.Bi=t}.apply(this,arguments),this.Be=function(){return e.vn},this.we=function(t){e.vn!==t&&(e.ee(),e.vn=t,e.Ge())},this.je=function(){return e.Ke},this.We=function(){return e.xe},this.ge=function(t,i){e.ee(),e.Ke=t,e.xe=i,e.qe()},this.Ye=function(){return e.De},this.Te=function(t){e.De=t},this.Je=function(){return e.be},this.Se=function(t){e.be=t},this.Xe=function(){return e.Le},this.Ne=function(t){e.Le!==t&&(e.Le=t,e.Ge())},this.Qe=function(){return e.En},this.Oe=function(t){e.En=t},this.Ze=function(){return e.Ue},this._e=function(t){e.Ue=t,e.Ge()},this.Jn=function(){return e.Xn},this.Ae=function(t){e.Xn=t,e.Ge()},this.Ce=function(t){e.ze(t)},this.$e=function(){return e.I},this.ts=function(){return e.ns},this.es=function(){return e.ss},this.Re=function(t,i){t<0&&(t=0),i<0&&(i=0),e.ns===t&&e.ss===i||(e.ns=t,e.ss=i,e.Ge())},this.os=function(){return e.ye},this.rs=function(){e.os()&&(e.Et=new r,e.me={},e.ke={},e.us())},this.hs=function(t){(e.ye||t)&&(this.ee(),e.ye&&(e.ye=null,e.rs()),t&&(e.ye=$.as(e.ye,t),e.rs()))},this.xi=function(t){if(t)if(e.Et){var i,n=!1;for(i in t)if(e.Et[i]!==t[i]){n=!0;break}n&&(e.ee(),e.ye=$.as(t),e.us())}else e.hs(t)},this.Yi=function(t){t?e.Fe!==t&&(e.Fe=t,e.fs()):(e.Fe=null,e.ae())},this.ee=function(){e.cs||e.Fe&&(e.cs=!0,e.Fe(),e.cs=!1)},this.Ui=function(){return e.Ie},this.Fi=function(t,i){e.Ie!==t&&(e.ee(),e.Ie&&(e.ls(),e.ae(),e.Xi()),e.Ie=t,e.Ie&&e.se(i))},this.vs=function(){return e.Pe},this.ds=function(){return e.Me||null},this.Es=function(){return e.On},this.ps=function(){e.On=[]},this.Hn=function(t){this.ee(),e.On.push(t),e.qn()},this.Ji=function(t,i){e.ee(),e.Pe=t,e.Me=i,e.Rs()},this.ws=function(){e.ee()},this.fs=function(){e.ae(),e.Ve=e.Bi.create(e.ws,1e3,"PlayerMonitor.update")},this.ae=function(){e.Ve&&(e.Ve(),e.Ve=null)},this.Zi=function(t,n,a){e.He=a,e.Qi=t,e.Ts(),e.Gi=n,e.Qi&&i.AdType.CLIENT_SIDE===e.Qi&&(e.vn=i.PlayerState.UNKNOWN,e.Ss(e.Qi,n,a?a[i.POD_POSITION]:null))},this.zi=function(){e.Qi&&i.AdType.CLIENT_SIDE===e.Qi&&(e.gs(),e.vn=i.PlayerState.UNKNOWN),e.Ns(),e.Qi=null,e.Gi=null},this.Os=function(){return e.He},this._s=function(){return e.Qi},this.getContentMetadata=function(){return this.Et},this.Xi=function(){this.Ie=null,this.ye=null,this.Et=null,this.me=null,this.vn=o.PlayerState.UNKNOWN,this.De=-1,this.be=-1,this.On=[],this.Pe=null,this.Me=null,this.Le=-2,this.En=-1,this.I=o.DEFAULT_SIGNAL_STRENGTH,this.Ue=null,this.Xn=null,this.C=null,this.A=null,this.Bi=null,this.Ve=null,this.ke=null,this.Fe=null,this.He=null,this.Qi=null,this.Gi=null,e.oe=null,e.he=n.NO_SESSION_KEY}},E=t.PlayerMonitorImpl=function(){var e=this;e.te=null,e.oe=null,e.he=n.NO_SESSION_KEY,function(t,i){b.call(this,i),e.te=t}.apply(this,arguments),this.getPHT=function(){return e.Ye()},this.getBufferLength=function(){return e.Je()},this.getRenderedFrameRate=function(){return e.Qe()},this.getSignalStrength=function(){return e.$e()},this.qe=function(){e.oe&&e.As!==n.NO_SESSION_KEY&&(e.je()?e.oe.setPlayerSeekStart(e.We()):e.oe.setPlayerSeekEnd())},this.Ge=function(){e.oe&&(e.oe.setPlayerState(e.Be()),e.Xe()>0&&e.oe.setBitrateKbps(e.Xe()),e.ts()>0&&e.oe.setVideoResolutionWidth(e.ts()),e.es()>0&&e.oe.setVideoResolutionHeight(e.es()),e.Ze()&&e.oe.setCDNServerIP(e.Ze()),$.lt(e.Jn())&&e.oe.setDroppedFramesTotal(e.Jn()))},this.St=function(){e.he!==n.NO_SESSION_KEY&&e.te&&e.te.updateContentMetadata(e.he,e.Et)},this.re=function(){if(e.oe){var t,n,a;e.ke&&$.It(e.ke)>0&&(e.ke[i.MODULE_NAME]&&e.ke[i.MODULE_VERSION]&&(t=e.ke[i.MODULE_NAME],n=e.ke[i.MODULE_VERSION],$.wt(t)&&$.wt(n)&&e.oe.setModuleNameAndVersion(t,n)),e.ke[i.FRAMEWORK_NAME]&&(a=e.ke[i.FRAMEWORK_NAME],$.wt(a)&&e.oe.setPlayerType(a)),e.ke[i.FRAMEWORK_VERSION]&&(a=e.ke[i.FRAMEWORK_VERSION],$.wt(a)&&e.oe.setPlayerVersion(a)));var r=e.Es();e.ps();for(var o=0;o<r.length;o++){var s=r[o];e.oe.Hn(s)}}},this.gs=function(){e.oe&&e.he!==n.NO_SESSION_KEY&&(e.Ge(),this.Cs())},this.Ot=function(){e.oe&&e.he!==n.NO_SESSION_KEY&&(e.Ge(),e.te._t(e.he))},this.Cs=function(){e.te&&e.he!==i.NO_SESSION_KEY&&e.te.adEnd(e.he)},this.Ss=function(t,a,r){var o;e.oe&&e.he!==i.NO_SESSION_KEY&&(o=null,i.AdType.CLIENT_SIDE===t?o=n.AdStream.SEPARATE:i.AdType.SERVER_SIDE===t&&(o=n.AdStream.CONTENT),e.Is(o,a,r))},this.gt=function(){e.oe&&e.he!==i.NO_SESSION_KEY&&e.te.Nt(e.he)},this.Is=function(t,n,a){e.te&&e.he!==i.NO_SESSION_KEY&&e.te.adStart(e.he,t,n,a)},this.se=function(){if(e.te){e.oe=e.te.getPlayerStateManager(!0),e.re(),e.oe.setClientMeasureInterface(this);try{var t;e.Et&&e.Et.custom&&!e.Et.custom[i.UTM_TRACKING_URL]&&(Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n,a=[],r=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)o in t&&(n=t[o],e.call(r,n,o,t)&&a.push(n));return a}),""!==(t=$.ys().split("?").join("").split("&").filter((function(e){return 2===e.split("=").length&&e.split("=")[0].toLowerCase().indexOf("utm_")>=0})).join("&"))&&(e.Et.custom[i.UTM_TRACKING_URL]=t))}catch(t){e.c.error("PlayerMonitorImpl _createSession : "+t)}e.he=e.te.createSession(e.Et,e.oe,!0)}},this.ls=function(){e.te&&(e.oe&&(e.oe.setPlayerState(i.PlayerState.STOPPED),e.oe=null),e.he!==i.NO_SESSION_KEY&&(e.te.cleanupSession(e.he),e.he=i.NO_SESSION_KEY))},this.qn=function(){if(e.te&&e.he!==n.NO_SESSION_KEY){var t=e.Es();e.ps();for(var i=0;i<t.length;i++){var a=t[i];e.te.reportError(e.he,a.ms(),a.Ds())}}},this.Rs=function(){e.he!==n.NO_SESSION_KEY&&e.te&&e.te.sendCustomEvent(e.he,e.vs(),e.ds())},this.us=function(){var t,n=e.os(),a=!1,r=!1;for(t in n){var o=n[t];if($.wt(t)&&null!=o)switch(t){case i.STREAM_URL:r=!0,e.Et.streamUrl=o;break;case i.ASSET_NAME:r=!0,e.Et.assetName=o;break;case i.DEFAULT_RESOURCE:r=!0,e.Et.defaultResource=o;break;case i.VIEWER_ID:r=!0,e.Et.viewerId=o;break;case i.PLAYER_NAME:r=!0,e.Et.applicationName=o;break;case i.DURATION:r=!0,e.Et.duration=o;break;case i.IS_LIVE:r=!0,e.Et.streamType=o;break;case i.ENCODED_FRAMERATE:r=!0,e.Et.encodedFrameRate=o;break;case i.MODULE_NAME:case i.MODULE_VERSION:case i.FRAMEWORK_NAME:case i.FRAMEWORK_VERSION:a=!0,e.ke[t]=o;break;case i.APPLICATION_VERSION:default:r=!0,e.Et.custom[t]=o}}a&&this.re(),r&&this.St()},this.Ts=function(){this.bs(i.Events.POD_START)},this.Ns=function(){this.bs(i.Events.POD_END)},this.bs=function(t){var n,a,r,o;e.te&&e.he!==i.NO_SESSION_KEY&&(a={},(n=this.Os())&&((r=n[i.POD_POSITION])&&(a[i.POD_POSITION]=r),(r=n[i.POD_INDEX])&&(a[i.POD_INDEX]=r+""),t!==i.Events.POD_START||(o=n[i.POD_DURATION])&&(a[i.POD_DURATION]=o+"")),(o=this._s())&&(a[i.AD_TYPE]=o),e.te.sendCustomEvent(e.he,t,a))},this.ze=function(t){e.oe.setDroppedFramesCount(t)},this.Ps=function(e){this.he===i.NO_SESSION_KEY&&e!==i.NO_SESSION_KEY&&(this.he=e)},this.ue=function(){return this.he},this.Vt=function(){return e.te.getSessionId(this.he)},this.kt=function(){return e.te.getClientId(this.he)},this.Ft=function(t,i){e.te.Ft(this.he,t,i)},E.prototype=Object.create(b.prototype),E.prototype.constructor=E};e.Impl=e.Impl||{},e.Impl.Html5Http=function(){(function(){}).apply(this,arguments),this.makeRequest=function(){return this.makeRequestStandard.apply(this,arguments)},this.makeRequestStandard=function(e,t,i,n,a,r){var o=new XMLHttpRequest;return o.open(e,t,!0),n&&o.overrideMimeType&&(o.overrideMimeType=n),n&&o.setRequestHeader&&o.setRequestHeader("Content-Type",n),a>0&&(o.timeout=a,o.ontimeout=function(){o.ontimeout=o.onreadystatechange=null,r&&r(!1,"timeout after "+a+" ms")}),o.onreadystatechange=function(){4===o.readyState&&(o.ontimeout=o.onreadystatechange=null,200===o.status?r&&r(!0,o.responseText):r&&r(!1,"http status "+o.status))},o.send(i),null},this.release=function(){}},e.Impl=e.Impl||{},e.Impl.Html5Logging=function(){(function(){}).apply(this,arguments),this.consoleLog=function(e,t){"undefined"!=typeof console&&(console.log&&t===_.LogLevel.DEBUG||t===_.LogLevel.INFO?console.log(e):console.warn&&t===_.LogLevel.WARNING?console.warn(e):console.error&&t===_.LogLevel.ERROR&&console.error(e))},this.release=function(){}},e.Impl=e.Impl||{},e.Impl.Html5Metadata=function(){(function(){}).apply(this,arguments),this.getBrowserName=function(){return null},this.getBrowserVersion=function(){return null},this.getDeviceBrand=function(){return null},this.getDeviceManufacturer=function(){return null},this.getDeviceModel=function(){return null},this.getDeviceType=function(){return null},this.getDeviceVersion=function(){return null},this.getFrameworkName=function(){return null},this.getFrameworkVersion=function(){return null},this.getOperatingSystemName=function(){return null},this.getOperatingSystemVersion=function(){return null},this.getDeviceCategory=function(){return null},this.getScreenWidth=function(){return"undefined"!=typeof window&&window&&window.screen&&window.screen.width?window.screen.width.toString():null},this.getScreenHeight=function(){return"undefined"!=typeof window&&window&&window.screen&&window.screen.height?window.screen.height.toString():null},this.getScaleFactor=function(){return"undefined"!=typeof window&&window&&window.devicePixelRatio?window.devicePixelRatio.toString():null},this.release=function(){}},e.Impl=e.Impl||{},e.Impl.Html5Storage=function(){(function(){}).apply(this,arguments),this.saveData=function(e,t,i,n){var a=e+"."+t;try{localStorage.setItem(a,i),n(!0,null)}catch(e){n(!1,e.toString())}},this.loadData=function(e,t,i){var n=e+"."+t;try{i(!0,localStorage.getItem(n))}catch(e){i(!1,e.toString())}},this.release=function(){}},e.Impl=e.Impl||{},e.Impl.Html5Time=function(){(function(){}).apply(this,arguments),this.getEpochTimeMs=function(){return(new Date).getTime()},this.release=function(){}},e.Impl=e.Impl||{},e.Impl.Html5Timer=function(){(function(){}).apply(this,arguments),this.createTimer=function(e,t){var i=setInterval(e,t);return function(){-1!==i&&(clearInterval(i),i=-1)}},this.release=function(){}};var S,A,w,T,I,k=t.VideoAnalytics=function(){var t=this;t.Hi=null,t.v=null,t.Bi=null,t.ki=null,t.ji=null,this.release=function(){t.c,t.ki&&t.ki.Ui()&&t.ki.Fi(!1),void 0!==e.ProxyMonitor&&t.ji&&(e.ProxyMonitor.release(t.ji),t.ji=null),t.ki&&(t.ki.Yi(null),t.ki.Xi(),t.ki=null),t.Bi=null},function(e,n){t.Hi=e,t.v=n,t.Bi=n.buildTimer(i.version),t.ki=new E(t.Hi,t.Bi),y.call(this)}.apply(this,arguments),this.reportPlaybackRequested=function(e){t.c,t.ki&&($.It(e)>0&&t.setContentInfo(e),t.ki.Ui()||t.ki.Fi(!0))},this.reportPlaybackEnded=function(){t.c,t.ki&&t.ki.Ui()&&(t.ki.Fi(!1),void 0!==e.ProxyMonitor&&t.ji&&(e.ProxyMonitor.release(t.ji),t.ji=null),t.ki.Yi(null))},this.reportPlaybackFailed=function(e,i){t.ki&&($.It(i)>0&&t.setContentInfo(i),t.ki.Ui()||t.ki.Fi(!0),t.c,t.reportPlaybackError(e,n.ErrorSeverity.FATAL),t.reportPlaybackEnded())},this.setContentInfo=function(e){$.It(e)<=0||t.ki&&(t.c,t.ki.xi(e))},this.setPlayerInfo=function(e){$.It(e)<=0||t.ki&&(t.c,t.ki.xi(e))},this.reportPlaybackMetric=function(){0!==arguments.length&&(1===arguments.length?t.qi(arguments[0]):2===arguments.length?t.qi(arguments[0],arguments[1]):3===arguments.length?t.qi(arguments[0],arguments[1],arguments[2]):4===arguments.length&&t.qi(arguments[0],arguments[1],arguments[2],arguments[3]))},this.reportPlaybackError=function(e,i){t.ki&&$.wt(e)&&(t.c,i=new ae(e,i),t.ki.Hn(i))},this.reportPlaybackEvent=function(e,n){if($.wt(e)&&t.ki&&(t.c,t.ki))switch(e){case i.Events.USER_WAIT_STARTED:case i.Events.BUMPER_VIDEO_STARTED:t.ki.gt();break;case i.Events.USER_WAIT_ENDED:case i.Events.BUMPER_VIDEO_ENDED:t.ki.Ot();break;default:t.ki.Ji(e,n)}},this.setCallback=function(e){t.c,t.ki&&t.ki.Yi(e)},this.reportAdBreakStarted=function(e,i,n){t.ki&&(t.c,t.ki.Zi(e,i,n))},this.reportAdBreakEnded=function(){t.ki&&(t.c,t.ki.zi())},this.setPlayer=function(n,a){var r,o;void 0!==n&&(a&&(r=a[i.CONVIVA_MODULE],o=a[i.MEDIA_ELEMENT]),void 0!==r?e.ProxyMonitor=r.ProxyMonitor:"undefined"!=typeof ConvivaModule&&(e.ProxyMonitor=ConvivaModule.ProxyMonitor),void 0!==e.ProxyMonitor&&(t.c,!n&&t.ji?(e.ProxyMonitor.release(t.ji),t.ji=null):n?(t.ji&&e.ProxyMonitor.release(t.ji),t.c,t.ji=void 0!==o?e.ProxyMonitor.initConvivaDropIn(n,o,t.v,this,e):e.ProxyMonitor.initConvivaDropIn(n,t.v,this,e)):n||void 0===o||(t.ji=e.ProxyMonitor.initConvivaDropIn(n,o,t.v,this,e))))},this.setAdAnalytics=function(e){e?t.getAdType()&&(t.getAdType()===i.AdType.SERVER_SIDE?t.Li=e.getAdPlayerMonitor():t.getAdType()===i.AdType.CLIENT_SIDE&&t.c):t.Li=null},this.configureExistingSession=function(e){e!==i.NO_SESSION_KEY&&t.ki&&(t.c,t.ki.Ps(e))},this.getSessionId=function(){return t.ki?(t.c,t.ki.Vt()):i.NO_SESSION_KEY},this.getClientId=function(){return t.ki?(t.c,t.ki.kt()):null},this.Wi=function(){return t.c,this.ki},this.getAdType=function(){return t.ki?t.ki.Qi:null},this.$i=function(){return t.ki?t.ki.Gi:null},k.prototype=Object.create(y.prototype),k.prototype.constructor=k};function C(e){throw{name:"SyntaxError",message:e,at:S,text:w}}function P(e){return e&&e!==A&&C("Expected '"+e+"' instead of '"+A+"'"),A=w.charAt(S),S+=1,A}function D(){var e,t="";for("-"===A&&P(t="-");A>="0"&&A<="9";)t+=A,P();if("."===A)for(t+=".";P()&&A>="0"&&A<="9";)t+=A;if("e"===A||"E"===A)for(t+=A,P(),"-"!==A&&"+"!==A||(t+=A,P());A>="0"&&A<="9";)t+=A,P();if(e=+t,!isNaN(e))return e;C("Bad number")}function M(){var e,t,i,n="";if('"'===A)for(;P();){if('"'===A)return P(),n;if("\\"===A)if(P(),"u"===A){for(t=i=0;t<4&&(e=parseInt(P(),16),isFinite(e));t+=1)i=16*i+e;n+=String.fromCharCode(i)}else{if("string"!=typeof T[A])break;n+=T[A]}else n+=A}C("Bad string")}function O(){for(;A&&A<=" ";)P()}t.JsonParse=(T={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},I=function(){switch(O(),A){case"{":return function(){var e,t={};if("{"===A){if(P("{"),O(),"}"===A)return P("}"),t;for(;A;){if(e=M(),O(),P(":"),Object.hasOwnProperty.call(t,e)&&C('Duplicate key "'+e+'"'),t[e]=I(),O(),"}"===A)return P("}"),t;P(","),O()}}C("Bad object")}();case"[":return function(){var e=[];if("["===A){if(P("["),O(),"]"===A)return P("]"),e;for(;A;){if(e.push(I()),O(),"]"===A)return P("]"),e;P(","),O()}}C("Bad array")}();case'"':return M();case"-":return D();default:return(A>="0"&&A<="9"?D:function(){switch(A){case"t":return P("t"),P("r"),P("u"),P("e"),!0;case"f":return P("f"),P("a"),P("l"),P("s"),P("e"),!1;case"n":return P("n"),P("u"),P("l"),P("l"),null}C("Unexpected '"+A+"'")})()}},function(e,t){return w=e,S=0,A=" ",e=I(),O(),A&&C("Syntax error"),"function"==typeof t?function e(i,n){var a,r,o=i[n];if(o&&"object"==typeof o)for(a in o)Object.hasOwnProperty.call(o,a)&&(void 0!==(r=e(o,a))?o[a]=r:delete o[a]);return t.call(i,n,o)}({"":e},""):e});var N,L,R,x,V,F=t.JSON2={};function B(e){return e<10?"0"+e:e}function U(e){return N.lastIndex=0,N.test(e)?'"'+e.replace(N,(function(e){var t=x[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+B(this.getUTCMonth()+1)+"-"+B(this.getUTCDate())+"T"+B(this.getUTCHours())+":"+B(this.getUTCMinutes())+":"+B(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof F.stringify&&(N=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},F.stringify=function(e,t,i){var n;if(R=L="","number"==typeof i)for(n=0;n<i;n+=1)R+=" ";else"string"==typeof i&&(R=i);if((V=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON2.stringify");return function e(t,i){var n,a,r,o,s,l=L,c=i[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof V&&(c=V.call(i,t,c)),typeof c){case"string":return U(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(L+=R,s=[],Object.prototype.toString.apply(c)===Object.prototype.toString.apply([])){for(o=c.length,n=0;n<o;n+=1)s[n]=e(n,c)||"null";return r=0===s.length?"[]":L?"[\n"+L+s.join(",\n"+L)+"\n"+l+"]":"["+s.join(",")+"]",L=l,r}if(V&&"object"==typeof V)for(o=V.length,n=0;n<o;n+=1)"string"==typeof V[n]&&(r=e(a=V[n],c))&&s.push(U(a)+(L?": ":":")+r);else for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(r=e(a,c))&&s.push(U(a)+(L?": ":":")+r);return r=0===s.length?"{}":L?"{\n"+L+s.join(",\n"+L)+"\n"+l+"}":"{"+s.join(",")+"}",L=l,r}}("",{"":e})});var H=t.Ms={};H.Ls="0123456789abcdef",H.Us=function(e){for(var t="",i=7;i>=0;i--)t+=H.Ls.charAt(e>>4*i&15);return t},H.Vs=function(e){for(var t=1+(e.length+8>>6),i=new Array(16*t),n=0;n<16*t;n++)i[n]=0;for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<24-n%4*8;return i[n>>2]|=128<<24-n%4*8,i[16*t-1]=8*e.length,i},H.ks=function(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i},H.Fs=function(e,t){return e<<t|e>>>32-t},H.Hs=function(e,t,i,n){return e<20?t&i|~t&n:!(e<40)&&e<60?t&i|t&n|i&n:t^i^n},H.Bs=function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},H.Gs=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return H.js(t)},H.js=function(e){if(""===e)return"";for(var t,i=H.Vs(e),n=new Array(80),a=1732584193,r=-271733879,o=-1732584194,s=271733878,l=-1009589776,c=0;c<i.length;c+=16){for(var d=a,u=r,h=o,p=s,f=l,_=0;_<80;_++)n[_]=_<16?i[c+_]:H.Fs(n[_-3]^n[_-8]^n[_-14]^n[_-16],1),t=H.ks(H.ks(H.Fs(a,5),H.Hs(_,r,o,s)),H.ks(H.ks(l,n[_]),H.Bs(_))),l=s,s=o,o=H.Fs(r,30),r=a,a=t;a=H.ks(a,d),r=H.ks(r,u),o=H.ks(o,h),s=H.ks(s,p),l=H.ks(l,f)}return H.Us(a)+H.Us(r)+H.Us(o)+H.Us(s)+H.Us(l)};var j=t.CwsProtocol=function(){this.Ks=function(e,t,i,n){return n.seq=e,n.st=t,n.t=i,n},this.Ws=function(e,t){var i=j.xs;return this.Ks(e,t,i,{})}};j.version="2.6",j.qs="/0/wsg",j.P="0",j.Ys=-1,j.Js=!1,j.Xs=2,j.Qs=-1,j.Zs=-1,j.zs=1e3,j.$s="sdk.js.1",j.no="CwsStateChangeEvent",j.io="CwsErrorEvent",j.xs="CwsSessionEndEvent",j.eo="CwsCustomEvent",j.so="CwsSeekEvent",j.oo="CwsDataSamplesEvent",j.ro="ok",j.uo="err",j.ho="clid",j.ao="cfg",j.fo="evs",j.co="maxhbinfos",j.lo="slg",j.vo="hbi",j.do="gw",j.Eo="fp",j.po="csi_en",j.Ro="CwsSessionHb",j.wo="t",j.To="st",j.So="sst",j.go="lv",j.No="seq",j.Oo="cid",j._o="clid",j.Ao="clv",j.Co="pver",j.Io="iid",j.yo="sid",j.mo="vid",j.Do="an",j.bo="pn",j.Po="tags",j.Mo="sf",j.Lo="evs",j.Uo="lg",j.Vo="hbinfos",j.ko="sdk",j.Fo="pj",j.Ho="ps",j.Bo="br",j.Go="cl",j.jo="efps",j.Ko="afps",j.Wo="rfpstot",j.xo="rfpscnt",j.qo="rs",j.Yo="pht",j.Jo="bl",j.Xo="url",j.Qo="caps",j.Zo="pm",j.zo="w",j.$o="h",j.tr="ct",j.nr="le",j.ir="dftot",j.er="dfcnt",j.sr="ss",j.or="csi_n",j.rr="csi_t",j.ur="csi_l",j.hr="csi_v",j.ar="csi_c",j.fr="sch",j.cr="br",j.lr="brv",j.vr="dvb",j.dr="dvma",j.Er="dvm",j.pr="dvt",j.Rr="dvv",j.wr="sw",j.Tr="sh",j.Sr="scf",j.gr="fw",j.Nr="fwv",j.Or="cc",j._r="mn",j.Ar="mv",j.Cr="os",j.Ir="osv",j.yr="cat",j.mr="caps",j.Dr="t",j.br="seq",j.Pr="st",j.Mr="act",j.Lr="skto",j.Ur="err",j.Vr="ft",j.kr="new",j.Fr="old",j.Hr="name",j.Br="attr",j.Gr="seq",j.jr="err",j.Kr="rtt",j.Wr="ad",j.xr="csi",j.qr=function(e){switch(e){case o.PlayerState.STOPPED:return j.Yr;case o.PlayerState.PLAYING:return j.Jr;case o.PlayerState.BUFFERING:return j.Xr;case o.PlayerState.PAUSED:return j.Qr;case o.PlayerState.NOT_MONITORED:return j.Zr;default:return j.zr}},j.Yr=1,j.Jr=3,j.Xr=6,j.Qr=12,j.Zr=98,j.zr=100,j.$r={tu:0,ft:1,nu:2,iu:4},j.eu={su:0};var K=t.LibJSONInterface=function(){this.ou=function(e){var t=null;try{t=F.stringify(e)}catch(e){return t}return t},this.ru=function(e){var i=null;try{i=t.JsonParse(e)}catch(e){return i}return $.uu(i)||(i=null),i}},Y=t.CwsHeartbeat=function(){this.hu={},function(){}.apply(this,arguments),this.get=function(){return this.hu},this.au=function(e,t){this.hu[e]=t},this.fu=function(e,t,i){this.hu[e]||(this.hu[e]={}),this.hu[e][t]=i},this.cu=function(e){this.au(j.wo,e)},this.lu=function(e){this.au(j.To,e)},this.vu=function(e){this.au(j.So,e)},this.du=function(e){this.au(j.go,e)},this.Eu=function(e){this.au(j.No,e)},this.pu=function(e){this.au(j.Oo,e)},this.Ru=function(e){this.au(j._o,e)},this.wu=function(e){this.au(j.Ao,e)},this.Tu=function(e){this.au(j.Co,e)},this.Su=function(e){this.au(j.mr,e)},this.gu=function(e){this.au(j.yo,e)},this.Nu=function(e){this.au(j.Io,e)},this.Ou=function(e){this.au(j.mo,e)},this._u=function(e){this.au(j.Do,e)},this.Au=function(e){this.au(j.bo,e)},this.Cu=function(e){this.au(j.Po,e)},this.Iu=function(e){this.au(j.Mo,e)},this.yu=function(e){this.au(j.Qo,e)},this.mu=function(e){this.au(j.Lo,e)},this.Du=function(e){this.au(j.ko,e)},this.bu=function(e){this.au(j.Uo,e)},this.Pu=function(e){this.au(j.Vo,e)},this.we=function(e){this.au(j.Ho,e)},this.Mu=function(e){this.au(j.Fo,e)},this.Lu=function(e){this.au(j.Go,e)},this.Uu=function(e){this.au(j.Bo,e)},this.Vu=function(e){this.au(j.qo,e)},this.ku=function(e){this.au(j.jo,e)},this.Fu=function(e){this.au(j.Ko,e)},this.Hu=function(e){this.au(j.xo,e)},this.Bu=function(e){this.au(j.Wo,e)},this.Gu=function(e){this.fu(j.Zo,j.fr,e)},this.ju=function(e){this.fu(j.Zo,j.cr,e)},this.Ku=function(e){this.fu(j.Zo,j.lr,e)},this.Wu=function(e){this.fu(j.Zo,j.vr,e)},this.xu=function(e){this.fu(j.Zo,j.dr,e)},this.qu=function(e){this.fu(j.Zo,j.Er,e)},this.Yu=function(e){this.fu(j.Zo,j.pr,e)},this.Ju=function(e){this.fu(j.Zo,j.Rr,e)},this.Xu=function(e){this.fu(j.Zo,j.gr,e),this.au(j.gr,e)},this.Qu=function(e){this.fu(j.Zo,j.Nr,e),this.au(j.Nr,e)},this.Zu=function(e){this.fu(j.Zo,j.Cr,e.toUpperCase())},this.zu=function(e){this.fu(j.Zo,j.Ir,e)},this.$u=function(e){this.fu(j.Zo,j.yr,e)},this.th=function(e){this.fu(j.Zo,j.wr,e)},this.nh=function(e){this.fu(j.Zo,j.Tr,e)},this.ih=function(e){this.fu(j.Zo,j.Sr,e)},this.eh=function(e){this.au(j.ir,e)},this.ze=function(e){this.au(j.er,e)},this.sh=function(e){this.au(j.Yo,e)},this.oh=function(e){this.au(j.Jo,e)},this.rh=function(e){this.au(j.Xo,e)},this.uh=function(e){this.au(j.zo,e)},this.hh=function(e){this.au(j.$o,e)},this.ah=function(e){this.au(j.tr,e)},this.fh=function(e){this.au(j.nr,e)},this.ch=function(){this.au(j.Wr,!0)},this.lh=function(e){this.au(j.sr,e)},this.setModuleName=function(e){this.fu(j.Or,j._r,e)},this.vh=function(e){this.fu(j.Or,j.Ar,e)},this.dh=function(e){this.au(j.xr,e)},this.Eh=function(e){e&&this.au(j.or,e)},this.ph=function(e){e&&this.au(j.rr,e)},this.Rh=function(e){e&&this.au(j.ur,e)},this.wh=function(e){e&&this.au(j.hr,e)},this.Th=function(e){e&&this.au(j.ar,e)}},q=t.CwsSession=function(){var e=this;e.Sh=null,e.Et=null,e.gh=0,e.Nh=0,e.Oh=j.$r.tu,e._h=j.eu.su,e.Ah=[],e.Ch=-1,e.ln=-2,e.Xn=-1,e.Ih=-1,e.yh=null,e.vn=o.PlayerState.UNKNOWN,e.fn=-1,e.mh=-1,e.rn=null,e.Sn=-1,e.gn=-1,e.oe=null,e.nn=null,e.sn=null,e.Dh=null,e.bh=null,e.Ph={},e.Mh=null,e.Lh=null,e.Uh=null,e.Vh=null,e.kh=null,e.Fh=null,e.Hh=null,e.Bh=null,e.Gh=null,e.jh=null,e.Kh=null,e.Wh=null,e.xh=null,e.qh=null,e.Yh=null,e.wn=null,e.Tn=null,e.A=null,e.C=null,e.Ue=null,e.Jh=null,e.Xh=!1,e.Qh=!1,e.Zh=!1,e.zh=!1,e.$h=null,e.ta=1e3,e.na=0,e.ia=0,e.ea={},e.N={},e.sa=!1,e.oa=null,e.ra=null,e.ua=null,e.ha=null,e.aa=null,e.fa=null,e.ca=12e4,e.la=j.Js,e.va=!1,e.da=null,e.hi=null,function(t,i,n,a,r,o,s,l,c,d,u,h,p){this.Ea=t,this.Hi=i,this.ui=n,this.c=a,this.c.setModuleName("CwsSession"),this.w=r,this.Bi=o,this.pa=s,this.Ra=l,this.wa=c,this.ai=d,this.Ta=u,this.Et=h,this.Et&&(e.fn=this.Et.encodedFrameRate,e.rn=this.Et.streamUrl,e.mh=this.Et.duration),this.Ta&&(e.da=e.Ta.get(Q.D)),e.hi=p}.apply(this,arguments),this.ut=function(){this.Ta=null,this.ai=null,this.R=null,this.wa=null,this.Ra=null,this.pa=null,this.Bi=null,this.w=null,this.c=null,this.ui=null,this.Hi=null,this.Ea.Sa(),this.Ea=null,this.Jh=null,this.Zh=!0},this.ga=function(t){this.Na=t,this.Oa=this.Na.Oa,this.c.gu(this.Na.S),this.gh=this.wa.current(),this._a()||this.Aa()?(this.Oh+=q.Ca,e.c.info("start(): assetName="+e.Et.assetName)):e.c.info("start()"+e.Ia())},this.ya=function(){this.zh=!0},this.ma=function(){this.c.debug("initialize()"),(this._a()||this.Aa()||this.Da())&&(e.ba(),e.Pa(),e.Ma(),(this._a()||this.Aa())&&e.La())},this.Ua=function(){this.c.debug("end(): schedule the last hb before session cleanup"+e.Ia()),this.Va(),this.ka(),this.Fa(),this.Ha()},this.Ba=function(){this.zh||(this.Ha(),this.Ga())},this.ju=function(t){var i=e.Mh;i!==t&&t&&(e.c.debug("Change browserName from "+i+" to "+t),e.Mh=t)},this.Ku=function(t){var i=e.Lh;i!==t&&t&&(e.c.debug("Change browserVersion from "+i+" to "+t),e.Lh=t)},this.Wu=function(t){var i=e.Uh;i!==t&&t&&(e.c.debug("Change deviceBrand from "+i+" to "+t),e.Uh=t)},this.xu=function(t){var i=e.Vh;i!==t&&t&&(e.c.debug("Change deviceManufacturer from "+i+" to "+t),e.Vh=t)},this.qu=function(t){var i=e.kh;i!==t&&t&&(e.c.debug("Change deviceModel from "+i+" to "+t),e.kh=t)},this.Yu=function(t){var i=e.Fh;i!==t&&t&&(e.c.debug("Change deviceType from "+i+" to "+t),e.Fh=t)},this.Ju=function(t){var i=e.Hh;i!==t&&t&&(e.c.debug("Change deviceVersion from "+i+" to "+t),e.Hh=t)},this.Zu=function(t){var i=e.jh;i!==t&&t&&(e.c.debug("Change operatingSystemName from "+i+" to "+t),e.jh=t)},this.zu=function(t){var i=e.Kh;i!==t&&t&&(e.c.debug("Change operatingSystemVersion from "+i+" to "+t),e.Kh=t)},this.$u=function(t){var i=e.Wh;i!==t&&t&&(e.c.debug("Change deviceCategory from "+i+" to "+t),e.Wh=t)},this.th=function(t){var i=e.xh;i!==t&&t&&(e.c.debug("Change screenWidth from "+i+" to "+t),e.xh=t)},this.nh=function(t){var i=e.qh;i!==t&&t&&(e.c.debug("Change screenHeight from "+i+" to "+t),e.qh=t)},this.ih=function(t){var i=e.Wh;i!==t&&t&&(e.c.debug("Change scaleFactor from "+i+" to "+t),e.Yh=t)},this.ja=function(){return e.Bh},this.Xu=function(t){var i=e.Bh;i!==t&&t&&(e.c.debug("Change frameworkName from "+i+" to "+t),e.Bh=t)},this.Ka=function(){return e.Gh},this.Qu=function(t){var i=e.Gh;i!==t&&t&&(e.c.debug("Change frameworkVersion from "+i+" to "+t),e.Gh=t)},this.rh=function(t){var i;e.Et.streamUrl||(i=e.rn)!==t&&t&&(e.c.debug("Change stream url from "+i+" to "+t),e.rn=t)},this.Wa=function(){e.ka(),e.va||(e.xa(),e.fa=e.Bi.create(e.xa,e.ca,"CwsSession.startCdnTimer"),e.c.debug("fetching cdn ip timer started"))},this.ka=function(){e.fa&&(e.fa(),e.qa(null,null,null,null,null),e.fa=null)},this.xa=function(){e.c.debug("detectCDNServerIp(): For "+e.rn),e.la?e.Ya():e.ka()},this.Ya=function(){try{var t;"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest?((t=new XMLHttpRequest).open("HEAD",e.rn,!0),t.setRequestHeader("Pragma","akamai-x-cache-on"),t.onreadystatechange=function(){4===this.readyState&&(200===this.status&&(this.getAllResponseHeaders().indexOf("x-cache")>=0||this.getAllResponseHeaders().indexOf("X-Cache")>=0)?e.qa("Akamai","header","X-Cache",""+this.getResponseHeader("X-Cache"),""+this.status):e.qa("null","header","null","null",""+this.status))},t.send()):e.c.info("xmlhttpreq is not available here to fetch CDN Server Ip")}catch(t){e.c.info("Exception caught in makeAkamaiHeadRequest")}},this.qa=function(t,i,n,a,r){var o={},s={};e.oa!==t&&(null!==e.oa&&(s[j.or]=e.oa),e.oa=t,null===e.oa?o[j.or]="null":o[j.or]=e.oa),e.ra!==i&&(null!==e.ra&&(s[j.rr]=e.ra),e.ra=i,null===e.ra?o[j.rr]="null":o[j.rr]=e.ra),e.ua!==n&&(null!==e.ua&&(s[j.ur]=e.ua),e.ua=n,null===e.ua?o[j.ur]="null":o[j.ur]=e.ua),e.ha!==a&&(null!==e.ha&&(s[j.hr]=e.ha),e.ha=a,null===e.ha?o[j.hr]="null":o[j.hr]=e.ha),e.aa!==r&&(null!==e.aa&&(s[j.ar]=e.aa),e.aa=r,null===e.aa?o[j.ar]="null":o[j.ar]=e.aa),"{}"!==JSON.stringify(o)&&e.Ja(o,s)},this.Xa=function(t){var i=e.ln;i!==t&&t>0&&(e.c.info("Change bitrate from "+i+" to "+t),e.Qa(i,t),e.ln=t)},this.eh=function(t){var i=e.Xn;i!==t&&t>=0&&(e.c.info("Change dropped frames total from "+i+" to "+t),e.Za(i,t),e.Xn=t)},this.ze=function(t){var i=e.Ih,n=t+(-1===e.Ih?0:e.Ih);i!==t&&n>=0&&(e.c.info("Change dropped frames count from "+i+" to "+n),e.za(i,n),e.Ih=n)},this.Vu=function(t){var i=e.yh;i!==t&&t&&(e.c.info("Change resource from "+i+" to "+t),e.yh=t)},this._u=function(t){e.nn!==t&&t&&(e.c.info("Change assetName from "+e.nn+" to "+t),e.nn=t)},this.du=function(t){var i=e.bh;i!==t&&$.Ii(t)&&(e.c.info("Change isLive from "+i+" to "+t),e.bh=t)},this.Ou=function(t){var i=e.sn;i!==t&&t&&(e.c.info("Change viewerId from "+i+" to "+t),e.sn=t)},this.Au=function(t){var i=e.Dh;i!==t&&t&&(e.c.info("Change playerName from "+i+" to "+t),e.Dh=t)},this.Cu=function(t){var i=e.Ph;!$.$a(i,t)&&t&&(e.c.info("Change tags from "+$.tf(i)+" to "+$.tf(t)),e.Ph=t)},this.ku=function(t){e.Et.encodedFrameRate>0||(e.c.debug("setEncodedFrameRate(): "+t),e.fn=t)},this.Lu=function(t){e.Et.duration>0||(e.c.debug("setContentLength(): "+t),e.mh=t)},this.we=function(t){var i;e.Qh||t!==o.PlayerState.PLAYING||(e.Qh=!0,$.wt(e.Et.viewerId)||e.c.error("Missing viewerId. viewerId should be updated before first frame is rendered."),$.wt(e.Et.streamType)&&r.StreamType.UNKNOWN!==e.Et.streamType||e.c.error("Missing streamType - Live or VOD. streamType should be updated before first frame is rendered."),$.wt(e.Et.applicationName)||e.c.error("Missing applicationName. applicationName should be updated before first frame is rendered.")),e.vn!==t&&(i=e.vn,e.c.info("setPlayerState(): changing player state from "+i+" to "+t),e.nf(i,t),e.vn=t)},this.if=function(t){var i=e.Sn;i!==t&&t>0&&(e.c.debug("Change stream resolution width from "+i+" to "+t),e.ef(i,t),e.Sn=t)},this.sf=function(t){var i=e.gn;i!==t&&t>0&&(e.c.debug("Change stream resolution height from "+i+" to "+t),e.rf(i,t),e.gn=t)},this.ah=function(t){var i=e.A;i!==t&&t&&(e.c.debug("Change network connection type from "+i+" to "+t),e.uf(i,t),e.A=t)},this.fh=function(t){var i=e.C;i!==t&&t&&(e.c.debug("Change network link encryption from "+i+" to "+t),e.hf(i,t),e.C=t)},this.dh=function(t){e.va=!0,e.ka();var i=e.Ue;i!==t&&$.wt(t)&&(e.c.debug("Change CDN Server IP from "+i+" to "+t),e.af(i,t),e.Ue=t)},this.ff=function(t){var i;e.c.debug("togglePauseJoin()"),e.Xh!==t?(i=e.Xh,t=!e.Xh,e.cf(i,t),e.Xh=!e.Xh):e.c.debug("togglePauseJoin(): same value, ignoring")},this.lf=function(t,i){e.vf(t,i)},this.df=function(e,t){var i;t[j.Dr]=e,t[j.Pr]=this.Ef(),t[j.br]=this.Ea.pf(),this.oe&&(i=ne.Rf(this.oe.getPHT(),0,null,-1),e=ne.Rf(this.oe.getBufferLength(),0,null,-1),i>=0&&(t[j.Yo]=i),e>0&&(t[j.Jo]=e)),this.Ea.wf(t)},this.Tf=function(t){e.oe=t,e.oe?e.Sf():e.gf()},this.Va=function(){var e=this.Ra.Ws(this.Nf(),this.Ef());this.Ea.wf(e)},this.vf=function(e,t){var i={};i[j.Ur]=e,i[j.Vr]=t,this.df(j.io,i)},this.Qa=function(e,t){var i={},n={};e>0&&(n[j.Bo]=e),i[j.Bo]=t,this.Ja(i,n)},this.Of=function(e,t){var i={};i[j.Mr]=e,t>=0&&(i[j.Lr]=t),this.df(j.so,i)},this.ef=function(e,t){var i={},n={};-1!==e&&(n[j.zo]=e),i[j.zo]=t,this.Ja(i,n)},this.rf=function(e,t){var i={},n={};-1!==e&&(n[j.$o]=e),i[j.$o]=t,this.Ja(i,n)},this.uf=function(e,t){var i={},n={};null!==e&&(n[j.tr]=e),i[j.tr]=t,this.Ja(i,n)},this.hf=function(e,t){var i={},n={};null!==e&&(n[j.nr]=e),i[j.nr]=t,this.Ja(i,n)},this.af=function(e,t){var i={},n={};$.wt(e)&&(n[j.xr]=e),i[j.xr]=t,this.Ja(i,n)},this.Za=function(e,t){var i={},n={};e>=0&&(n[j.ir]=e),i[j.ir]=t,this.Ja(i,n)},this.za=function(e,t){var i={},n={};e>=0&&(n[j.er]=e),i[j.er]=t,this.Ja(i,n)},this.cf=function(e,t){var i={},n={};n[j.Fo]=e,i[j.Fo]=t,this.Ja(i,n)},this.nf=function(e,t){var i={},n={};i[j.Ho]=j.qr(t),n[j.Ho]=j.qr(e),this.Ja(i,n)},this.Ja=function(e,t){var i={};i[j.kr]=e,t&&$.It(t)>0&&(i[j.Fr]=t),this.df(j.no,i)},this._f=function(e,t){var i={};i[j.Hr]=e,$.It(t)>0&&(i[j.Br]=t),this.df(j.eo,i)},this.Fa=function(){e.Sh&&(e.Sh(),e.Sh=null)},this.Ga=function(){e.Fa();var t=1e3*e.ui.heartbeatInterval;e.Sh=e.Bi.create(e.Ha,t,"Session.sendHeartbeat:"+this.Oa)},this.gf=function(){e.$h&&(e.$h(),e.$h=null)},this.Sf=function(){e.gf(),e.$h=e.Bi.create(e.Af,e.ta,"Session.startRfpsTimer")},this.Cf=function(){var t={err:"pending"};t.seq=e.Nh-1,t.sentAt=e.Ef(),t.rtt=-1,e.Ah.push(t);for(var i=0;i<e.Ah.length;i++)"ok"===(t=e.Ah[i]).err&&(e.Ah.splice(i,1),i--)},this.If=function(t,i){for(var n=0;n<e.Ah.length;n++){var a=e.Ah[n];a.seq===t&&(a.rtt=e.Ef()-a.sentAt,a.err=i)}},this.yf=function(t){for(var i=0;i<e.Ah.length;i++){var n=e.Ah[i];n.seq===t&&(n.rtt=e.Ef()-n.sentAt,n.err="ok")}},this.mf=function(){for(var t,i,n=e.Ta.get(Q.Df),a=[],r=-1,o=0;o<e.Ah.length;o++)if("ok"===(i=e.Ah[o]).err){r=i.seq;break}for(var s=0;s<e.Ah.length;s++)((t=(i=e.Ah[s]).seq)<e.Nh-n||t<r)&&a.push(s);for(var l=[],c=0;c<e.Ah.length;c++)t=(i=e.Ah[c]).seq,a.indexOf(c)<0&&l.push(e.Ah[c]);e.Ah=l},this.bf=function(){e.mf();for(var t=[],i=0;i<e.Ah.length;i++){var n=e.Ah[i],a={};a[j.Gr]=n.seq,a[j.Kr]=n.rtt,a[j.jr]=n.err,t.push(a)}return t},this.Pf=function(){var t,n=-1,a=-1,r=e.Ea.Sa();if(e.Da()&&0===r.length)return null;var s=new Y;s.cu(j.Ro),s.pu(e.ui.customerKey),s.Ru(e.Ta.get(Q.D)),s.gu(e.Na.S),s.Eu(e.Nh),s.Tu(j.version);var l=i.version;if(e.hi&&(l=e.hi),s.wu(l),s.Nu(e.Hi.S),s.Su(0),e.Hi.A?s.ah(e.Hi.A):e.A&&s.ah(e.A),e.Hi.C?s.fh(e.Hi.C):e.C&&s.fh(e.C),$.wt(e.Ue)&&s.dh(e.Ue),s.Gu(j.$s),e.Mh&&s.ju(e.Mh),e.Lh&&s.Ku(e.Lh),e.Uh&&s.Wu(e.Uh),e.Vh&&s.xu(e.Vh),e.kh&&s.qu(e.kh),e.Fh&&s.Yu(e.Fh),e.Hh&&s.Ju(e.Hh),e.jh&&s.Zu(e.jh),e.Kh&&s.zu(e.Kh),e.Wh&&s.$u(e.Wh),e.Bh&&s.Xu(e.Bh),e.Gh&&s.Qu(e.Gh),e.xh&&!isNaN(e.xh)&&s.th(parseInt(e.xh,10)),e.qh&&!isNaN(e.qh)&&s.nh(parseInt(e.qh,10)),e.Yh&&!isNaN(e.Yh)?s.ih(parseFloat(e.Yh)):(e.xh&&!isNaN(e.xh)||e.qh&&!isNaN(e.qh))&&s.ih(1),e.oe&&(e.wn=e.oe.bn(),e.wn&&s.setModuleName(e.wn),e.Tn=e.oe.Pn(),e.Tn&&s.vh(e.Tn),e.oe.Mn()&&(e.Bh=e.oe.Mn(),s.Xu(e.Bh)),e.oe.Un()&&(e.Gh=e.oe.Un(),s.Qu(e.Gh))),e.sn&&s.Ou(e.sn),$.It(e.Ph)>0&&s.Cu(e.Ph),e._a()||e.Aa()){if(e.Aa()&&s.ch(),e.nn&&s._u(e.nn),s.Iu(e.Oh),l=j.qr(e.vn),s.we(l),s.Mu(e.Xh),e.Dh&&s.Au(e.Dh),$.Ii(e.bh)&&s.du(e.bh),e.mh>0&&s.Lu(e.mh),e.ln>0&&s.Uu(e.ln),null!==e.yh&&s.Vu(e.yh),e.fn>0&&s.ku(e.fn),e.oe&&(n=ne.Rf(e.oe.getPHT(),0,null,-1),a=ne.Rf(e.oe.getBufferLength(),0,null,-1)),$.lt(e.Hi.I)?t=e.Hi.I:e.oe&&(t=e.oe.getSignalStrength()),n>=0&&s.sh(n),a>0&&s.oh(a),(a=e.Mf())>0&&s.Fu(a),e.ia>0&&s.Bu(ne.Rf(e.ia,0,null,-1)),e.na>0&&s.Hu(ne.Rf(e.na,0,null,-1)),t!==o.DEFAULT_SIGNAL_STRENGTH&&s.lh(t),e.rn&&s.rh(e.rn),e.Sn>0&&s.uh(e.Sn),e.gn>0&&s.hh(e.gn),e.Xn>-1&&s.eh(e.Xn),e.Ih>-1&&(s.ze(e.Ih),e.Ih>0&&(e.za(e.Ih,0),e.Ih=0)),void 0!==e.Jh)for(var c in e.Jh)s.au(c,e.Jh[c])}else s.Iu(j.$r.tu);return r.length>0&&s.mu(r),s.yu(e._h),s.Du(!0),e.Ta.get(Q.Lf)&&s.bu(e.ai.Sa()),e.Ta.get(Q.Df)>0&&(r=e.bf()).length>0&&s.Pu(r),0===e.Nh&&(s=e.Uf(s)),0!==e.Nh&&(s=e.Vf(s)),s.vu(e.gh),s.lu(e.Ef()),e.la&&(s.Eh(e.oa),s.ph(e.ra),s.Rh(e.ua),s.wh(e.ha),s.Th(e.aa)),e.Nh++,s.get()},this.Vf=function(t){var i,n=e.N,a={};for(i in t.hu.tags)Object.prototype.hasOwnProperty.call(n,i)||(a[i]=t.hu.tags[i]);t.hu.tags=a,e.N={};for(var r=0;r<e.ea.length;r++)Object.prototype.hasOwnProperty.call(e.Hi.N,e.ea[r])?Object.prototype.hasOwnProperty.call(e.Hi._,e.ea[r])?e.Hi._[e.ea[r]]===Q.Bt.Gt?(e.N[Q.kf+""+e.ea[r]]=Q.Bt.Gt,e.Hi.O("End-user chose to opt-out of personal data collection")):e.Hi._[e.ea[r]]===Q.Bt.Kt?(e.N[Q.kf+""+e.ea[r]]=Q.Bt.Kt,e.Hi.O("End-user chose to opt-out of personal data collection")):e.Hi._[e.ea[r]]===Q.Bt.Ht?(e.N[Q.kf+""+e.ea[r]]=Q.Bt.Ht,e.Hi.O("End-user used privacy settings and chose to opt-out of personal data collection")):(e.N[Q.kf+""+e.ea[r]]=e.Hi.N[e.ea[r]],e.Hi.O("Data collection successful")):(e.N[Q.kf+""+e.ea[r]]=e.Hi.N[e.ea[r]],e.Hi.O("Data collection successful")):e.N[Q.kf+""+e.ea[r]]=Q.Bt.Ff;var o,s={};for(o in n){var l=o.split(".");"{}"!==JSON.stringify(e.ea)&&-1!==e.ea.indexOf(""+l[2])||n[Q.kf+""+l[2]]===Q.Bt.Hf||(e.Hi.O("Data collection restricted from Conviva back-end"),e.N[Q.kf+""+l[2]]=Q.Bt.Hf,s[Q.kf+""+l[2]]=Q.Bt.Hf)}if("{}"!==JSON.stringify(e.N)){var c,d=$.Bf(e.N);for(c in t.hu.tags)d[c]=t.hu.tags[c];if(t.hu.tags=d,!$.$a(n,e.N)){var u={};if("{}"!==JSON.stringify(s)&&(u[j.Po]=s),"{}"!==JSON.stringify(n)){for(var h in n)e.N[h]&&n[h]!==e.N[h]&&(u[j.Po]||(u[j.Po]={}),u[j.Po][h]=e.N[h]);for(var p in e.N)Object.prototype.hasOwnProperty.call(n,p)&&n[p]===e.N[p]||(u[j.Po]||(u[j.Po]={}),u[j.Po][p]=e.N[p])}"{}"===JSON.stringify(n)&&(u[j.Po]=e.N);var f,_,g={};g[j.kr]=u,g[j.Dr]=j.no,g[j.Pr]=e.Ef(),g[j.br]=e.Ea.pf(),e.oe&&(f=ne.Rf(e.oe.getPHT(),0,null,-1),_=ne.Rf(e.oe.getBufferLength(),0,null,-1),f>=0&&(g[j.Yo]=f),_>0&&(g[j.Jo]=_)),t.hu.evs||(t.hu.evs=[]),t.hu.evs.push(g)}}return t},this.Uf=function(t){var i=e.Gf();if("{}"===JSON.stringify(i))return t;var n,a=$.Bf(i);for(n in t.hu.tags)a[n]=t.hu.tags[n];t.hu.tags=a;var r={};r[j.Po]=i;var o={};return o[j.kr]=r,o[j.Dr]=j.no,o[j.Pr]=e.Ef(),o[j.br]=e.Ea.pf(),e.oe&&(i=ne.Rf(e.oe.getPHT(),0,null,-1),r=ne.Rf(e.oe.getBufferLength(),0,null,-1),i>=0&&(o[j.Yo]=i),r>0&&(o[j.Jo]=r)),t.hu.evs||(t.hu.evs=[]),t.hu.evs.push(o),t},this.Gf=function(){var t={};if("undefined"!=typeof navigator&&navigator){if(t["c3.fp.cookie"]=void 0!==navigator.cookieEnabled&&navigator.cookieEnabled?""+navigator.cookieEnabled:"",t["c3.fp.memory"]=void 0!==navigator.deviceMemory&&navigator.deviceMemory?""+navigator.deviceMemory:"",t["c3.fp.hwConc"]=void 0!==navigator.hardwareConcurrency&&navigator.hardwareConcurrency?""+navigator.hardwareConcurrency:"",t["c3.fp.java"]=""+("function"!=typeof navigator.javaEnabled)?"false":navigator.javaEnabled(),t["c3.fp.lang"]=void 0!==navigator.language&&navigator.language?""+navigator.language:"",t["c3.fp.langs"]=void 0!==navigator.languages&&navigator.languages&&navigator.languages.length>0?""+navigator.languages.toString():"",t["c3.fp.maxTp"]=void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints?""+navigator.maxTouchPoints:"",t["c3.fp.plugins"]="",void 0!==navigator.plugins&&navigator.plugins&&navigator.plugins.length>0)for(var i=0;i<navigator.plugins.length;i++)t["c3.fp.plugins"]+=navigator.plugins[i].name+",";if(t["c3.fp.mime"]="",void 0!==navigator.mimeTypes&&navigator.mimeTypes&&navigator.mimeTypes.length>0)for(var n=0;n<navigator.mimeTypes.length;n++)t["c3.fp.mime"]+=navigator.mimeTypes[n].type+",";t["c3.fp.sysLang"]=void 0!==navigator.systemLanguage&&navigator.systemLanguage?""+navigator.systemLanguage:"",t["c3.fp.platform"]=void 0!==navigator.platform&&navigator.platform?""+navigator.platform:"",t["c3.fp.product"]=void 0!==navigator.product&&navigator.product?""+navigator.product:"",t["c3.fp.productSub"]=void 0!==navigator.productSub&&navigator.productSub?""+navigator.productSub:"",t["c3.fp.vendor"]=void 0!==navigator.vendor&&navigator.vendor?""+navigator.vendor:"",t["c3.fp.vendorSub"]=void 0!==navigator.vendorSub&&navigator.vendorSub?""+navigator.vendorSub:"";var a=e.jf();""!==a&&(t["c3.fp.canvFp"]=a)}return"undefined"!=typeof window&&window&&(void 0!==window.screen&&window.screen&&(t["c3.fp.availHeight"]=void 0!==window.screen.availHeight&&window.screen.availHeight?""+window.screen.availHeight:"",t["c3.fp.availWidth"]=void 0!==window.screen.availWidth&&window.screen.availWidth?""+window.screen.availWidth:"",t["c3.fp.height"]=void 0!==window.screen.height&&window.screen.height?""+window.screen.height:"",t["c3.fp.width"]=void 0!==window.screen.width&&window.screen.width?""+window.screen.width:"",t["c3.fp.colorDepth"]=void 0!==window.screen.colorDepth&&window.screen.colorDepth?""+window.screen.colorDepth:"",t["c3.fp.deviceXDPI"]=void 0!==window.screen.deviceXDPI&&window.screen.deviceXDPI?""+window.screen.deviceXDPI:"",t["c3.fp.deviceYDPI"]=void 0!==window.screen.deviceYDPI&&window.screen.deviceYDPI?""+window.screen.deviceYDPI:""),t["c3.fp.dpi"]=void 0!==window.devicePixelRatio&&window.devicePixelRatio?""+window.devicePixelRatio:"",t["c3.fp.secure"]="boolean"==typeof window.isSecureContext?""+window.isSecureContext:""),t},this.jf=function(){try{if("undefined"!=typeof document&&document){var e=document.createElement("CANVAS");if(void 0!==e&&e&&"function"==typeof e.getContext){var t=e.getContext("2d"),i="conviva";return t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f40",t.fillRect(void 0!==navigator.plugins&&navigator.plugins?navigator.plugins.length:0,void 0!==navigator.mimeTypes&&navigator.mimeTypes?navigator.mimeTypes.length:0,void 0!==navigator.product&&navigator.product?navigator.product.length:0,void 0!==navigator.vendor&&navigator.vendor?navigator.vendor.length:0),t.fillStyle="#069",t.fillText(i,void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints>=0?navigator.maxTouchPoints:0,void 0!==navigator.product&&navigator.product?navigator.product.length:0),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(i,void 0!==navigator.deviceMemory&&navigator.deviceMemory?navigator.deviceMemory:0,void 0!==navigator.hardwareConcurrency&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0),H.js(e.toDataURL())}}return""}catch(e){return""}},this.Ha=function(){var t;e.Zh||(t=e.Pf())&&e.Kf(t)},this.Af=function(){var t;e.vn!==o.PlayerState.PLAYING||!e.oe||(t=e.oe.getRenderedFrameRate())>0&&(e.ia+=t,e.na++)},this.Mf=function(){return e.ia>0&&e.na>0?$.Wf.Cast(+e.ia/e.na):(this.Af(),e.ia>0&&e.na>0?$.Wf.Cast(+e.ia/e.na):o.DEFAULT_RENDERED_FRAME_RATE)},this.Kf=function(t){e.Cf();var i=e.Nh-1;e.c.info("postHeartbeat(): Send HB["+i+"]"+e.Ia()),e.pa.xf(t,(function(t,n){e.qf(t,n,i)}))},this.qf=function(t,i,n){e.Zh||e.w.m("onHeartbeatResponse",(function(){var a,r,o;t?i?(e.c.debug("onHeartbeatResponse(): received valid response for HB["+n+"]"),e.yf(n),!(o=i[j.ho])||o!==(a=e.Ta.get(Q.D))&&(e.c.debug("onHeartbeatResponse(): setting the client id to "+o+" (from gateway)"),e.Ta.set(Q.D,o),e.Ta.Yf(),a===j.P&&o!==j.P&&e.Hi.y()),(a=i[j.uo])&&a!==j.ro&&e.c.error("onHeartbeatResponse(): error from gateway: "+a),"object"==typeof(o=i[j.ao])&&((a=o[j.co])>=0&&e.Ta.get(Q.Df)!==a&&(e.c.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+a+" (from gateway)"),e.Ta.set(Q.Df,a)),a=o[j.lo],(a=!!$.Ii(a)&&a)!==e.Ta.get(Q.Lf)&&(e.c.debug("onHeartbeatResponse(): turning "+(a?"on":"off")+" sending of logs"),e.Ta.set(Q.Lf,a)),a=o[j.vo],!$.lt(a)||(r=$.Wf.Cast(a))!==e.ui.heartbeatInterval&&(e.c.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+r),e.ui.heartbeatInterval=r,e.Sh&&e.Ga()),(r=o[j.do])&&r!==e.ui.gatewayUrl&&(e.c.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+r),e.ui.gatewayUrl=r),e.Jf()||(e.ea={},(r=o[j.Eo])&&(e.sa||(e.sa=!0),e.c.debug("onHeartbeatResponse(): received fp from gateway: "+r),e.ea=r.split(",")),e.la=o[j.po],$.Ii(e.la)&&(e.la?(e.c.debug("onHeartbeatResponse(): enabling the CDN Server IP collection"),e.fa||e.Wa()):e.ka())))):e.c.warning("onHeartbeatResponse(): decoded heartbeat response is null."):(o=i,$.wt(o)?$.Xf(o,"HTTP timeout")?e.c.warning("onHeartbeatResponse(): "+o):e.c.error("onHeartbeatResponse(): failed to send heartbeat: "+o):(o=W.Qf,e.c.error("onHeartbeatResponse(): "+o)),e.If(n,o))}))},this.Ef=function(){return $.Wf.Cast(e.wa.current()-e.gh)},this.Nf=function(){return this.Ea.pf()},this.Ia=function(){return this.Da()?" (global session)":""},this.Da=function(){return this.Oa===q.ct.tu},this.Jf=function(){return this.Oa===q.ct.tu&&"T"===this.Ph["c3.IPV4IPV6GlobalSession"]},this._a=function(){return this.Oa===q.ct.ft},this.Aa=function(){return this.Oa===q.ct.Rt},this.St=function(t){e.Zf(t),e.ba()},this.Zf=function(t){var i={},n={};if($.wt(t.assetName)&&(e.Et.assetName!==t.assetName?(e.Et.assetName&&(i[j.Do]=e.Et.assetName),n[j.Do]=t.assetName,e.Et.assetName=t.assetName):e.c.warning("mergeContentMetadata(): assetName was not changed.")),$.wt(t.applicationName)&&(e.Et.applicationName!==t.applicationName?(e.Et.applicationName&&(i[j.bo]=e.Et.applicationName),n[j.bo]=t.applicationName,e.Et.applicationName=t.applicationName):e.c.warning("mergeContentMetadata(): applicationName was not changed.")),$.wt(t.streamUrl)&&(e.Et.streamUrl!==t.streamUrl?(e.Et.streamUrl&&(i[j.Xo]=e.Et.streamUrl),n[j.Xo]=t.streamUrl,e.Et.streamUrl=t.streamUrl,e.rn=e.Et.streamUrl):e.c.warning("mergeContentMetadata(): streamUrl was not changed.")),$.wt(t.viewerId)&&(e.Et.viewerId!==t.viewerId?(e.Et.viewerId&&(i[j.mo]=e.Et.viewerId),n[j.mo]=t.viewerId,e.Et.viewerId=t.viewerId):e.c.warning("mergeContentMetadata(): viewerId was not changed.")),$.wt(t.defaultResource)&&(e.Et.defaultResource!==t.defaultResource?(e.Et.defaultResource&&(i[j.qo]=e.Et.defaultResource),n[j.qo]=t.defaultResource,e.Et.defaultResource=t.defaultResource):e.c.warning("mergeContentMetadata(): defaultResource was not changed.")),$.lt(t.duration)&&t.duration>0&&(e.Et.duration!==t.duration?(e.mh>0&&(i[j.Go]=e.mh),n[j.Go]=t.duration,e.Et.duration=t.duration,e.mh=e.Et.duration):e.c.warning("mergeContentMetadata(): duration was not changed.")),$.lt(t.encodedFrameRate)&&t.encodedFrameRate>0&&(e.Et.encodedFrameRate!==t.encodedFrameRate?(e.Et.encodedFrameRate>-1&&(i[j.jo]=e.Et.encodedFrameRate),n[j.jo]=t.encodedFrameRate,e.Et.encodedFrameRate=t.encodedFrameRate,e.fn=e.Et.encodedFrameRate):e.c.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!==r.StreamType.UNKNOWN&&(e.Et.streamType!==t.streamType?(e.Et.streamType!==r.StreamType.UNKNOWN&&(e.Et.streamType===r.StreamType.LIVE?i[j.go]=!0:i[j.go]=!1),t.streamType===r.StreamType.LIVE?n[j.go]=!0:n[j.go]=!1,e.Et.streamType=t.streamType):e.c.warning("mergeContentMetadata(): streamType was not changed.")),$.It(t.custom)>0){var a,o={},s={};for(a in t.custom)e.Et.custom[a]!==t.custom[a]?(o[a]=t.custom[a],e.Et.custom[a]&&(s[a]=e.Et.custom[a]),e.Et.custom[a]=t.custom[a]):e.c.info("mergeContentMetadata(): custom."+a+" was not changed.");$.It(o)>0?($.It(s)>0&&(i[j.Po]=s),n[j.Po]=o):e.c.warning("mergeContentMetadata(): custom was not changed.")}$.It(n)>0&&this.Ja(n,i)},this.ba=function(){var t;e.c.debug("setStatesFromContentMetadata()"),e.Et.defaultResource&&this.Vu(e.Et.defaultResource),e.Et.streamUrl&&this.rh(e.Et.streamUrl),e.Et.duration>0&&this.Lu(e.Et.duration),e.Et.encodedFrameRate>0&&this.ku(e.Et.encodedFrameRate),e.Et.streamType!==r.StreamType.UNKNOWN&&(t=e.Et.streamType===r.StreamType.LIVE,this.du(t)),e.Et.assetName&&this._u(e.Et.assetName),e.Et.viewerId&&this.Ou(e.Et.viewerId),(e.Et.applicationName||e.Et.playerName)&&this.Au(e.Et.applicationName||e.Et.playerName),$.It(e.Et.custom)>0&&this.Cu(e.Et.custom)},this.Pa=function(){var t={};if(this.Da()||(e.Et.assetName?t[j.Do]=e.Et.assetName:e.c.warning("enqueueEventForContentMetadata(): assetName was not set."),e.Et.applicationName?t[j.bo]=e.Et.applicationName:e.c.warning("enqueueEventForContentMetadata(): applicationName was not set."),e.Et.streamUrl?t[j.Xo]=e.Et.streamUrl:e.c.warning("enqueueEventForContentMetadata(): streamUrl was not set."),e.Et.viewerId?t[j.mo]=e.Et.viewerId:e.c.warning("enqueueEventForContentMetadata(): viewerId was not set."),e.Et.defaultResource?t[j.qo]=e.Et.defaultResource:e.c.warning("enqueueEventForContentMetadata(): defaultResource was not set."),e.Et.duration>-1?t[j.Go]=e.Et.duration:e.c.warning("enqueueEventForContentMetadata(): duration was not set."),e.Et.encodedFrameRate>-1?t[j.jo]=e.Et.encodedFrameRate:e.c.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),e.Et.streamType!==r.StreamType.UNKNOWN?e.Et.streamType===r.StreamType.LIVE?t[j.go]=!0:t[j.go]=!1:e.c.warning("enqueueEventForContentMetadata(): streamType was not set.")),$.It(e.Et.custom)>0)for(var i in t[j.Po]={},e.Et.custom)t[j.Po][i]=e.Et.custom[i];else this.Da()||e.c.warning("enqueueEventForContentMetadata(): custom tags were not set.");$.It(t)>0&&this.Ja(t,null)},this.La=function(){e.Et&&$.wt(e.Et.assetName)||e.c.warning("Missing assetName during session creation"),e.Et&&$.wt(e.Et.defaultResource)||e.c.warning("Missing resource during session creation"),e.Et&&$.wt(e.Et.streamUrl)||e.c.warning("Missing streamUrl during session creation"),(!e.Et||e.Et.encodedFrameRate<=0)&&e.c.warning("Missing encodedFrameRate during session creation"),e.Et&&$.wt(e.Et.viewerId)||e.c.warning("Missing viewerId during session creation"),e.Et&&e.Et.streamType&&r.StreamType.UNKNOWN!==e.Et.streamType||e.c.warning("Missing streamType during session creation"),e.Et&&$.wt(e.Et.applicationName)||e.c.warning("Missing applicationName during session creation"),(!e.Et||e.Et.duration<=0)&&e.c.warning("Missing duration during session creation")},this.Ft=function(t,i){e.Jh||(e.Jh={}),e.Jh[t]=i},this.Ma=function(){var t={};e.Hi.A&&(t[j.tr]=e.Hi.A,e.A=e.Hi.A),e.Hi.C&&(t[j.nr]=e.Hi.C,e.C=e.Hi.C),$.It(t)>0&&this.Ja(t,null)}};q.Ca=j.$r.ft+j.$r.nu+j.$r.iu,q.ct={ft:"Video",tu:"Global",Rt:"Ad"};var W=t.Session=function(){var e=this;e.oe=null,e.S=0,e.Oa=q.ct.ft,e.zf=!1,e.Zh=!1,e.$f=!1,e.tc=null,e.Gi=null,e.nc=null,e.ic=!1,e.ec=o.PlayerState.NOT_MONITORED,e.sc=!1,e.oc=!1,e.rc=!1,e.uc=!1,e.hc=!1,function(e,t,i,n,a,r,o){this.S=e,this.Oa=t,this.Ta=i,this.ac=n,this.dt=a,this.w=r,this.c=o}.apply(e,arguments),this.ga=function(t,i){e.dt.ga(this),t&&e.Ot(t),e.Ta.fc()?e.cc(i):e.Ta.lc((function(){e.cc(i)}))},this.cleanup=function(){e.zf=!0,e.dt.ya(),e.Ta.fc()?e.vc():e.Ta.lc((function(){e.vc()}))},this.dc=function(){(e._a()||e.Aa())&&e.oe&&e.Ec(),e.w=null,e.Hi=null,e.Ta=null,e.ac=null,e.dt.ut(),e.dt=null,e.Zh=!0},this.vc=function(){e.dt.Ua(),e.dc()},this.cc=function(t){e.dt.ma(),e.pc(),t?(e.Tt(t.ms(),t.Ds()),e.dt.we(o.PlayerState.STOPPED),e.dt.Ua(),e.dc()):e.dt.Ba()},this.pc=function(){var t=e.ac.get(),i=t[se.BROWSER_NAME];i&&e.dt.ju(i),(i=t[se.BROWSER_VERSION])&&e.dt.Ku(i),(i=t[se.DEVICE_BRAND])&&e.dt.Wu(i),(i=t[se.DEVICE_MANUFACTURER])&&e.dt.xu(i),(i=t[se.DEVICE_MODEL])&&e.dt.qu(i),(i=t[se.DEVICE_TYPE])&&e.dt.Yu(i),(i=t[se.DEVICE_VERSION])&&e.dt.Ju(i),(i=t[se.FRAMEWORK_NAME])&&e.dt.Xu(i),(i=t[se.FRAMEWORK_VERSION])&&e.dt.Qu(i),(i=t[se.OPERATING_SYSTEM_NAME])&&e.dt.Zu(i),(i=t[se.OPERATING_SYSTEM_VERSION])&&e.dt.zu(i),(i=t[se.DEVICE_CATEGORY])&&e.dt.$u(i),(i=t[se.SCREEN_WIDTH])&&e.dt.th(i),(i=t[se.SCREEN_HEIGHT])&&e.dt.nh(i),(t=t[se.SCALE_FACTOR])&&e.dt.ih(t)},this.Gn=function(t){e.dt.vn!==t&&(e.dt.vn===o.PlayerState.NOT_MONITORED&&t!==o.PlayerState.NOT_MONITORED&&(e.ec=t),e.ic||e.dt.we(t))},this.jn=function(t){e.sc||e.dt.Xa(t)},this.Qn=function(t){e.oc||e.dt.eh(t)},this.Zn=function(t){e.oc||e.dt.ze(t)},this.Kn=function(t,i){$.lt(i)||(i=-1),e.dt.Of(t,i)},this.Cn=function(t){t>0&&(e.uc||e.dt.ku(t))},this.mn=function(t){t>0&&(e.uc||e.dt.Lu(t))},this.Dn=function(t){e.dt.rh(t)},this.Wn=function(t){e.dt.if(t)},this.xn=function(t){e.dt.sf(t)},this.W=function(t){e.dt.ah(t)},this.Y=function(t){e.dt.fh(t)},this.Ln=function(t){e.dt.ja()||e.dt.Xu(t)},this.Vn=function(t){e.dt.Ka()||e.dt.Qu(t)},this.Yn=function(t){e.dt.dh(t)},this.qn=function(t,i){e.Tt(t,i)},this._n=function(){e.Ec()},this.bt=function(t,i,a){e.$f||(e.$f=!0,e.tc=t,e.Gi=i,e.nc=a,e.dt.ff(!0),e.tc===n.AdStream.CONTENT||e.Gi===n.AdPlayer.SEPARATE?(e.dt.vn!==o.PlayerState.NOT_MONITORED&&(e.ec=e.dt.vn),e.dt.we(o.PlayerState.NOT_MONITORED),e.ic=!0):e.tc===n.AdStream.SEPARATE&&e.Gi===n.AdPlayer.CONTENT&&(e.dt.vn!==o.PlayerState.NOT_MONITORED&&(e.ec=e.dt.vn),e.dt.we(o.PlayerState.NOT_MONITORED),e.ic=!0,e.sc=!0,e.oc=!0,e.uc=!0,e.rc=!0))},this.Pt=function(){e.$f&&(e.dt.ff(!1),e.tc===n.AdStream.CONTENT||e.Gi===n.AdPlayer.SEPARATE?e.Rc||(e.ic=!1,e.dt.we(e.ec)):e.tc===n.AdStream.SEPARATE&&e.Gi===n.AdPlayer.CONTENT&&(e.sc=!1,e.oc=!1,e.uc=!1,e.rc=!1,e.hc=!1,e.Rc||(e.ic=!1,e.dt.we(e.ec))),e.$f=!1,e.tc=e.Gi=e.nc=null)},this.gt=function(){e.oe&&e.oe&&(e.w.m("Session.detachPlayer",(function(){e.oe.An()})),e.oe=null,e.dt.Tf(null),e.dt.we(o.PlayerState.NOT_MONITORED))},this.Ec=function(){e.oe&&(e.w.m("Session.releasePlayerStateManager",(function(){e.oe.An()})),e.oe=null,e.dt.Tf(null),e.dt.we(o.PlayerState.NOT_MONITORED))},this.Nt=function(){e.dt.ff(!0),e.dt.vn!==o.PlayerState.NOT_MONITORED&&(e.ec=e.dt.vn),e.dt.we(o.PlayerState.NOT_MONITORED),e.ic=!0},this.Ot=function(t){e.oe||t instanceof o&&e.w.m("Session.attachPlayer()",(function(){t.setMonitoringNotifier(e,e.S)&&(t.kn(),e.oe=t,e.dt.Tf(e.oe))}))},this._t=function(){e.dt.ff(!1),e.sc=!1,e.oc=!1,e.uc=!1,e.rc=!1,e.hc=!1,e.Rc||(e.ic=!1,e.ec!==o.PlayerState.NOT_MONITORED&&e.dt.we(e.ec))},this.Lt=function(){return e.oe},this.At=function(){e.Rc||(e.Rc=!0,e.ic=!0)},this.Ct=function(){e.Rc&&(e.Rc=!1,e.$f||(e.ic=!1,e.ec!==o.PlayerState.NOT_MONITORED&&e.dt.we(e.ec)))},this.Tt=function(t,i){$.wt(t)&&(i!==n.ErrorSeverity.FATAL&&i!==n.ErrorSeverity.WARNING||e.hc||(i=i===n.ErrorSeverity.FATAL,e.dt.lf(t,i)))},this.St=function(t){e.w.m("Session.updateContentMetadata",(function(){e.dt.St(t)}))},this.Dt=function(t,i){e.dt._f(t,i)},this.Da=function(){return e.Oa===q.ct.tu},this._a=function(){return e.Oa===q.ct.ft},this.Aa=function(){return e.Oa===q.ct.Rt},this.Ia=function(){return e.Da()?" (global session)":""},this.Vt=function(){return this.S},this.kt=function(){var t=null;return e.Ta.fc()&&(t=e.Ta.get(Q.D)),t},this.Ft=function(t,i){e.dt.Ft(t,i)}};W.Qf="received no response (or a bad response) to heartbeat POST request";var G=t.SessionFactory=function(){var e=this;e.ai=null,e.wc=0,e.Tc=null,function(t,i,n,a){e.Hi=t,e.ui=i,e.Ta=n,e.v=a,e.wc=0,e.Tc={}}.apply(e,arguments),this.ut=function(){for(var t in e.ai=null,e.Tc)e.Tc[t].cleanup();e.Tc=null,e.wc=0},this.Sc=function(){var t=e.wc;return e.wc++,t},this.ht=function(t,i,n,a,o){return t||(t=new r),e.gc(t,i,n,a,o)},this.k=function(t){return e.gc(t,q.ct.tu,void 0,i.version)},this.Nc=function(){return ie.Oc()},this.gc=function(t,i,n,a,r){return t=e.v.Ni(e.Hi,e.ui,e.Ta,e.Nc(),i,t.z(),a),a=e.Sc(),void 0!==r&&void 0!==r.error?t.ga(n,r.error):(e._c(a,t),t.ga(n)),a},this.mt=function(t){return t=e.Tc[t]},this.vt=function(e){return(e=this.mt(e))&&(e._a()||e.Aa()||(e=null)),e},this._c=function(t,i){e.Tc[t]=i},this.Ac=function(t){delete e.Tc[t]},this.Mt=function(t){var i=e.mt(t);e.Ac(t),i.cleanup()},this.K=function(){return e.Tc}},z=t.Cc=function(e){this.Bi=e,this.Ic=function(e,t,i){var n=!1;return this.Bi.createOnce((function(){n||e(!(n=!0),i+" ("+t+" ms)")}),t,"CallbackWithTimeout.wrap"),function(t,i){n||(n=!0,e(t,i))}}},Q=t.Config=function(e,t,i){var n=this;this.yc=t,this.mc=i,this.Dc={clientId:j.P,iid:j.Ys,sendLogs:!1,maxHbInfos:j.Xs},this.T=$.Bf(this.Dc),this.bc=!1,this.Pc=!1,this.Mc=[],this.fc=function(){return this.bc},this.it=function(){this.yc.it(Q.Lc,(function(e,t){e&&n.Uc(t),n.bc=!0,n.Vc()}))},this.Uc=function(e){var t=this.mc.ru(e);t?t&&(e=t[Q.kc],t=t[Q.et],e&&e!==j.P&&""!==e&&"null"!==e&&(this.T[Q.D]=e),t!==j.Ys&&""!==t&&"null"!==t&&(this.T[Q.et]=t)):this.Pc=!0},this.Fc=function(){var e={};return e[Q.kc]=this.T.clientId,this.mc.ou(e)},this.Yf=function(){this.yc.Yf(Q.Lc,this.Fc(),(function(){}))},this.lc=function(e){this.fc()?e():this.Mc.push(e)},this.get=function(e){return this.bc?this.T[e]:null},this.set=function(e,t){this.bc&&(this.T[e]=t)},this.Vc=function(){for(var e;void 0!==(e=this.Mc.shift());)e()}};Q.Lc="sdkConfig",Q.kc="clId",Q.et="iid",Q.D="clientId",Q.Lf="sendLogs",Q.Df="maxHbInfos",Q.kf="c3.fp.",Q.Bt={Ff:"0",Hc:"1",Gt:"2",Ht:"3",Hf:"4",Kt:"5",jt:"6"};var X=t.EventQueue=function(){this.Bc=[],this.Gc=0,this.wf=function(e){this.Bc.push(e)},this.pf=function(){var e=this.Gc;return this.Gc++,e},this.Sa=function(){var e=this.Bc;return this.Bc=[],e}},J=t.ExceptionCatcher=function(e,t,i){this.jc=t,this.R=i,this.m=function(e,t,i){try{t()}catch(t){if(i)i(t);else{if(this.R.allowUncaughtExceptions)throw t;this.Kc(e,t)}}},this.Kc=function(e,t){var i="Uncaught exception: "+e+": "+t.toString();if(this.jc)try{this.jc.xf(i)}catch(e){}}},Z=t.GatewayControl=function(e,t,i,n,a){var r=this;this.ui=e,this.Wc=i,this.mc=n,this.xc=a,this.xf=function(e,t){var i=(this.xc?this.xc.indexOf("ipv4")>-1?this.ui.M:this.ui.F:this.ui.gatewayUrl)+j.qs;this.Wc.qc("POST",i,this.mc.ou(e),"application/json",(function(e,i){var n;e?(n=r.mc.ru(i),t(e,n)):t(e,i)}))}},$=t.Lang={};$.Yc=function(e){return $.wt(e)&&e&&"undefined"!==e&&"null"!==e},$.yt=function(e){var t,i,n={};for(t in e)$.Yc(t)&&(i=e[t],$.Yc(i)&&(n[t]=i));return n},$.In=function(e,t,i){if(!e)throw new Error("Expected "+i+" implementation is null.");for(var n in t)if("function"!=typeof e[n])throw new Error("Expected method "+n+" in "+i+" implementation.")},$.It=function(e){var t,i=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i++;return i},$.pt=function(e){return""+e},$.Jc=function(e){return Math.floor(e)},$.Xt=function(e){return Math.abs($.Jc(e))},$.Xc=function(e){return Boolean(e)},$.wt=function(e){return"string"==typeof e&&""!==e},$.Xf=function(e,t){return"string"==typeof e&&"string"==typeof t&&"function"==typeof e.indexOf&&0===e.indexOf(t)},$.Ii=function(e){return"boolean"==typeof e},$.Qc=function(e){return escape(e)},$.uu=function(e){return"object"==typeof e},$.tf=function(e){var t,i="";for(t in e)i+=t+"="+e[t];return"Object{"+i+"}"},$.Zc=function(e){var t,i=$.Bf(e);for(t in i)i[t]||delete i[t];return i},$.Bf=function(e){var t,i={};for(t in e)i[t]=e[t];return i},$.$a=function(e,t){if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){if($.It(e)!==$.It(t))return!1;for(var i in e)if(e[i]!==t[i])return!1;return!0}return e===t},$.as=function(){for(var e={},t=0;t<arguments.length;t++)for(var i in arguments[t])arguments[t][i]&&(e[i]=arguments[t][i]);return e},$.lt=function(e){return"number"==typeof e&&Math.round(e)===e},$.zc=function(e){return"[object Array]"===Object.prototype.toString.call(e)},$.$c=function(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if($.zc(e[i])&&$.zc(t[i])){if(!$.$c(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0},$.tl=function(){return void 0!==Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()},$.xt=function(e,t,i){if($.tl())Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:i});else{if(void 0===e.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");e.__defineGetter__(t,i)}},$.qt=function(e,t,i){if($.tl())Object.defineProperty(e,t,{configurable:!0,set:i});else{if(void 0===e.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");e.__defineSetter__(t,i)}},function(){var e={two32:4294967296};e.nl=e.two32-1,e.il=0,$.el=e,$.el.Cast=function(t){return(t=parseInt(t,10))>e.nl?t%=e.two32:t<e.il&&(t=-t%e.two32,t=e.two32-t),t},$.el.sl=function(t){return(t=parseInt(t,10))<=e.nl&&t>=e.il};var t={nl:2147483647,il:-2147483648};$.Wf=t,$.Wf.Cast=function(e){return(e=parseInt(e,10))>t.nl?e%=t.nl:e<t.il&&(e=t.nl-(e=-e%t.nl)),e},$.Wf.sl=function(e){return(e=parseInt(e,10))<=t.nl&&e>=t.il},$.ys=function(){return window&&window.location&&window.location.search?window.location.search:""},$.ol=function(){return document&&document.referrer?document.referrer:""}}();var ee=t.LogBuffer=function(){this.rl=[],this.ks=function(e){this.rl.length>=32&&this.rl.shift(),this.rl.push(e)},this.Sa=function(){var e=this.rl;return this.rl=[],e}},te=t.Ping=function(e,t,i,a){this.ul=!1,this.hl=null,this.c=e,this.c.setModuleName("Ping"),this.Wc=t,this.ui=i,this.hi=a,this.xf=function(e){this.ul||(this.ul=!0,e=this.al()+"&d="+$.Qc(e.toString()),this.c.error("send(): "+e),this.Wc.qc("GET",e,null,null,null),this.ul=!1)},this.al=function(){if(!this.hl){var e=te.fl+"?comp="+te.cl+"&clv="+(this.hi||n.version);if(this.ui&&(e+="&cid="+this.ui.customerKey),e+="&sch="+j.$s,!this.ui)return e;this.hl=e}return this.hl}};te.cl="sdkjs",te.fl="https://pings.conviva.com/ping.ping";var ie=t.ll={};ie.vl=4294967295,ie.dl=2147483647,ie.El=-2147483648,ie.Oc=function(){return Math.floor(Math.random()*ie.vl)+ie.El},ie.ot=function(){return Math.floor(Math.random()*ie.vl)};var ne=t.pl={};ne.Rf=function(e,t,i,n){return isNaN(e)||"number"!=typeof e||e===n?n:(e=$.Jc(e),ne.Rl(e,t,i))},ne.Rl=function(e,t,i){return $.lt(i)&&e>i?e=i:$.lt(t)&&e<t&&(e=t),e},ne.an=function(e){return-1===e||-2===e?e:e=ne.Rf(e,0,null,-1)};var ae=t.StreamerError=function(){var e=this;e.errorCode=null,e.severity=n.ErrorSeverity.FATAL,function(t,i){e.errorCode=t,e.severity=i}.apply(e,arguments),this.ms=function(){return e.errorCode},this.Ds=function(){return e.severity}},re=t.HttpClient=function(e,t,i,n){this.ni=t,this.wl=i,this.R=n,this.qc=function(e,t,i,n,a){var r=1e3*this.R.httpTimeout,o=null;a&&(o=this.wl.Ic(a,r,"HTTP timeout")),this.ni.makeRequest(e,t,i,n,r,o)}},oe=t.Logger=function(e,t,i,n,a){this.si=e,this.$n=t,this.p=i,this.ai=n,this.ri=a,this.debug=function(e){this.log(e,_.LogLevel.DEBUG)},this.info=function(e){this.log(e,_.LogLevel.INFO)},this.warning=function(e){this.log(e,_.LogLevel.WARNING)},this.error=function(e){this.log(e,_.LogLevel.ERROR)},this.log=function(e,t){e=this.Tl(e,t),this.ai.ks(e),this.p.logLevel<=t&&this.si.consoleLog(e,t)},this.Sl=function(e){return"["+this.wn+"] "+e},this.gl=function(e){return"["+this.ri+"] "+e},this.Nl=function(e){return"[Conviva] "+e},this.Ol=function(e){return"["+(this.$n.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+e},this._l=function(e,t){return"["+oe.Al(t)+"] "+e},this.Cl=function(e){return this.Il&&(e="sid="+this.Il+" "+e),e},this.gu=function(e){this.Il=e},this.setModuleName=function(e){this.wn=e},this.Tl=function(e,t){return this.Nl(this.Ol(this._l(this.gl(this.Sl(this.Cl(e))),t)))}};oe.Al=function(e){var t;switch(e){case _.LogLevel.ERROR:t="ERROR";break;case _.LogLevel.WARNING:t="WARNING";break;case _.LogLevel.INFO:t="INFO";break;case _.LogLevel.DEBUG:t="DEBUG"}return t},t.Storage=function(e,i,n,a){this.ii=i,this.wl=n,this.R=a,this.it=function(e,i){i=this.wl.Ic(i,1e3*this.R.storageTimeout,"storage load timeout"),this.ii.loadData(t.Storage.yl,e,i)},this.Yf=function(e,i,n){n=this.wl.Ic(n,1e3*this.R.storageTimeout,"storage save timeout"),this.ii.saveData(t.Storage.yl,e,i,n)}},t.Storage.yl="Conviva";var se=t.SystemMetadata=function(e,t,i){this.ei=t,this.w=i,this.ml=null,this.get=function(){return this.ml||this.retrieve(),this.ml},this.retrieve=function(){var e={};e[se.BROWSER_NAME]=this.ei.getBrowserName,e[se.BROWSER_VERSION]=this.ei.getBrowserVersion,e[se.DEVICE_BRAND]=this.ei.getDeviceBrand,e[se.DEVICE_MANUFACTURER]=this.ei.getDeviceManufacturer,e[se.DEVICE_MODEL]=this.ei.getDeviceModel,e[se.DEVICE_TYPE]=this.ei.getDeviceType,e[se.DEVICE_VERSION]=this.ei.getDeviceVersion,e[se.FRAMEWORK_NAME]=this.ei.getFrameworkName,e[se.FRAMEWORK_VERSION]=this.ei.getFrameworkVersion,e[se.OPERATING_SYSTEM_NAME]=this.ei.getOperatingSystemName,e[se.OPERATING_SYSTEM_VERSION]=this.ei.getOperatingSystemVersion,e[se.DEVICE_CATEGORY]=this.ei.getDeviceCategory,e[se.SCREEN_WIDTH]=this.ei.getScreenWidth,e[se.SCREEN_HEIGHT]=this.ei.getScreenHeight,e[se.SCALE_FACTOR]=this.ei.getScaleFactor;var t,i=this;for(t in e)!function(e,t){i.w.m("Session.getSystemMetadataSchema(): "+e,(function(){var n=t[e];t[e]=n.call(i.ei)}))}(t,e),$.wt(e[t])||delete e[t];var a=!1;if(void 0!==e[se.DEVICE_TYPE]){for(var r in n.DeviceType)if(e[se.DEVICE_TYPE]===n.DeviceType[r]){a=!0;break}a||delete e[se.DEVICE_TYPE]}if(a=!1,void 0!==e[se.DEVICE_CATEGORY]){for(var o in n.DeviceCategory)if(e[se.DEVICE_CATEGORY]===n.DeviceCategory[o]){a=!0;break}a||delete e[se.DEVICE_CATEGORY]}this.ml=$.Zc(e)}};se.BROWSER_NAME="browserName",se.BROWSER_VERSION="browserVersion",se.DEVICE_BRAND="deviceBrand",se.DEVICE_MANUFACTURER="deviceManufacturer",se.DEVICE_MODEL="deviceModel",se.DEVICE_TYPE="deviceType",se.DEVICE_VERSION="deviceVersion",se.FRAMEWORK_NAME="frameworkName",se.FRAMEWORK_VERSION="frameworkVersion",se.OPERATING_SYSTEM_NAME="operatingSystemName",se.OPERATING_SYSTEM_VERSION="operatingSystemVersion",se.DEVICE_CATEGORY="deviceCategory",se.SCREEN_WIDTH="screenWidth",se.SCREEN_HEIGHT="screenHeight",se.SCALE_FACTOR="scaleFactor";var le=t.Time=function(e,t){this.$n=e,this.c=t,this.current=function(){var e=this.$n.getEpochTimeMs();return $.lt(e),e}},ce=t.Timer=function(e,t,i){var n=this;this.ti=t,this.w=i,this.create=function(e,t,i){return this.createTimer((function(){n.w.m(i,(function(){e()}))}),t,i)},this.createOnce=function(e,t,i){var a={cancel:null};return a.cancel=this.createTimer((function(){n.w.m(i,(function(){a&&"function"==typeof a.cancel&&(a.cancel(),a.cancel=null,a=null),e()}))}),t,i),a.cancel},this.createTimer=function(e,t,i){return this.ti.createTimer(e,t,i)}}}()}(),e},void 0!==(a="function"==typeof(n=o)?n.call(t,i,t,e):n)&&(e.exports=a),void 0!==r&&r&&(r.Conviva||r.ConvivaLoading||(r.ConvivaLoading=!0,r.Conviva=o(),delete r.ConvivaLoading))},55943:function(e,t,i){var n,a,r,o;/*! (C) 2022 Conviva, Inc. All rights reserved. Confidential and proprietary. */r=this,o=function(){var e={};return function(){"use strict";e.AdProxyMonitor={o:null,release:function(){this.o&&this.o.cleanup()},initConvivaDropIn:function(t,i,n,a){if(t)return this.o=new e.Impl.GoogleImaProxy(t,i,n,a),this.o;throw new Error("No Ad Manager proxy initialized")}},void 0!==e&&(e.Impl=e.Impl||{},e.Impl.GoogleImaProxy=function(e,t,i,n){var a=this;a.isAdBreakEnabled=!0,a.convivaAdAnalytics=null,a.isPreviousEventAdBuffering=!1,this.registerAdsLoaderListeners=function(){var e={};if(e[n.Constants.FRAMEWORK_NAME]="Google IMA SDK","undefined"==typeof google||!google)throw new Error("Google IMA SDK is not accessible");e[n.Constants.FRAMEWORK_VERSION]=""+google.ima.VERSION,a.convivaAdAnalytics.setAdPlayerInfo(e),a.adsLoader&&(a.adsManagerLoadedBind=function(e){this.adManagerInfo&&this.adManagerInfo[n.Constants.IMASDK_CONTENT_PLAYER]&&(this.adsManager=e.getAdsManager(this.adManagerInfo[n.Constants.IMASDK_CONTENT_PLAYER]),this.registerAdsManagerListeners())}.bind(a),a.onAdsLoaderErrorBind=function(e){e=e.getError(),this.reportAdFailed(e,"Ads Loader Error")}.bind(a),a.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a.adsManagerLoadedBind,!1,a),a.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.onAdsLoaderErrorBind,!1,a))},this.registerAdsManagerListeners=function(){for(var e in a.onAdsManagerErrorBind=function(e){e=e.getError(),this.handleAdError(e)}.bind(a),a.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.onAdsManagerErrorBind,!1,a),a.onAdEventBind=function(e){e.type===google.ima.AdEvent.Type.STARTED&&e.getAd().isLinear()?(this.onAdStart(e),this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.PLAYING)):e.type===google.ima.AdEvent.Type.RESUMED&&e.getAd().isLinear()?this.convivaAdAnalytics&&this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.PLAYING):e.type===google.ima.AdEvent.Type.PAUSED&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.PAUSED):e.type===google.ima.AdEvent.Type.COMPLETE&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&(this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.STOPPED),this.convivaAdAnalytics.reportAdEnded()):e.type===google.ima.AdEvent.Type.SKIPPED&&!0===e.getAd().isLinear()?this.convivaAdAnalytics&&(this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.STOPPED),this.convivaAdAnalytics.reportAdSkipped()):e.type===google.ima.AdEvent.Type.ALL_ADS_COMPLETED?this.allAdsCompleted=!0:e.type===google.ima.AdEvent.Type.LOG?this.onAdLogError(e):e.type===google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED?this.onContentPauseRequested(e):e.type===google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED?this.onContentResumeRequested(e):e.type===google.ima.AdEvent.Type.AD_BUFFERING?this.convivaAdAnalytics&&(this.isPreviousEventAdBuffering=!0,this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.BUFFERING)):e.type===google.ima.AdEvent.Type.AD_PROGRESS&&this.convivaAdAnalytics&&(this.isPreviousEventAdBuffering?this.isPreviousEventAdBuffering=!1:this.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.PLAYER_STATE,n.Constants.PlayerState.PLAYING))}.bind(a),a.events=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdError.Type.AD_LOAD,google.ima.AdError.Type.AD_PLAY,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.AD_PROGRESS],a.events)a.adsManager.addEventListener(a.events[e],a.onAdEventBind,!1,a)},this.onContentPauseRequested=function(e){a.allAdsCompleted=!1,a.contentPauseRequested=!0,a.convivaAdAnalytics&&(a.currentPodIndex=e.getAd().getAdPodInfo().getPodIndex(),a.isAdBreakEnabled&&(a.podDuration=e.getAd().getAdPodInfo().getMaxDuration(),0===a.currentPodIndex?a.podPosition="Pre-roll":-1===a.currentPodIndex?a.podPosition="Post-roll":a.podPosition="Mid-roll",(e={})[n.Constants.POD_POSITION]=a.podPosition,e[n.Constants.POD_DURATION]=a.podDuration,e[n.Constants.POD_INDEX]=a.podIndex,a.convivaAdAnalytics.reportAdBreakStarted(n.Constants.AdType.CLIENT_SIDE,n.Constants.AdPlayer.CONTENT,e),a.podStartSent=!0))},this.onContentResumeRequested=function(){a.allAdsCompleted=!1,a.convivaAdAnalytics&&a.isAdBreakEnabled&&a.podStartSent&&(a.convivaAdAnalytics.reportAdBreakEnded(),a.podStartSent=!1,a.podIndex++,a.podPosition=null),a.contentPauseRequested=!1},this.onAdStart=function(e){var t;a.convivaAdAnalytics&&(t=a.getConvivaAdMetadata(e.getAd()),a.convivaAdAnalytics.reportAdStarted(t),a.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.RESOLUTION,e.getAd().getVastMediaWidth(),e.getAd().getVastMediaHeight()),a.convivaAdAnalytics.reportAdMetric(n.Constants.Playback.BITRATE,e.getAd().getVastMediaBitrate()))},this.onAdLogError=function(){},this.getConvivaAdMetadata=function(e){var t,i,r={};r[n.Constants.MODULE_NAME]="Google IMA",r[n.Constants.MODULE_VERSION]="4.0.9",r[n.Constants.FRAMEWORK_NAME]="Google IMA SDK","undefined"!=typeof google&&google&&(r[n.Constants.FRAMEWORK_VERSION]=""+google.ima.VERSION),r[n.Constants.ASSET_NAME]=e.getTitle(),r[n.Constants.STREAM_URL]=e.getMediaUrl(),r[n.Constants.DURATION]=e.getDuration();try{var o=a.convivaAdAnalytics.getPlayerMonitor().getContentMetadata(),s=a.convivaAdAnalytics.getAdPlayerMonitor().getContentMetadata();o&&s?o.streamType!==n.Constants.StreamType.UNKNOWN&&s.streamType===n.Constants.StreamType.UNKNOWN&&(r[n.Constants.IS_LIVE]=o.streamType):o&&o.streamType!==n.Constants.StreamType.UNKNOWN&&(r[n.Constants.IS_LIVE]=o.streamType)}catch(e){r[n.Constants.IS_LIVE]=n.Constants.StreamType.UNKNOWN}return o=e.getWrapperAdIds()&&0!==e.getWrapperAdIds().length?(s=e.getWrapperAdIds().length,t=e.getWrapperAdSystems()[s-1],i=e.getWrapperAdIds()[s-1],e.getWrapperCreativeIds()[s-1]):(t=e.getAdSystem(),i=e.getAdId(),e.getCreativeId()),s=0===e.getAdPodInfo().getPodIndex()?"Pre-roll":-1===e.getAdPodInfo().getPodIndex()?"Post-roll":"Mid-roll",r["c3.ad.id"]=""+e.getAdId(),r["c3.ad.creativeId"]=""+e.getCreativeId(),r["c3.ad.technology"]="Client Side",r["c3.ad.system"]=""+e.getAdSystem(),r["c3.ad.sequence"]=""+e.getAdPodInfo().getAdPosition(),r["c3.ad.mediaFileApiFramework"]=""+e.getApiFramework(),r["c3.ad.advertiser"]=""+e.getAdvertiserName(),r["c3.ad.position"]=s,r["c3.ad.adManagerName"]="Google IMA SDK","undefined"!=typeof google&&google&&(r["c3.ad.adManagerVersion"]=""+google.ima.VERSION),r["c3.ad.firstAdSystem"]=""+t,r["c3.ad.firstAdId"]=""+i,r["c3.ad.firstCreativeId"]=""+o,r["c3.ad.univAdIdReg"]=void 0===e.getUniversalAdIds()||0===e.getUniversalAdIds().length||0<e.getUniversalAdIds().length&&void 0===e.getUniversalAdIds()[0].getAdIdRegistry()||0<e.getUniversalAdIds().length&&"unknown"===e.getUniversalAdIds()[0].getAdIdRegistry()?"NA":""+e.getUniversalAdIds()[0].getAdIdRegistry(),r["c3.ad.univAdIdVal"]=void 0===e.getUniversalAdIds()||0===e.getUniversalAdIds().length||0<e.getUniversalAdIds().length&&void 0===e.getUniversalAdIds()[0].getAdIdValue()||0<e.getUniversalAdIds().length&&"unknown"===e.getUniversalAdIds()[0].getAdIdValue()?"NA":""+e.getUniversalAdIds()[0].getAdIdValue(),r},this.handleAdError=function(e){if(e)switch(e.getType()){case google.ima.AdError.Type.AD_PLAY:a.handleAdPlayError(e);break;case google.ima.AdError.Type.AD_LOAD:a.handleAdLoadError(e)}},this.handleAdPlayError=function(e){a.reportAdFailed(e,"Ad Play Error")},this.handleAdLoadError=function(e){a.reportAdFailed(e,"Ad Load Error")},this.reportAdFailed=function(e,t){var i={};i[n.Constants.ASSET_NAME]=t,i[n.Constants.IS_LIVE]=n.Constants.StreamType.VOD,i["c3.ad.technology"]="Client Side",i["c3.ad.adManagerName"]="Google IMA SDK","undefined"!=typeof google&&google&&(i["c3.ad.adManagerVersion"]=""+google.ima.VERSION),a.convivaAdAnalytics.reportAdFailed(function(e){var t;return e.getType&&"function"==typeof e.getType&&e.getType()&&(t="Type: "+e.getType()),e.getErrorCode&&"function"==typeof e.getErrorCode&&e.getErrorCode()&&(t?t+=", Code: "+e.getErrorCode():t="Code: "+e.getErrorCode()),e.getMessage&&"function"==typeof e.getMessage&&e.getMessage()&&(t?t+=", Message: "+e.getMessage():t="Message: "+e.getMessage()),t=t||e.toString()||"Ad Request Failed"}(e),i)},a.adsLoader=e,a.adManagerInfo=t,a.adsManager=null,a.convivaAdAnalytics=i,a.podIndex=1,a.podPosition=null,a.registerAdsLoaderListeners(),a.currentPodIndex=0,this.cleanup=function(){if(a.adsLoader&&(a.adsLoader.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,a.adsManagerLoadedBind,!1,a),a.adsLoader.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.onAdsLoaderErrorBind,!1,a)),a.adsManager)for(var e in a.adsManager.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a.onAdsManagerErrorBind,!1,a),a.events)a.adsManager.removeEventListener(a.events[e],a.onAdEventBind,!1,a);a.adsLoader=null,a.adManagerInfo=null,a.adsManager=null}})}(),e},void 0!==(a="function"==typeof(n=o)?n.call(t,i,t,e):n)&&(e.exports=a),void 0!==r&&r&&(void 0!==r.Conviva&&r.Conviva?r.Conviva.AdProxyMonitor||r.ConvivaModuleLoading||(o=o(),r.ConvivaModuleLoading=!0,r.Conviva.AdProxyMonitor=o.AdProxyMonitor,r.Conviva.Impl.GoogleImaProxy=o.Impl.GoogleImaProxy,delete r.ConvivaModuleLoading):r.ConvivaModule)},86254:(e,t,i)=>{"use strict";i.d(t,{do:()=>j});var n,a=[],r="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(n||(n={}));var o,s=function(e){return Object.freeze(e)},l=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),d=function(e){return e instanceof SVGElement&&"getBBox"in e},u=function(e){if(d(e)){var t=e.getBBox(),i=t.width,n=t.height;return!i&&!n}var a=e,r=a.offsetWidth,o=a.offsetHeight;return!(r||o||e.getClientRects().length)},h=function(e){var t,i;if(e instanceof Element)return!0;var n=null===(i=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(n&&e instanceof n.Element)},p="undefined"!=typeof window?window:{},f=new WeakMap,_=/auto|scroll/,g=/^tb|vertical/,v=/msie|trident/i.test(p.navigator&&p.navigator.userAgent),m=function(e){return parseFloat(e||"0")},y=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),new l((i?t:e)||0,(i?e:t)||0)},b=s({devicePixelContentBoxSize:y(),borderBoxSize:y(),contentBoxSize:y(),contentRect:new c(0,0,0,0)}),E=function(e,t){if(void 0===t&&(t=!1),f.has(e)&&!t)return f.get(e);if(u(e))return f.set(e,b),b;var i=getComputedStyle(e),n=d(e)&&e.ownerSVGElement&&e.getBBox(),a=!v&&"border-box"===i.boxSizing,r=g.test(i.writingMode||""),o=!n&&_.test(i.overflowY||""),l=!n&&_.test(i.overflowX||""),h=n?0:m(i.paddingTop),p=n?0:m(i.paddingRight),E=n?0:m(i.paddingBottom),S=n?0:m(i.paddingLeft),A=n?0:m(i.borderTopWidth),w=n?0:m(i.borderRightWidth),T=n?0:m(i.borderBottomWidth),I=S+p,k=h+E,C=(n?0:m(i.borderLeftWidth))+w,P=A+T,D=l?e.offsetHeight-P-e.clientHeight:0,M=o?e.offsetWidth-C-e.clientWidth:0,O=a?I+C:0,N=a?k+P:0,L=n?n.width:m(i.width)-O-M,R=n?n.height:m(i.height)-N-D,x=L+I+M+C,V=R+k+D+P,F=s({devicePixelContentBoxSize:y(Math.round(L*devicePixelRatio),Math.round(R*devicePixelRatio),r),borderBoxSize:y(x,V,r),contentBoxSize:y(L,R,r),contentRect:new c(S,h,L,R)});return f.set(e,F),F},S=function(e,t,i){var a=E(e,i),r=a.borderBoxSize,o=a.contentBoxSize,s=a.devicePixelContentBoxSize;switch(t){case n.DEVICE_PIXEL_CONTENT_BOX:return s;case n.BORDER_BOX:return r;default:return o}},A=function(e){var t=E(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},w=function(e){if(u(e))return 1/0;for(var t=0,i=e.parentNode;i;)t+=1,i=i.parentNode;return t},T=function(){var e=1/0,t=[];a.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(t){var i=new A(t.target),a=w(t.target);n.push(i),t.lastReportedSize=S(t.target,t.observedBox),a<e&&(e=a)})),t.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=t;i<n.length;i++){(0,n[i])()}return e},I=function(e){a.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(i){i.isActive()&&(w(i.target)>e?t.activeTargets.push(i):t.skippedTargets.push(i))}))}))},k=function(){var e,t=0;for(I(t);a.some((function(e){return e.activeTargets.length>0}));)t=T(),I(t);return a.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:r}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=r),window.dispatchEvent(e)),t>0},C=[],P=function(e){if(!o){var t=0,i=document.createTextNode("");new MutationObserver((function(){return C.splice(0).forEach((function(e){return e()}))})).observe(i,{characterData:!0}),o=function(){i.textContent=""+(t?t--:t++)}}C.push(e),o()},D=0,M={attributes:!0,characterData:!0,childList:!0,subtree:!0},O=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],N=function(e){return void 0===e&&(e=0),Date.now()+e},L=!1,R=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!L){L=!0;var i,n=N(e);i=function(){var i=!1;try{i=k()}finally{if(L=!1,e=n-N(),!D)return;i?t.run(1e3):e>0?t.run(e):t.start()}},P((function(){requestAnimationFrame(i)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,M)};document.body?t():p.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),O.forEach((function(t){return p.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),O.forEach((function(t){return p.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),x=function(e){!D&&e>0&&R.start(),!(D+=e)&&R.stop()},V=function(){function e(e,t){this.target=e,this.observedBox=t||n.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=S(this.target,this.observedBox,!0);return e=this.target,d(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),F=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},B=new WeakMap,U=function(e,t){for(var i=0;i<e.length;i+=1)if(e[i].target===t)return i;return-1},H=function(){function e(){}return e.connect=function(e,t){var i=new F(e,t);B.set(e,i)},e.observe=function(e,t,i){var n=B.get(e),r=0===n.observationTargets.length;U(n.observationTargets,t)<0&&(r&&a.push(n),n.observationTargets.push(new V(t,i&&i.box)),x(1),R.schedule())},e.unobserve=function(e,t){var i=B.get(e),n=U(i.observationTargets,t),r=1===i.observationTargets.length;n>=0&&(r&&a.splice(a.indexOf(i),1),i.observationTargets.splice(n,1),x(-1))},e.disconnect=function(e){var t=this,i=B.get(e);i.observationTargets.slice().forEach((function(i){return t.unobserve(e,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},e}(),j=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");H.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!h(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");H.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!h(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");H.unobserve(this,e)},e.prototype.disconnect=function(){H.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},9384:(e,t,i)=>{void 0===window.ResizeObserver&&(window.ResizeObserver=i(86254).do)},94184:(e,t)=>{var i;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var o=a.apply(null,i);o&&e.push(o)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var s in i)n.call(i,s)&&i[s]&&e.push(s);else e.push(i.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},54098:function(e,t){var i="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var i="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function _(e){var t=new FileReader,i=f(t);return t.readAsArrayBuffer(e),i}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var e,t,i,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,i=f(t),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),u(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var i,n,a=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(i=t.method||this.method||"GET",n=i.toUpperCase(),m.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),a=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,i){return new Promise((function(n,r){var o=new y(e,i);if(o.signal&&o.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,i={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),n=i.shift().trim();if(n){var a=i.join(":").trim();t.append(n,a)}})),t)};i.url="responseURL"in s?s.responseURL:i.headers.get("X-Request-URL");var a="response"in s?s.response:s.responseText;n(new E(a,i))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&a&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=h,e.Request=y,e.Response=E),t.Headers=h,t.Request=y,t.Response=E,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},8679:(e,t,i)=>{"use strict";var n=i(59864),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||a}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,i,n){if("string"!=typeof i){if(f){var a=p(i);a&&a!==f&&e(t,a,n)}var o=d(i);u&&(o=o.concat(u(i)));for(var s=l(t),_=l(i),g=0;g<o.length;++g){var v=o[g];if(!(r[v]||n&&n[v]||_&&_[v]||s&&s[v])){var m=h(i,v);try{c(t,v,m)}catch(e){}}}}return t}},69921:(e,t)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,_=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,v=i?Symbol.for("react.block"):60121,m=i?Symbol.for("react.fundamental"):60117,y=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case r:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case _:case l:return e;default:return t}}case a:return t}}}function S(e){return E(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=r,t.Lazy=g,t.Memo=_,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===r},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===_},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===s||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===y||e.$$typeof===b||e.$$typeof===v)},t.typeOf=E},59864:(e,t,i)=>{"use strict";e.exports=i(69921)},88359:(e,t)=>{"use strict";var i=60103,n=60106,a=60107,r=60108,o=60114,s=60109,l=60110,c=60112,d=60113,u=60120,h=60115,p=60116,f=60121,_=60122,g=60117,v=60129,m=60131;
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */if("function"==typeof Symbol&&Symbol.for){var y=Symbol.for;i=y("react.element"),n=y("react.portal"),a=y("react.fragment"),r=y("react.strict_mode"),o=y("react.profiler"),s=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),d=y("react.suspense"),u=y("react.suspense_list"),h=y("react.memo"),p=y("react.lazy"),f=y("react.block"),_=y("react.server.block"),g=y("react.fundamental"),v=y("react.debug_trace_mode"),m=y("react.legacy_hidden")}function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case o:case r:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case n:return t}}}t.isContextConsumer=function(e){return b(e)===l}},72973:(e,t,i)=>{"use strict";e.exports=i(88359)},94500:function(e,t,i){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,i){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function r(e,t){r.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,i){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function l(e,t,i){var n=e.slice((i||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t=void 0===e?"undefined":D(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function d(e,t,i,n,u,h,p){p=p||[];var f=(u=u||[]).slice(0);if(void 0!==h){if(n){if("function"==typeof n&&n(f,h))return;if("object"===(void 0===n?"undefined":D(n))){if(n.prefilter&&n.prefilter(f,h))return;if(n.normalize){var _=n.normalize(f,h,e,t);_&&(e=_[0],t=_[1])}}}f.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":D(e),v=void 0===t?"undefined":D(t),m="undefined"!==g||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(h),y="undefined"!==v||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(h);if(!m&&y)i(new r(f,t));else if(!y&&m)i(new o(f,e));else if(c(e)!==c(t))i(new a(f,e,t));else if("date"===c(e)&&e-t!=0)i(new a(f,e,t));else if("object"===g&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&i(new a(f,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?i(new s(f,b,new o(void 0,e[b]))):d(e[b],t[b],i,n,f,b,p);for(;b<t.length;)i(new s(f,b,new r(void 0,t[b++])))}else{var E=Object.keys(e),S=Object.keys(t);E.forEach((function(a,r){var o=S.indexOf(a);o>=0?(d(e[a],t[a],i,n,f,a,p),S=l(S,o)):d(e[a],void 0,i,n,f,a,p)})),S.forEach((function(e){d(void 0,t[e],i,n,f,e,p)}))}p.length=p.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||i(new a(f,e,t)))}function u(e,t,i,n){return n=n||[],d(e,t,(function(e){e&&n.push(e)}),i),n.length?n:void 0}function h(e,t,i){if(i.path&&i.path.length){var n,a=e[t],r=i.path.length-1;for(n=0;n<r;n++)a=a[i.path[n]];switch(i.kind){case"A":h(a[i.path[n]],i.index,i.item);break;case"D":delete a[i.path[n]];break;case"E":case"N":a[i.path[n]]=i.rhs}}else switch(i.kind){case"A":h(e[t],i.index,i.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=i.rhs}return e}function p(e,t,i){if(e&&t&&i&&i.kind){for(var n=e,a=-1,r=i.path?i.path.length-1:0;++a<r;)void 0===n[i.path[a]]&&(n[i.path[a]]="number"==typeof i.path[a]?[]:{}),n=n[i.path[a]];switch(i.kind){case"A":h(i.path?n[i.path[a]]:n,i.index,i.item);break;case"D":delete n[i.path[a]];break;case"E":case"N":n[i.path[a]]=i.rhs}}}function f(e,t,i){if(i.path&&i.path.length){var n,a=e[t],r=i.path.length-1;for(n=0;n<r;n++)a=a[i.path[n]];switch(i.kind){case"A":f(a[i.path[n]],i.index,i.item);break;case"D":case"E":a[i.path[n]]=i.lhs;break;case"N":delete a[i.path[n]]}}else switch(i.kind){case"A":f(e[t],i.index,i.item);break;case"D":case"E":e[t]=i.lhs;break;case"N":e=l(e,t)}return e}function _(e,t,i){if(e&&t&&i&&i.kind){var n,a,r=e;for(a=i.path.length-1,n=0;n<a;n++)void 0===r[i.path[n]]&&(r[i.path[n]]={}),r=r[i.path[n]];switch(i.kind){case"A":f(r[i.path[n]],i.index,i.item);break;case"D":case"E":r[i.path[n]]=i.lhs;break;case"N":delete r[i.path[n]]}}}function g(e,t,i){e&&t&&d(e,t,(function(n){i&&!i(e,t,n)||p(e,t,n)}))}function v(e){return"color: "+N[e].color+"; font-weight: bold"}function m(e){var t=e.kind,i=e.path,n=e.lhs,a=e.rhs,r=e.index,o=e.item;switch(t){case"E":return[i.join("."),n,"→",a];case"N":return[i.join("."),a];case"D":return[i.join(".")];case"A":return[i.join(".")+"["+r+"]",o];default:return[]}}function y(e,t,i,n){var a=u(e,t);try{n?i.groupCollapsed("diff"):i.group("diff")}catch(e){i.log("diff")}a?a.forEach((function(e){var t=e.kind,n=m(e);i.log.apply(i,["%c "+N[t].text,v(t)].concat(M(n)))})):i.log("—— no diff ——");try{i.groupEnd()}catch(e){i.log("—— diff end —— ")}}function b(e,t,i,n){switch(void 0===e?"undefined":D(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,M(i)):e[n];case"function":return e(t);default:return e}}function E(e){var t=e.timestamp,i=e.duration;return function(e,n,a){var r=["action"];return r.push("%c"+String(e.type)),t&&r.push("%c@ "+n),i&&r.push("%c(in "+a.toFixed(2)+" ms)"),r.join(" ")}}function S(e,t){var i=t.logger,n=t.actionTransformer,a=t.titleFormatter,r=void 0===a?E(t):a,o=t.collapsed,s=t.colors,l=t.level,c=t.diff,d=void 0===t.titleFormatter;e.forEach((function(a,u){var h=a.started,p=a.startedTime,f=a.action,_=a.prevState,g=a.error,v=a.took,m=a.nextState,E=e[u+1];E&&(m=E.prevState,v=E.started-h);var S=n(f),A="function"==typeof o?o((function(){return m}),f,a):o,w=C(p),T=s.title?"color: "+s.title(S)+";":"",I=["color: gray; font-weight: lighter;"];I.push(T),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var k=r(S,w,v);try{A?s.title&&d?i.groupCollapsed.apply(i,["%c "+k].concat(I)):i.groupCollapsed(k):s.title&&d?i.group.apply(i,["%c "+k].concat(I)):i.group(k)}catch(e){i.log(k)}var P=b(l,S,[_],"prevState"),D=b(l,S,[S],"action"),M=b(l,S,[g,_],"error"),O=b(l,S,[m],"nextState");if(P)if(s.prevState){var N="color: "+s.prevState(_)+"; font-weight: bold";i[P]("%c prev state",N,_)}else i[P]("prev state",_);if(D)if(s.action){var L="color: "+s.action(S)+"; font-weight: bold";i[D]("%c action    ",L,S)}else i[D]("action    ",S);if(g&&M)if(s.error){var R="color: "+s.error(g,_)+"; font-weight: bold;";i[M]("%c error     ",R,g)}else i[M]("error     ",g);if(O)if(s.nextState){var x="color: "+s.nextState(m)+"; font-weight: bold";i[O]("%c next state",x,m)}else i[O]("next state",m);c&&y(_,m,i,A);try{i.groupEnd()}catch(e){i.log("—— log end ——")}}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},L,e),i=t.logger,n=t.stateTransformer,a=t.errorTransformer,r=t.predicate,o=t.logErrors,s=t.diffPredicate;if(void 0===i)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var i=e.getState;return function(e){return function(c){if("function"==typeof r&&!r(i,c))return e(c);var d={};l.push(d),d.started=P.now(),d.startedTime=new Date,d.prevState=n(i()),d.action=c;var u=void 0;if(o)try{u=e(c)}catch(e){d.error=a(e)}else u=e(c);d.took=P.now()-d.started,d.nextState=n(i());var h=t.diff&&"function"==typeof s?s(i,c):t.diff;if(S(l,Object.assign({},t,{diff:h})),l.length=0,d.error)throw d.error;return u}}}}var w,T,I=function(e,t){return new Array(t+1).join(e)},k=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3)},P="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},O=[];w="object"===(void 0===i.g?"undefined":D(i.g))&&i.g?i.g:"undefined"!=typeof window?window:{},(T=w.DeepDiff)&&O.push((function(){void 0!==T&&w.DeepDiff===u&&(w.DeepDiff=T,T=void 0)})),t(a,n),t(r,n),t(o,n),t(s,n),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:d,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:_,enumerable:!0},isConflict:{value:function(){return void 0!==T},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach((function(e){e()})),O=null),u},enumerable:!0}});var N={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},L={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,i=e.getState;return"function"==typeof t||"function"==typeof i?A()({dispatch:t,getState:i}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=L,e.createLogger=A,e.logger=R,e.default=R,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5773:e=>{e.exports='<svg height="24px" version="1.1" viewBox="4 6 20 24" width="24px"><use class="ytp-svg-shadow" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ytp-svg-13"></use><path class="ytp-svg-fill" d="M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z M19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z" id="ytp-svg-13"></path><svg class="ytp-svg-sound-mute-group" style="opacity: 0;"><use class="ytp-svg-shadow" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#ytp-svg-14"></use><path class="ytp-svg-fill" d="M 26.11,15.73 24.85,14.5 22.52,16.76 20.20,14.5 18.94,15.73 21.26,18 18.94,20.26 20.20,21.5 22.52,19.23 24.85,21.5 26.11,20.26 23.79,18 l 2.32,-2.26 0,0 z" id="ytp-svg-14"></path></svg></svg>'},53836:e=>{e.exports='<svg width="41px" height="41px" viewBox="0 0 41 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Facebook</title><desc>Created with sketchtool.</desc><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Share-Tools/Small" transform="translate(-193.000000, -3.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="Group-3" transform="translate(174.000000, 3.000000)"><g id="facebook-2" transform="translate(19.000000, 0.000000)"><path d="M20.5,41 C31.8218374,41 41,31.8218374 41,20.5 C41,9.17816263 31.8218374,0 20.5,0 C9.17816263,0 0,9.17816263 0,20.5 C0,31.8218374 9.17816263,41 20.5,41 Z M24.6293176,20.0039078 L21.6133109,20.0039078 L21.6133109,31 L17.1314238,31 L17.1314238,20.0039078 L15,20.0039078 L15,16.4790934 L17.1314238,16.4790934 L17.1314238,14.1891364 C17.1314238,12.5556858 17.9738837,10 21.6470093,10 L24.9663016,10 L24.9663016,13.4388433 L22.5400168,13.4388433 C22.2678957,13.4246304 22.0032383,13.5243373 21.8188466,13.7105368 C21.6344549,13.8967363 21.5497517,14.1498151 21.5880371,14.4001563 L21.5880371,16.4790934 L25,16.4790934 L24.6293176,20.0039078 Z" id="facebook"></path></g></g></g></g></svg>'},56904:e=>{e.exports='<svg width="24" height="24" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xlink="http://www.w3.org/1999/xlink"><metadata><rdf:RDF><cc:Work rdf:about><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc><dc:title></dc></cc:Work></rdf:RDF></metadata><defs><path id="bookmark-filled-medium-a" d="m16 2c1.1046 0 2 0.89543 2 2v18h-0.63893l-5.3518-3.7988-5.3391 3.7541h-0.67018v-17.955c0-1.1046 0.89543-2 2-2h8z"></path></defs><use fill="#ffffff" fill-rule="evenodd" xlink:href="#bookmark-filled-medium-a"></use></svg>'},72793:e=>{e.exports='<svg width="24" height="24" version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xlink="http://www.w3.org/1999/xlink"><metadata><rdf:RDF><cc:Work rdf:about><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc><dc:title></dc></cc:Work></rdf:RDF></metadata><defs><path id="bookmark-stroke-medium-a" d="m16 2c1.1046 0 2 0.89543 2 2v18h-0.63893l-5.3518-3.7988-5.3391 3.7541h-0.67018v-17.955c0-1.1046 0.89543-2 2-2h8zm0 1h-8c-0.51284 0-0.93551 0.38604-0.99327 0.88338l-0.0067277 0.11662v16.5l5.012-3.5232 4.988 3.5402v-16.517c0-0.51284-0.38604-0.93551-0.88338-0.99327l-0.11662-0.0067277z"></path></defs><use fill="#ffffff" fill-rule="evenodd" xlink:href="#bookmark-stroke-medium-a"></use></svg>'},62269:e=>{e.exports='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Closed Captions Inactive</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/CC/Inactive" fill="#FFFFFF" fill-rule="nonzero"><path d="M26,4 L2,4 L2,22 L7,22 L7,26 L12,22 L26,22 L26,4 Z M24,20 L4,20 L4,6 L24,6 L24,20 Z M20,17 C19.77858,17 19.4452467,17 19,17 C16,17 15,15 15,13 C15,11 16,9 19,9 C19.5054152,9 19.8387485,9 20,9 L20,11 C19,11 17,11 17,13 C17,15 19,15 20,15 L20,17 Z M13,17 C12.77858,17 12.4452467,17 12,17 C9,17 8,15 8,13 C8,11 9,9 12,9 C12.5054152,9 12.8387485,9 13,9 L13,11 C12,11 10,11 10,13 C10,15 12,15 13,15 L13,17 Z" id="CC"></path></g></g></svg>'},60368:e=>{e.exports='<title>Pause</title><svg width="16px" height="22px" viewBox="0 0 20 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Play/Pause" fill="#FFFFFF" fill-rule="nonzero"><path d="M0,25 L0,3 L6,3 L6,25 L0,25 Z M11,25 L11,3 L17,3 L17,25 L11,25 Z" id="Combined-Shape"></path></g></g></svg>'},16595:e=>{e.exports='<svg width="16px" height="22px" viewBox="0 0 20 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Play</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Play/Play" fill="#FFFFFF" fill-rule="nonzero"><polyline id="Play" points="0 2 0 26 20 13.4528 0 2"></polyline></g></g></svg>'},83185:e=>{e.exports='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Share</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Share" fill="#FFFFFF" fill-rule="nonzero"><path d="M16,4 L16,9 L13,9 C9,9 3,12.3958048 3,22 C3,22 4,22 4,22 C4,22 5.45666691,16 11,16 L16,16 L16,22 L26,13 L16,4 Z" id="Path"></path></g></g></svg>'},28589:e=>{e.exports='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Mute</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Volume/Mute" fill="#FFFFFF" fill-rule="nonzero"><path d="M7.32880533,9.11111111 L14.0960366,3 L15.1884611,3 L15.1884611,25 L14.0960366,25 L7.32880533,18.8546667 L2.97844238,18.8546667 C2.70593076,18.8892622 2.43326743,18.7916893 2.24290517,18.5914537 C2.05254291,18.391218 1.96683342,18.1118307 2.01169505,17.8377778 L2.01169505,10.128 C1.96683342,9.85394708 2.05254291,9.57455976 2.24290517,9.37432412 C2.43326743,9.17408847 2.70593076,9.07651553 2.97844238,9.11111111 L7.32880533,9.11111111 Z M22.5676418,14 L25,16.4142136 L23.5751576,17.8284271 L21.1427994,15.4142136 L18.7104412,17.8284271 L17.2855987,16.4142136 L19.7179569,14 L17.2855987,11.5857864 L18.7104412,10.1715729 L21.1427994,12.5857864 L23.5751576,10.1715729 L25,11.5857864 L22.5676418,14 Z" id="Volume"></path></g></g></svg>'},89631:e=>{e.exports='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Sound On</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Volume/Sound-On" fill="#FFFFFF" fill-rule="nonzero"><path d="M7.28905409,9.11111111 L14.0058039,3 L15.0900792,3 L15.0900792,25 L14.0058039,25 L7.28905409,18.8546667 L2.9711435,18.8546667 C2.70066473,18.8892622 2.43003539,18.7916893 2.24109317,18.5914537 C2.05215095,18.391218 1.96708083,18.1118307 2.01160781,17.8377778 L2.01160781,10.128 C1.96708083,9.85394708 2.05215095,9.57455976 2.24109317,9.37432412 C2.43003539,9.17408847 2.70066473,9.07651553 2.9711435,9.11111111 L7.28905409,9.11111111 Z M21.3784679,21.4376257 L21.6473569,21.0690761 C23.1764535,18.9732373 24,16.5399204 24,14 C24,11.4600796 23.1764535,9.02676274 21.6473569,6.93092392 L21.3784679,6.56237426 L22.8492845,5.26760137 L23.1738214,5.69974676 C25.0062579,8.1397748 26,11.0044256 26,14 C26,16.9955744 25.0062579,19.8602252 23.1738214,22.3002532 L22.8492845,22.7323986 L21.3784679,21.4376257 Z M17.704601,17.5721503 L17.9772048,17.1731776 C18.6483088,16.1909752 19,15.1126779 19,14 C19,12.8873221 18.6483088,11.8090248 17.9772048,10.8268224 L17.704601,10.4278497 L19.2389389,9.30076441 L19.5348499,9.70435344 C20.48979,11.0067833 21,12.4746927 21,14 C21,15.5253073 20.48979,16.9932167 19.5348499,18.2956466 L19.2389389,18.6992356 L17.704601,17.5721503 Z" id="Volume"></path></g></g></svg>'},71072:e=>{e.exports='<svg width="41px" height="41px" viewBox="0 0 41 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Twitter</title><desc>Created with sketchtool.</desc><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Share-Tools/Small" transform="translate(-280.000000, -3.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="Group-4" transform="translate(261.000000, 3.000000)"><g id="twitter-2" transform="translate(19.000000, 0.000000)"><path d="M20.5,41 C31.8218374,41 41,31.8218374 41,20.5 C41,9.17816263 31.8218374,0 20.5,0 C9.17816263,0 0,9.17816263 0,20.5 C0,31.8218374 9.17816263,41 20.5,41 Z M28.8878177,16.9914714 L28.8878177,17.5117273 C28.8878177,22.8507464 24.7773883,29 17.266433,29 C15.0406158,28.9997821 12.8630788,28.3685169 11,27.1833689 C11.3229742,27.2188708 11.647806,27.2359576 11.9728309,27.2345416 C13.8142019,27.2426377 15.6036642,26.6411222 17.0473269,25.5287847 C15.3014982,25.4648489 13.7888941,24.3317766 13.2787029,22.7057571 C13.5331575,22.7510116 13.791287,22.7738475 14.0499562,22.7739873 C14.4143875,22.7735026 14.7770536,22.7247247 15.1279579,22.628998 C13.2095189,22.2327674 11.8406388,20.5801033 11.8501315,18.671642 L11.8501315,18.6289981 C12.4152302,18.940806 13.0500517,19.1135464 13.6993865,19.1321964 C11.8998965,17.9298176 11.350723,15.5843096 12.4373357,13.7420046 C14.4948277,16.2558532 17.5616482,17.7899922 20.8597721,17.9552241 C20.7888495,17.6530764 20.7535646,17.3440438 20.7546012,17.0341154 C20.7400195,14.8235531 22.5671829,13.0187685 24.8387379,13.0000003 C25.9709047,12.9995619 27.0515495,13.4604156 27.8185802,14.2707892 C28.7470872,14.0956075 29.6369313,13.7636647 30.4478528,13.289979 C30.1460477,14.2215957 29.5078215,15.015366 28.6511832,15.5245205 C29.4628438,15.4280487 30.2547824,15.2123781 31,14.8848617 C30.432782,15.7056959 29.7171122,16.4194776 28.8878177,16.9914714 Z" id="twitter"></path></g></g></g></g></svg>'},1122:e=>{e.exports='<svg width="21px" height="21px" viewBox="0 0 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Close</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.7"><g id="close" fill="#FFFFFF"><polygon id="Path" points="10.5 8.75 19.25 0 21 1.75 12.25 10.5 21 19.25 19.25 21 10.5 12.25 1.75 21 0 19.25 8.75 10.5 0 1.75 1.75 1.51121399e-15"></polygon></g></g></svg>'},21887:e=>{e.exports='<svg width="41px" height="41px" viewBox="0 0 41 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Embed</title><desc>Created with sketchtool.</desc><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Share-Tools/Small" transform="translate(-106.000000, -3.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="Group-2" transform="translate(87.000000, 3.000000)"><g id="embed-2" transform="translate(19.000000, 0.000000)"><path d="M20.5,41 C31.8218374,41 41,31.8218374 41,20.5 C41,9.17816263 31.8218374,0 20.5,0 C9.17816263,0 0,9.17816263 0,20.5 C0,31.8218374 9.17816263,41 20.5,41 Z M15,25 L7,20.8333333 L7,19.1666667 L15,15 L15,17.5 L9.66666667,20 L15,22.5 L15,25 Z M26,15 L34,19.1666667 L34,20.8333333 L26,25 L26,22.5 L31.3333333,20 L26,17.5 L26,15 Z M25,9 L18.7,31 L16,31 L22.3,9 L25,9 Z" id="embed"></path></g></g></g></g></svg>'},4161:e=>{e.exports='<svg width="41px" height="41px" viewBox="0 0 41 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Link</title><desc>Created with sketchtool.</desc><g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Share-Tools/Small" transform="translate(-19.000000, -3.000000)" fill="#FFFFFF"><g id="Group" transform="translate(0.000000, 3.000000)"><g id="link-2" transform="translate(19.000000, 0.000000)"><path d="M20.5,41 C31.8218374,41 41,31.8218374 41,20.5 C41,9.17816263 31.8218374,0 20.5,0 C9.17816263,0 0,9.17816263 0,20.5 C0,31.8218374 9.17816263,41 20.5,41 Z M29.1482244,10 L31,11.8517601 L23.8517756,19 L22,17.1482399 L29.1482244,10 Z M17.1482244,22 L19,23.8517601 L11.8517756,31 L10,29.1482399 L17.1482244,22 Z M11.6250344,24 L9.76878951,22.1436387 C8.74361379,21.1183986 8.74357389,19.4561959 9.76964768,18.4300578 L18.4304073,9.76875462 C19.456057,8.74304058 21.1206655,8.7447425 22.1437552,9.7678964 L24,11.6242577 L22.1437552,13.4806191 L20.905613,12.2423992 C20.5642443,11.9010091 20.0123957,11.8993896 19.6682227,12.2435842 L12.244322,19.6679508 C11.9022989,20.0099954 11.8989297,20.5611898 12.243137,20.9054188 L13.4812792,22.1436387 L11.6250344,24 Z M29.3749656,17 L31.2312105,18.8563613 C32.2563862,19.8816014 32.2564261,21.5438041 31.2303523,22.5699422 L22.5695927,31.2312454 C21.543943,32.2569594 19.8793345,32.2552575 18.8562448,31.2321036 L17,29.3757423 L18.8562448,27.5193809 L20.094387,28.7576008 C20.4357557,29.0989909 20.9876043,29.1006104 21.3317773,28.7564158 L28.755678,21.3320492 C29.0977011,20.9900046 29.1010703,20.4388102 28.756863,20.0945812 L27.5187208,18.8563613 L29.3749656,17 Z" id="link"></path></g></g></g></g></svg>'},11107:e=>{e.exports='<svg x="0px" y="0px" viewBox="0 0 60 60"><mask id="loading-mask-top-l" maskUnits="userSpaceOnUse"><rect x="0" y="30" width="60" height="30" fill="white"></rect></mask><circle cx="30" cy="30" r="29" stroke="#0294E8" stroke-width="2" fill="transparent" mask="url(#loading-mask-top-l)"></circle><mask id="loading-mask-bottom-l" maskUnits="userSpaceOnUse"><rect x="0" y="0" width="60" height="30" fill="white"></rect></mask><circle cx="30" cy="30" r="29" stroke="#666666" stroke-width="2" fill="transparent" mask="url(#loading-mask-bottom-l)"></circle></svg>'},62431:e=>{e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space="preserve"><g id="XMLID_2_" opacity="1"><path fill="#FFFFFF" d="M26,51.5C11.9,51.5,0.5,40.1,0.5,26C0.5,11.9,11.9,0.5,26,0.5c14.1,0,25.5,11.4,25.5,25.5C51.5,40.1,40.1,51.5,26,51.5z"></path><path fill="#FFFFFF" d="M26,1c13.8,0,25,11.2,25,25S39.8,51,26,51S1,39.8,1,26S12.2,1,26,1 M26,0C11.7,0,0,11.7,0,26s11.7,26,26,26 s26-11.7,26-26S40.3,0,26,0L26,0z"></path></g><polygon id="XMLID_1_" fill="#333333" points="19.6,37.5 19.6,14.5 37.8,25.5 "></polygon></svg>'},42238:function(e,t,i){var n;!function(a,r){"use strict";var o="function",s="undefined",l="object",c="string",d="model",u="name",h="type",p="vendor",f="version",_="architecture",g="console",v="mobile",m="tablet",y="smarttv",b="wearable",E="embedded",S="Amazon",A="Apple",w="ASUS",T="BlackBerry",I="Firefox",k="Google",C="Huawei",P="LG",D="Microsoft",M="Motorola",O="Opera",N="Samsung",L="Sony",R="Xiaomi",x="Zebra",V="Facebook",F=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},B=function(e,t){return typeof e===c&&-1!==U(t).indexOf(U(e))},U=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},j=function(e,t){for(var i,n,a,s,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(i=n=0;i<h.length&&!c;)if(c=h[i++].exec(e))for(a=0;a<p.length;a++)d=c[++n],typeof(s=p[a])===l&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,d):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=d?d.replace(s[1],s[2]):r:this[s[0]]=d?s[1].call(this,d,s[2]):r:4===s.length&&(this[s[0]]=d?s[3].call(this,d.replace(s[1],s[2])):r):this[s]=d||r;u+=2}},K=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(B(t[i][n],e))return"?"===i?r:i}else if(B(t[i],e))return"?"===i?r:i;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,O]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[u,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,V],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,U]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,N],[h,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,N],[h,v]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[p,A],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,A],[h,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,C],[h,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[d,[p,C],[h,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,R],[h,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,R],[h,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,M],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,M],[h,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,P],[h,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,P],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[h,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[h,v]],[/(pixel c)\b/i],[d,[p,k],[h,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,k],[h,v]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,L],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,L],[h,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,S],[h,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,S],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,T],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,w],[h,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,w],[h,v]],[/(nexus 9)/i],[d,[p,"HTC"],[h,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,"Sharp"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,v]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,m]],[/(surface duo)/i],[d,[p,D],[h,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,v]],[/(u304aa)/i],[d,[p,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,m]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,m]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,m]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,m]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,m]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,m]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,m]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,v]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,m]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,m]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,m]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[h,m]],[/(sprint) (\w+)/i],[p,d,[h,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,D],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,x],[h,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,x],[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,g]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[d,[p,L],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,D],[h,g]],[/smart-tv.+(samsung)/i],[p,[h,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,N],[h,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,P],[h,y]],[/(apple) ?tv/i],[p,[d,"Apple TV"],[h,y]],[/crkey/i],[[d,"Chromecast"],[p,k],[h,y]],[/droid.+aft(\w)( bui|\))/i],[d,[p,S],[h,y]],[/\(dtv[\);].+(aquos)/i],[d,[p,"Sharp"],[h,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,H],[d,H],[h,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,y]],[/((pebble))app/i],[p,d,[h,b]],[/droid.+; (glass) \d/i],[d,[p,k],[h,b]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,x],[h,b]],[/(quest( 2)?)/i],[d,[p,V],[h,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,m]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,K,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,K,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,f]]},W=function(e,t){if(typeof e===l&&(t=e,e=r),!(this instanceof W))return new W(e,t).getResult();var i=e||(typeof a!==s&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),n=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(q,t):q;return this.getBrowser=function(){var e,t={};return t.name=r,t.version=r,j.call(t,i,n.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:r,t},this.getCPU=function(){var e={};return e.architecture=r,j.call(e,i,n.cpu),e},this.getDevice=function(){var e={};return e.vendor=r,e.model=r,e.type=r,j.call(e,i,n.device),e},this.getEngine=function(){var e={};return e.name=r,e.version=r,j.call(e,i,n.engine),e},this.getOS=function(){var e={};return e.name=r,e.version=r,j.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===c&&e.length>255?H(e,255):e,this},this.setUA(i),this};W.VERSION="1.0.2",W.BROWSER=F([u,f,"major"]),W.CPU=F([_]),W.DEVICE=F([d,p,h,g,v,y,m,b,E]),W.ENGINE=W.OS=F([u,f]),typeof t!==s?(e.exports&&(t=e.exports=W),t.UAParser=W):i.amdO?(n=function(){return W}.call(t,i,t,e))===r||(e.exports=n):typeof a!==s&&(a.UAParser=W);var G=typeof a!==s&&(a.jQuery||a.Zepto);if(G&&!G.ua){var z=new W;G.ua=z.getResult(),G.ua.get=function(){return z.getUA()},G.ua.set=function(e){z.setUA(e);var t=z.getResult();for(var i in t)G.ua[i]=t[i]}}}("object"==typeof window?window:this)},47470:e=>{"undefined"==typeof _comscore&&(_comscore=[]),function(){var e,t="length",i=self,n=i.encodeURIComponent?encodeURIComponent:escape,a=".scorecardresearch.com",r=Math,o="script",s=/c2=(\d*)&/,l=function(e){if(e){var i,r,o,s=[],l=0,c="";for(var u in e)"string"!=(i=typeof e[u])&&"number"!=i||(s[s[t]]=u+"="+n(e[u]),"c2"==u?c=e[u]:"c1"==u&&(l=1));if(s[t]<=0||""==c)return;if((o=e.options||{}).d=o.d||document,"string"==typeof o.url_append){u=0;for(var h,p=(r=o.url_append.replace(/&amp;/,"&").split("&"))[t];u<p;u++)2==(h=r[u].split("="))[t]&&(s[s[t]]=h[0]+"="+n(h[1]))}(function(e,t){var i,n,a,r,o,s="comScore=",l=document,c=l.cookie,d="",u="indexOf",h="substring",p="length",f=2048,_="&ns_",g=window,v=g.encodeURIComponent||escape;if(c[u](s)+1)for(r=0,o=(a=c.split(";"))[p];r<o;r++)(n=a[r][u](s))+1&&(d="&"+unescape(a[r][h](n+s[p])));(e+=_+"_t="+ +new Date+_+"c="+(l.characterSet||l.defaultCharset||"")+"&c8="+v(l.title)+d+"&c7="+v(l.URL)+"&c9="+v(l.referrer))[p]>f&&e[u]("&")>0&&(i=e[h](0,f-8).lastIndexOf("&"),e=(e[h](0,i)+_+"cut="+v(e[h](i+1)))[h](0,f)),l.images?(n=new Image,g.ns_p||(ns_p=n),"function"==typeof t&&(n.onload=n.onerror=t),n.src=e):l.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")})(["http","s"==o.d.URL.charAt(4)?"s://sb":"://b",a,"/b?",l?"":"c1=2&",s.join("&").replace(/&$/,"")].join(""),(function(){d(this,o)}))}},c=function(e){for(var i=0,n=(e=e||_comscore)[t];i<n;i++)l(e[i]);e=_comscore=[]},d=function(e,t){if(!(e.src.indexOf("c1=2")<0)&&t.d.createElement&&(t.force_script_extension||2==e.width&&e.height>r.round(100*r.random()))){var i=t.d.createElement(o),n=t.d.getElementsByTagName(o)[0],a=[t.script_extension_url||"//app.scorecardresearch.com/s2e/invite","?","c2=",e.src.match(s)[1]].join("");n&&(i.src=a,i.async=!0,n.parentNode.insertBefore(i,n))}};c(),(e=i.COMSCORE)?(e.purge=c,e.beacon=l):COMSCORE={purge:c,beacon:l}}();var t=t||{};t.StreamSense=t.StreamSense||function(){function e(e){s=e}function i(e){e}function n(e,t){var i=e||"",n="undefined",a=r.comScore||r.sitestat||function(e){var t,i,a,l,c,d="comScore=",u=o.cookie,h="",p="indexOf",f="substring",_="length",g=2048,v="&ns_",m=r.encodeURIComponent||escape;if(u[p](d)+1)for(l=0,c=(a=u.split(";"))[_];l<c;l++)(i=a[l][p](d))+1&&(h="&"+unescape(a[l][f](i+d[_])));(e+=v+"_t="+ +new Date+v+"c="+(o.characterSet||o.defaultCharset||"")+h)[_]>g&&e[p]("&")>0&&(t=e[f](0,g-8).lastIndexOf("&"),e=(e[f](0,t)+v+"cut="+m(e[f](t+1)))[f](0,g)),s(e),typeof ns_p===n&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof t!==n){var l=[],c=r.encodeURIComponent||escape;for(var d in t)t.hasOwnProperty(d)&&l.push(c(d)+"="+c(t[d]));/[\?\&]$/.test(i)||(i+="&"),i+=l.join("&")}return a(i)}function a(e,t){for(var i,n=2048,a=r.encodeURIComponent||escape,s=[],l=h.LABELS_ORDER,c=e.split("?"),d=c[0],u=c[1].split("&"),p=0,f=u.length;p<f;p++){var _=u[p].split("="),g=unescape(_[0]),v=unescape(_[1]);g&&(t[g]=v)}var m={};for(p=0,f=l.length;p<f;p++){var y=l[p];t.hasOwnProperty(y)&&(m[y]=!0,s.push(a(y)+"="+a(t[y])))}for(var y in t)m[y]||t.hasOwnProperty(y)&&s.push(a(y)+"="+a(t[y]));return(i=(i=d+"?"+s.join("&"))+(i.indexOf("&c8=")<0?"&c8="+a(o.title):"")+(i.indexOf("&c7=")<0?"&c7="+a(o.URL):"")+(i.indexOf("&c9=")<0?"&c9="+a(o.referrer):"")).length>n&&i.indexOf("&")>0&&(last=i.substr(0,n-8).lastIndexOf("&"),i=(i.substring(0,last)+"&ns_cut="+a(i.substring(last+1))).substr(0,n)),i}var r,o,s=function(e,t){};e((function(e,t){(new Image).src=e,t&&setTimeout(t,0)})),i((function(e,t,i){i&&setTimeout(i,0)})),"undefined"!=typeof window&&"undefined"!=typeof document?(r=window,o=document):(r={},o={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var l=function(){var e={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var i={};for(var n in t)t.hasOwnProperty(n)&&e(t[n])&&(i[n]=t[n]);return i},extend:function(e){var t,i=arguments.length;e=e||{};for(var n=1;n<i;n++)if(t=arguments[n])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getString:function(e,t){var i=String(e);return null==e?t||"na":i},getLong:function(e,t){var i=Number(e);return null==e||isNaN(i)?t||0:i},getInteger:function(e,t){var i=Number(e);return null==e||isNaN(i)?t||0:i},getBoolean:function(e,t){var i="true"==String(e).toLowerCase();return null==e?t||!1:i},isNotEmpty:function(e){return null!=e&&e.length>0},indexOf:function(t,i){var n=-1;return e.forEach(i,(function(e,i){e==t&&(n=i)})),n},forEach:function(e,t,i){try{if("function"==typeof t)if(i=void 0!==i?i:null,"number"!=typeof e.length||void 0===e[0]){var n=void 0!==e.__proto__;for(var a in e)(!n||n&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&t.call(i,e[a],a)}else{a=0;for(var r=e.length;a<r;a++)t.call(i,e[a],a)}}catch(e){}},regionMatches:function(e,t,i,n,a){if(t<0||n<0||t+a>e.length||n+a>i.length)return!1;for(;--a>=0;){if(e.charAt(t++)!=i.charAt(n++))return!1}return!0},size:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t},log:function(e,t){if(void 0!==t&&t){var i=new Date,n=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds();console.log(n,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(t){if(void 0===t)return"undefined";if("string"==typeof t)return t;if("[object Array]"===Object.prototype.toString.call(t))return t.join(",");if(e.size(t)>0){var i="";for(var n in t)t.hasOwnProperty(n)&&(i+=n+":"+t[n]+";");return i}return t.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;e<t;e++){var i=arguments[e];if(i>0)return i}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},filterMap:function(t,i){for(var n in t)-1==e.indexOf(n,i)&&delete t[n]},getKeys:function(e,t){var i,n=[];for(i in e)(!t||t.test(i))&&e.hasOwnProperty(i)&&(n[n.length]=i);return n},getBrowserName:function(){var e,t,i=navigator.userAgent,n=navigator.appName;return-1!=(t=i.indexOf("Opera"))?n="Opera":-1!=(t=i.indexOf("MSIE"))?n="Microsoft Internet Explorer":-1!=(t=i.indexOf("Android"))?n="Android":-1!=(t=i.indexOf("Chrome"))?n="Chrome":-1!=(t=i.indexOf("Safari"))?n="Safari":-1!=(t=i.indexOf("Firefox"))?n="Firefox":-1!=(t=i.indexOf("Windows NT"))?n="Microsoft Internet Explorer":(e=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))&&((n=i.substring(e,t)).toLowerCase()==n.toUpperCase()&&(n=navigator.appName)),n},getBrowserFullVersion:function(){var e,t,i=navigator.userAgent,n=""+parseFloat(navigator.appVersion),a=parseInt(navigator.appVersion,10);return-1!=(e=i.indexOf("Opera"))?(n=i.substring(e+6),-1!=(e=i.indexOf("Version"))&&(n=i.substring(e+8))):-1!=(e=i.indexOf("MSIE"))?n=i.substring(e+5):-1!=(e=i.indexOf("Android"))?n=i.substring(e+8):-1!=(e=i.indexOf("Chrome"))?n=i.substring(e+7):-1!=(e=i.indexOf("Safari"))?(n=i.substring(e+7),-1!=(e=i.indexOf("Version"))&&(n=i.substring(e+8))):-1!=(e=i.indexOf("Firefox"))?n=i.substring(e+8):-1!=(e=i.indexOf("Windows NT"))?(e=i.indexOf("rv:"),n=i.substring(e+3)):i.lastIndexOf(" ")+1<(e=i.lastIndexOf("/"))&&(n=i.substring(e+1)),-1!=(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!=(t=n.indexOf(" "))&&(n=n.substring(0,t)),-1!=(t=n.indexOf(")"))&&(n=n.substring(0,t)),a=parseInt(""+n,10),isNaN(a)&&(n=""+parseFloat(navigator.appVersion)),n}};return e}(),c=function(){var e=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return e[t]}}}(),d=function(){var e=[c.END,c.PLAY,c.PAUSE,c.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return e[t]}}}(),u={ADPLAY:c.AD_PLAY,ADPAUSE:c.AD_PAUSE,ADEND:c.AD_END,ADCLICK:c.AD_CLICK},h={STREAMSENSE_VERSION:"4.1408.29",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",LABELS_ORDER:["c1","c2","ns_site","ns_vsite","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","name","ns_ak","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_type","ns_radio","ns_nc","ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ns_st_pe","ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ct","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","c3","c4","c5","c6","c10","c11","c12","c13","c14","c15","c16","c7","c8","c9"]},p=function(){function e(e,t){var n=t[e];null!=n&&(i[e]=n)}var t,i,n=this,a=0,r=0,o=0,s=0,u=0,h=0;l.extend(this,{reset:function(e){null!=e&&e.length>0?l.filterMap(i,e):i={},i.hasOwnProperty("ns_st_cl")||(i.ns_st_cl="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),n.setPauses(0),n.setStarts(0),n.setBufferingTime(0),n.setBufferingTimestamp(-1),n.setPlaybackTime(0),n.setPlaybackTimestamp(-1)},setLabels:function(e,t){null!=e&&l.extend(i,e),n.setRegisters(i,t)},getLabels:function(){return i},setLabel:function(e,t){var i={};i[e]=t,n.setLabels(i,null)},getLabel:function(e){return i[e]},getClipId:function(){return(void 0===t||null==t)&&n.setClipId("1"),t},setClipId:function(e){t=e},setRegisters:function(t,i){var s=t.ns_st_cn;null!=s&&(n.setClipId(s),delete t.ns_st_cn),null!=(s=t.ns_st_bt)&&(o=Number(s),delete t.ns_st_bt),e("ns_st_cl",t),e("ns_st_pn",t),e("ns_st_tp",t),e("ns_st_ub",t),e("ns_st_br",t),i!=d.PLAYING&&null!=i||null!=(s=t.ns_st_sq)&&(r=Number(s),delete t.ns_st_sq),i!=d.BUFFERING&&null!=(s=t.ns_st_pt)&&(u=Number(s),delete t.ns_st_pt),i!=d.PAUSED&&i!=d.IDLE&&null!=i||null!=(s=t.ns_st_pc)&&(a=Number(s),delete t.ns_st_pc)},createLabels:function(e,t){var i=t||{};return i.ns_st_cn=n.getClipId(),i.ns_st_bt=String(n.getBufferingTime()),e!=c.PLAY&&null!=e||(i.ns_st_sq=String(r)),e!=c.PAUSE&&e!=c.END&&e!=c.KEEP_ALIVE&&e!=c.HEART_BEAT&&null!=e||(i.ns_st_pt=String(n.getPlaybackTime()),i.ns_st_pc=String(a)),l.extend(i,n.getLabels()),i},incrementPauses:function(){a++},incrementStarts:function(){r++},getBufferingTime:function(){var e=o;return s>=0&&(e+=+new Date-s),e},setBufferingTime:function(e){o=e},getPlaybackTime:function(){var e=u;return h>=0&&(e+=+new Date-h),e},setPlaybackTime:function(e){u=e},getPlaybackTimestamp:function(){return h},setPlaybackTimestamp:function(e){h=e},getBufferingTimestamp:function(){return s},setBufferingTimestamp:function(e){s=e},getPauses:function(){return a},setPauses:function(e){a=e},getStarts:function(){return r},setStarts:function(e){r=e}}),i={},n.reset()},f=function(){var e,t,i=this,n=null,a=0,r=0,o=0,s=0,u=0,h=0,f=!1;l.extend(this,{reset:function(e){null!=e&&e.length>0?l.filterMap(t,e):t={},i.setPlaylistId(+new Date+"_"+h),i.setBufferingTime(0),i.setPlaybackTime(0),i.setPauses(0),i.setStarts(0),i.setRebufferCount(0),f=!1},setLabels:function(e,n){null!=e&&l.extend(t,e),i.setRegisters(t,n)},getLabels:function(){return t},setLabel:function(e,t){var n={};n[e]=t,i.setLabels(n,null)},getLabel:function(e){return t[e]},getClip:function(){return n},getPlaylistId:function(){return e},setPlaylistId:function(t){e=t},setRegisters:function(t,i){var n=t.ns_st_sp;null!=n&&(a=Number(n),delete t.ns_st_sp),null!=(n=t.ns_st_bc)&&(o=Number(n),delete t.ns_st_bc),null!=(n=t.ns_st_bp)&&(s=Number(n),delete t.ns_st_bp),null!=(n=t.ns_st_id)&&(e=n,delete t.ns_st_id),i!=d.BUFFERING&&null!=(n=t.ns_st_pa)&&(u=Number(n),delete t.ns_st_pa),i!=d.PAUSED&&i!=d.IDLE&&null!=i||null!=(n=t.ns_st_pp)&&(r=Number(n),delete t.ns_st_pp)},createLabels:function(t,n){var s=n||{};return s.ns_st_bp=String(i.getBufferingTime()),s.ns_st_sp=String(a),s.ns_st_id=String(e),o>0&&(s.ns_st_bc=String(o)),t!=c.PAUSE&&t!=c.END&&t!=c.KEEP_ALIVE&&t!=c.HEART_BEAT&&null!=t||(s.ns_st_pa=String(i.getPlaybackTime()),s.ns_st_pp=String(r)),t!=c.PLAY&&null!=t||i.didFirstPlayOccurred()||(s.ns_st_pb="1",i.setFirstPlayOccurred(!0)),l.extend(s,i.getLabels()),s},incrementStarts:function(){a++},incrementPauses:function(){r++,n.incrementPauses()},setPlaylistCounter:function(e){h=e},incrementPlaylistCounter:function(){h++},addPlaybackTime:function(e){if(n.getPlaybackTimestamp()>=0){var t=e-n.getPlaybackTimestamp();n.setPlaybackTimestamp(-1),n.setPlaybackTime(n.getPlaybackTime()+t),i.setPlaybackTime(i.getPlaybackTime()+t)}},addBufferingTime:function(e){if(n.getBufferingTimestamp()>=0){var t=e-n.getBufferingTimestamp();n.setBufferingTimestamp(-1),n.setBufferingTime(n.getBufferingTime()+t),i.setBufferingTime(i.getBufferingTime()+t)}},getBufferingTime:function(){var e=s;return n.getBufferingTimestamp()>=0&&(e+=+new Date-n.getBufferingTimestamp()),e},setBufferingTime:function(e){s=e},getPlaybackTime:function(){var e=u;return n.getPlaybackTimestamp()>=0&&(e+=+new Date-n.getPlaybackTimestamp()),e},setPlaybackTime:function(e){u=e},getStarts:function(){return a},setStarts:function(e){a=e},getPauses:function(){return r},setPauses:function(e){r=e},getRebufferCount:function(){return o},incrementRebufferCount:function(){o++},setRebufferCount:function(e){o=e},didFirstPlayOccurred:function(){return f},setFirstPlayOccurred:function(e){f=e}}),n=new p,t={},i.reset()},_=function(){var r=function(r,o){function u(e){var t=0;if(null!=ae)for(var i=0;i<ae.length;i++){var n=ae[i],a=n.playingtime;if(!a||e<a){t=n.interval;break}}return t}function p(){m();var e=u(te.getClip().getPlaybackTime());e>0&&(K=setTimeout(v,se>0?se:e));se=0}function _(){m();var e=u(te.getClip().getPlaybackTime());se=e-te.getClip().getPlaybackTime()%e,null!=K&&m()}function g(){se=0,0,le=0}function v(){le++,D(L(c.HEART_BEAT,null)),se=0,p()}function m(){null!=K&&(clearTimeout(K),K=null)}function y(){E(),j=setTimeout(b,re)}function b(){D(L(c.KEEP_ALIVE,null)),ee++,y()}function E(){null!=j&&(clearTimeout(j),j=null)}function S(){w(),Q.isPauseOnBufferingEnabled()&&M(d.PAUSED)&&(H=setTimeout(A,oe))}function A(){Y==d.PLAYING&&(te.incrementRebufferCount(),te.incrementPauses(),D(L(c.PAUSE,null)),ee++,Y=d.PAUSED)}function w(){null!=H&&(clearTimeout(H),H=null)}function T(e){return e==d.PLAYING||e==d.PAUSED}function I(){F&&(clearTimeout(F),F=null)}function k(e){return e==c.PLAY?d.PLAYING:e==c.PAUSE?d.PAUSED:e==c.BUFFER?d.BUFFERING:e==c.END?d.IDLE:null}function C(e,t,i){if(I(),i)F=setTimeout(function(e,t){return function(){C(e,t)}}(e,t),i);else if(function(e){return null!=e&&N()!=e}(e)){var n=N(),a=Z,r=O(t),o=a>=0?r-a:0;(function(e,t){var i=O(t);if(e==d.PLAYING)te.addPlaybackTime(i),_(),E();else if(e==d.BUFFERING)te.addBufferingTime(i),w();else if(e==d.IDLE){var n=l.getKeys(te.getClip().getLabels());te.getClip().reset(n)}})(N(),t),function(e,t){var i=O(t),n=function(e){var t=-1;return e.hasOwnProperty("ns_st_po")&&(t=l.getInteger(e.ns_st_po)),t}(t);$=n,e==d.PLAYING?(p(),y(),te.getClip().setPlaybackTimestamp(i),M(e)&&(te.getClip().incrementStarts(),te.getStarts()<1&&te.setStarts(1))):e==d.PAUSED?M(e)&&te.incrementPauses():e==d.BUFFERING?(te.getClip().setBufferingTimestamp(i),ne&&S()):e==d.IDLE&&g()}(e,t),function(e){e}(N()),function(e){B=e,Z=+new Date}(e);for(var s=0,c=z.length;s<c;s++)z[s](n,e,t,o);P(t),te.setRegisters(t,e),te.getClip().setRegisters(t,e);var u=L(d.toEventType(e),t);l.extend(u,t),M(B)&&(D(u),Y=B,ee++)}}function P(e){var t=e.ns_st_mp;null!=t&&(q=t,delete e.ns_st_mp),null!=(t=e.ns_st_mv)&&(W=t,delete e.ns_st_mv),null!=(t=e.ns_st_ec)&&(ee=Number(t),delete e.ns_st_ec)}function D(e,t){void 0===t&&(t=!0),t&&function(e){G=L(null),l.extend(G,e)}(e);var i=Q.getPixelURL();if(U){if(!function(){var e=U.getAppContext(),t=U.getSalt(),i=U.getPixelURL();return null==e||null==t||0==t.length||null==i||0==i.length}()){var n=de.am,r=de.et,o=n.newApplicationMeasurement(U,r.HIDDEN,e,i);U.getQueue().offer(o)}}else i&&s(a(i,e))}function M(e){return(e!=d.PAUSED&&e!=d.IDLE||Y!=d.IDLE&&null!=Y)&&(e!=d.BUFFERING&&Y!=e)}function O(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=Number(e.ns_ts)),t}function N(){return B}function L(){var e,t;1==arguments.length?(e=d.toEventType(B),t=arguments[0]):(e=arguments[0],t=arguments[1]);var i={};if("undefined"!=typeof document){var n=document;i.c7=n.URL,i.c8=n.title,i.c9=n.referrer}return null!=t&&l.extend(i,t),i.hasOwnProperty("ns_ts")||(i.ns_ts=String(+new Date)),null!=e&&!i.hasOwnProperty("ns_st_ev")&&(i.ns_st_ev=c.toString(e)),Q.isPersistentLabelsShared()&&U&&l.extend(i,U.getLabels()),l.extend(i,Q.getLabels()),R(e,i),te.createLabels(e,i),te.getClip().createLabels(e,i),i.hasOwnProperty("ns_st_mp")||(i.ns_st_mp=q),i.hasOwnProperty("ns_st_mv")||(i.ns_st_mv=W),i.hasOwnProperty("ns_st_ub")||(i.ns_st_ub="0"),i.hasOwnProperty("ns_st_br")||(i.ns_st_br="0"),i.hasOwnProperty("ns_st_pn")||(i.ns_st_pn="1"),i.hasOwnProperty("ns_st_tp")||(i.ns_st_tp="1"),i.hasOwnProperty("ns_st_it")||(i.ns_st_it="c"),i.ns_st_sv=h.STREAMSENSE_VERSION,i.ns_type="hidden",i}function R(e,t){var i=t||{};if(i.ns_st_ec=String(ee),!i.hasOwnProperty("ns_st_po")){var n=$,a=O(i);(e==c.PLAY||e==c.KEEP_ALIVE||e==c.HEART_BEAT||null==e&&B==d.PLAYING)&&(n+=a-te.getClip().getPlaybackTimestamp()),i.ns_st_po=l.getInteger(n)}return e==c.HEART_BEAT&&(i.ns_st_hc=String(le)),i}function x(e){O(e)<0&&(e.ns_ts=String(+new Date))}var V,F,B,U,H,j,K,Y,q,W,G,z,Q=this,X=500,J=null,Z=0,$=0,ee=0,te=null,ie=!0,ne=!0,ae=h.DEFAULT_HEARTBEAT_INTERVAL,re=h.DEFAULT_KEEP_ALIVE_INTERVAL,oe=h.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,se=0,le=0,ce=!1,de={};l.extend(this,{reset:function(e){te.reset(e),te.setPlaylistCounter(0),te.setPlaylistId(+new Date+"_1"),te.getClip().reset(e),null==e||e.isEmpty()?V={}:l.filterMap(V,e),ee=1,le=0,_(),g(),E(),w(),I(),B=d.IDLE,null,Z=-1,Y=null,q=h.DEFAULT_PLAYERNAME,W=h.STREAMSENSE_VERSION,G=null},setPauseOnBufferingInterval:function(e){oe=e},getPauseOnBufferingInterval:function(){return oe},setKeepAliveInterval:function(e){re=e},getKeepAliveInterval:function(){return re},setHeartbeatIntervals:function(e){ae=e},notify:function(){var e,t,i,n;3==arguments.length?(i=arguments[1],n=arguments[2]):(i={},n=arguments[1]),e=k(t=arguments[0]);var a=l.extend({},i);if(x(a),a.hasOwnProperty("ns_st_po")||(a.ns_st_po=l.getInteger(n).toString()),t==c.PLAY||t==c.PAUSE||t==c.BUFFER||t==c.END)Q.isPausePlaySwitchDelayEnabled()&&T(B)&&T(e)&&(B!=d.PLAYING||e!=d.PAUSED||F)?C(e,a,X):C(e,a);else{var r=L(t,a);l.extend(r,a),D(r,!1),ee++}},getLabels:function(){return V},getState:function(){return B},setLabels:function(e){null!=e&&(null==V?V=e:l.extend(V,e))},getLabel:function(e){return V[e]},setLabel:function(e,t){null==t?delete V[e]:V[e]=t},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,i=e.indexOf("?");if(i>=0){if(i<e.length-1){for(var n=e.substring(i+1).split("&"),a=0,r=n.length;a<r;a++){var o=n[a].split("=");2==o.length?Q.setLabel(o[0],t(o[1])):1==o.length&&Q.setLabel(h.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,i+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},isPersistentLabelsShared:function(){return ie},setPersistentLabelsShared:function(e){ie=e},isPauseOnBufferingEnabled:function(){return ne},setPauseOnBufferingEnabled:function(e){ne=e},isPausePlaySwitchDelayEnabled:function(){return ce},setPausePlaySwitchDelayEnabled:function(e){ce=e},setPausePlaySwitchDelay:function(e){e&&e>0&&(X=e)},getPausePlaySwitchDelay:function(){return X},setClip:function(e,t){var i=!1;return B==d.IDLE&&(te.getClip().reset(),te.getClip().setLabels(e,null),t&&te.incrementStarts(),i=!0),i},setPlaylist:function(e){var t=!1;return B==d.IDLE&&(te.incrementPlaylistCounter(),te.reset(),te.getClip().reset(),te.setLabels(e,null),t=!0),t},importState:function(e){reset();var t=l.extend({},e);te.setRegisters(t,null),te.getClip().setRegisters(t,null),P(t),ee++},exportState:function(){return G},getVersion:function(){return h.STREAMSENSE_VERSION},addListener:function(e){z.push(e)},removeListener:function(e){z.splice(l.indexOf(e,z),1)},getClip:function(){return te.getClip()},getPlaylist:function(){return te},setHttpGet:e,setHttpPost:i}),l.extend(this,{adNotify:function(e,t,i){(t=t||{}).ns_st_ad=1,e>=c.AD_PLAY&&e<=c.AD_CLICK&&Q.notify(e,t,i)},customNotify:function(e,t){Q.notify(c.CUSTOM,e,t)},viewNotify:function(e,t){(e=e||Q.getPixelURL())&&n(e,t)}}),t.comScore&&(de=t.comScore.exports,U=de.c()),V={},ee=1,B=d.IDLE,te=new f,H=null,ne=!0,K=null,le=0,g(),j=null,F=null,ce=!1,Y=null,$=0,z=[],Q.reset(),r&&Q.setLabels(r),o&&Q.setPixelURL(o)};return function(e){function i(e,t){return o[c]||a(e,t)}function n(){c=-1;for(var e=0;e<=s;e++)if(o.hasOwnProperty(e)){c=e;break}return t.StreamSense.activeIndex=c,c}function a(e,i){return i=i||null,(e=e||null)&&"object"==typeof e&&(i=e,e=null),o[++s]=new t.StreamSense(i,e),n(),o[s]}function r(){var e=!1,i=c;if("number"==typeof arguments[0]&&isFinite(arguments[0]))i=arguments[0];else if(arguments[0]instanceof t.StreamSense)for(var a in o)if(o[a]===arguments[0]){i=a;break}return o.hasOwnProperty(i)&&(e=o[i],delete o[i],e.reset(),n()),e}var o={},s=-1,c=-1;l.extend(e,{activeIndex:c,newInstance:a,new:a,destroyInstance:r,destroy:r,newPlaylist:function(e){return e=e||{},i().setPlaylist(e),i().getPlaylist()},newClip:function(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=t),i().setClip(e,n),i().getClip()},notify:function(e,t,n){return void 0!==e&&(n=n||null,t=t||{},i().notify(e,t,n))},setLabels:function(e){void 0!==e&&i().setLabels(e)},getLabels:function(){return i().getLabels()},setPlaylistLabels:function(e){void 0!==e&&i().getPlaylist().setLabels(e)},getPlaylistLabels:function(){return i().getPlaylist().getLabels()},setClipLabels:function(e){void 0!==e&&i().getClip().setLabels(e)},getClipLabels:function(){return i().getClip().getLabels()},resetInstance:function(e){return i().reset(e||{})},resetPlaylist:function(e){return i().getPlaylist().reset(e||{})},resetClip:function(e){return i().getClip().reset(e||{})},viewEvent:function(e){return e=e||{},i().viewNotify(null,e)},customEvent:function(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=t),i().customNotify(e,t)},exportState:function(){return i().exportState()},importState:function(e){i().importState(e)}})}(r),r}();return _.AdEvents=u,_.PlayerEvents=c,t.StreamingTag=t.StreamingTag||function(){var e=function(){var e=function(e){function t(e){return l.exists(e)||(e={}),l.exists(e.ns_st_ci)||(e.ns_st_ci="0"),l.exists(e.c3)||(e.c3="*null"),l.exists(e.c4)||(e.c4="*null"),l.exists(e.c6)||(e.c6="*null"),e}function i(e){return s>0&&e>=s?u+=e-s:u=0,u}function n(e){f.getState()!=d.IDLE&&f.getState()!=d.PAUSED?f.notify(c.END,i(e)):f.getState()==d.PAUSED&&f.notify(c.END,u)}function a(e,t,i){if(l.exists(e)&&l.exists(t)&&l.exists(i)){var n=t[e],a=i[e];return l.exists(n)&&l.exists(a)&&n===a}return!1}function r(e,t){n(e),o++,f.setClip({ns_st_cn:o,ns_st_pn:"1",ns_st_ct:"vc",ns_st_tp:"0"}),f.getClip().setLabels(t),h=t,s=e,u=0,f.notify(c.PLAY,u)}var o=0,s=0,u=0,h=null,p=!1,f=new _;l.extend(this,{playAdvertisement:function(){var e=+new Date;n(e),o++;var i=t(null);i.ns_st_cn=o,i.ns_st_pn="1",i.ns_st_ct="va",i.ns_st_tp="1",i.ns_st_ad="1",f.setClip(i),u=0,f.notify(c.PLAY,u),s=e,p=!1},playContentPart:function(e){var i=+new Date;e=t(e),p&&function(e){return a("ns_st_ci",h,e)&&a("c3",h,e)&&a("c4",h,e)&&a("c6",h,e)}(e)?(f.getClip().setLabels(e),f.getState()!=d.PLAYING&&(s=i,f.notify(c.PLAY,u))):r(i,e),p=!0},stop:function(){var e=+new Date;f.notify(c.PAUSE,i(e))}}),function(){if(l.exists(e)&&l.exists(e.customerC2)){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");f.setPixelURL(t+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",e.customerC2),f.setLabel("ns_st_it","r")}}()};return e}();return e}(),_}(),e.exports=t},86752:e=>{!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=e.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,a=i.length,r={};n<a;n++)if((e=i[n])&&e[1]in t){for(n=0;n<e.length;n++)r[i[0][n]]=e[n];return r}return!1}(),r={change:a.fullscreenchange,error:a.fullscreenerror},o={request:function(e){return new Promise(function(i){var r=a.requestFullscreen,o=function(){this.off("change",o),i()}.bind(this);e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[r]():e[r](n?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",o)}.bind(this))},exit:function(){return new Promise(function(e){var i=function(){this.off("change",i),e()}.bind(this);t[a.exitFullscreen](),this.on("change",i)}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,i){var n=r[e];n&&t.addEventListener(n,i,!1)},off:function(e,i){var n=r[e];n&&t.removeEventListener(n,i,!1)},raw:a};a?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[a.fullscreenEnabled])}}}),i?e.exports=o:window.screenfull=o):i?e.exports=!1:window.screenfull=!1}()},91694:()=>{
/*! vidora-client 1.2.7 10-01-2015 */
try{!function(e,t,i){function n(e){oe.console&&console.log&&console.log(e)}function a(e){oe.console&&console.error&&console.error(e)}function r(e){throw new Error(e)}function o(e,t){return e.forEach(t)}function s(e,t){return e.map(t)}function l(e){return String(e)}function c(e){return void 0===e}function d(e){return null===e}function u(e){return c(e)||d(e)}function h(e){return!d(e)&&"object"==typeof e}function p(e){return!u(e)&&e.constructor===Array}function f(e,t){return u(e)?t:e}function _(e,t){var i=f(e,{}),n=f(t,{});for(var a in n)i[a]=n[a];return i}function g(e){var t=f(e,{});return h(t)||r("Options should be an object."),t}function v(e){return JSON.parse(e)}function m(e){return JSON.stringify(e)}function y(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}function b(e){var t=[];for(var i in e){var n=e[i],a=c(n)?[i]:[i,n];t.push(a)}t.sort((function(e,t){return function(e,t){return t>e?-1:e>t?1:0}(e,t)}));var r=s(t,(function(e){return s(e,y).join("=")}));return r.join("&")}function E(){return(new Date).getTime()}function S(e,t){return e.indexOf(t)>=0}function A(){return Math.random()}function w(){return Math.floor(65536*A())}function T(){var e=s(de(10),(function(e){var t=(e>>1).toString(32);return ue.slice(t.length)+t}));return e.join("")}function I(e,t){return function(e,t,i){try{return e.setItem(t,m(i)),!0}catch(e){return a(e),!1}}(he,e,t)}function k(e){return function(e,t){var i=e.getItem(t);return u(i)?null:v(i)}(he,e)}function C(e){!function(e,t){e.removeItem(t)}(he,e)}function P(e){!function(e,t){for(var i=0;i<e.length;i++)t(e.key(i))}(he,e)}function D(){return E()+":"+A()}function M(e){return e+ye}function O(e){return k(e)}function N(e){C(e),setTimeout((function(){C(e)}),100)}function L(e){return k(e)}function R(e){var t=M(e);C(e),N(t)}function x(e,t,i){var n=me+D(),a=function(e){var t=M(e),i=0;return setInterval((function(){I(t,i+=1)}),ge)}(n);return function(e,t){I(e,t)}(n,{data:e,guid:i,retry:0}),{key:n,guid:i,clock:a}}function V(){var e={};return P((function(t){(function(e){return 0===e.indexOf(me)&&-1!==e.indexOf(ye)})(t)&&(e[t]=O(t))})),e}function F(){var e=[];return P((function(t){(function(e){return 0===e.indexOf(me)&&-1===e.indexOf(ye)})(t)&&e.push(t)})),e}function B(e,t,i){n("XHR Request Succeded: "+i.url)}function U(e,t,i){a("XHR Request Failed: "+i.url+" "+e)}function H(e,t,i){a("XHR Timeout: "+i.url)}function j(e){return e}function K(e){return e}function Y(e,t){var i=function(e,t,i){var n=new XMLHttpRequest;n.open(e,t.url,i);var a="onSuccess"in t?t.onSuccess:B,r="onError"in t?t.onError:U,o="onTimeout"in t?t.onTimeout:H,s="unmarshall"in t?t.unmarshall:j;return"crossDomainCredentials"in t&&(n.withCredentials=!0===t.crossDomainCredentials),"timeoutMs"in t&&(n.timeout=t.timeoutMs,n.ontimeout=function(){o.call({},t)}),n.onload=function(){n.readyState===Ee&&200===n.status?a.call({},s(n.responseText),n.status,t):r.call({},n.statusText,n.status,n.readyState,t)},n.onerror=function(){var e="Unknown Error.";u(n.status)&&u(n.statusText)?e="Unknown Error.":"statusText"in n&&(e=n.statusText),r.call({},e,n.status,n.readyState,t)},n}(e,t,!0);if("data"in t){var n="marshall"in t?t.marshall:K;"dataType"in t&&i.setRequestHeader("Content-type",t.dataType),i.send(n(t.data))}else i.send();return i}function q(e){Y("GET",e)}function W(e,t){delete oe[Ae][t],we.removeChild(e)}function G(e){var t="cb_"+E().toString(16)+"_"+A().toString(16),i=se.createElement("script");oe[Ae][t]=function(n){W(i,t),e.onSuccess.call({},n,Te,e)};var n=function(){t in oe[Ae]&&(W(i,t),e.onError.call({},"jsonp error",Ie,0,Se,e))};i.onerror=n,i.onload=n,i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&n()},i.type="text/javascript",i.src=e.url+"&format=jsonp&callback="+encodeURIComponent(t),we.appendChild(i)}function z(){}function Q(e,t){if(_(t,De),t.data.guid=e.guid,!u(le[ke])&&u(t.onSuccess)){var i=function(e,t){return le[ke](e,t)}(t.url,t.marshall(t.data));i&&Le(e)}else{var n=t.onSuccess||z;t.onSuccess=function(){Le(e),n()},function(e){Y("POST",e)}(t)}}function X(e,t,i){var n=g(i),a=function(e,t,i){var n=u(i._baseURI)?e._apiHost:i._baseURI,a=_(_({api_key:e.token},i.query),i._params),r=y(e.getUserId()),o=t.replace("%user_id%",r);return n+"/"+e.apiVersion+o+"?"+b(a)}(e,t,n),r={url:a};_(r,Me),"success"in n&&(r.onSuccess=n.success),"error"in n&&(r.onError=n.error);var o=function(){var e=le.userAgent;return S(e,"MSIE ")||S(e,"Trident/")||S(e,"Edge/")}()?G:q;o(r)}function J(e,t){return function(e){return"string"==typeof e}(e)?e:t(e)}function Z(e,t){var i=s(t,(function(e){return e[0]}));!function(e,t,i){var n=g(i),a=_({api_key:e.token},n._params),r={url:f(n._baseURI,e._analyticsHost)+"/"+e.apiVersion+"/validate?"+b(a),data:{data:t}},o=Ne(r);"success"in n&&(r.onSuccess=n.success),Q(o,r)}(e,i)}function $(e,t,i,n){n.query=function(e,t){if(u(e))return e;for(var i={},n=0;n<t.length;n++)t[n]in e&&(i[t[n]]=e[t[n]]);return i}(n.query,i),X(e,t,n)}function ee(e,t,i){e in i&&(t[e]=i[e])}function te(e){u(e)?r("Vidora API constructed without any options."):h(e)?"apiKey"in e||r("Vidora API constructed without an API Key"):r("Vidora API should be constructed with an option object.");var t=_({},e);this.token=t.apiKey,this.apiVersion="v1";var i=this;this._queue=function(e,t,i){function n(){e(a),a=[]}var a=[],r=setTimeout((function(){}),0);return{add:function(e){clearTimeout(r),a.push(e),a.length>=i?n():r=setTimeout(n,t)},flush:function(){clearTimeout(r),n()}}}((function(e){Z(i,e)}),500,30),this._analyticsHost=Ce,this._apiHost=Pe,this._sendMode=Oe,this._build=re,this._userId=null,Re(Q)}function ie(e){e.call({},Ke,Ye)}function ne(e){var t=e[0],i=e.slice(1);t in Ke||r("Invalid api call '"+t+"'"),Ke[t].apply(Ke,i)}function ae(e){p(e)?ne(e):function(e){return"function"==typeof e}(e)?ie(e):r("typeof call item '"+typeof e+"' not supported.")}var re={version:"1.2.7",rev:"70defd4dcf46f60d01ad6075900d8e0381a4299b"},oe=window,se=document,le=navigator,ce=1,de=!c(oe.Uint16Array)&&!c(oe.crypto)?function(e){var t=new Uint16Array(e);crypto.getRandomValues(t);for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i}:function(e){for(var t=[],i=0;ce>i&&e>i;i++)t.push(65535&(w()^E()));for(;e>i;i++)t.push(w());return t},ue="000",he=(oe.sessionStorage,oe.localStorage),pe=50,fe=pe,_e=3,ge=5,ve=3*ge,me="vidoraRequest:",ye=".clock",be=!1,Ee=4,Se=2,Ae="_vidora_jsonp";oe[Ae]=oe[Ae]||{};var we=se.head||se.body||se,Te=-200,Ie=-400,ke="sendBeacon",Ce="https://a.vidora.com",Pe="//api.vidora.com",De={marshall:m,dataType:"text/plain"},Me={unmarshall:v},Oe=0,Ne=z,Le=z,Re=z;(function(e){var t="string"==typeof e.setItem;return!u(e)&&!t})(he)&&(Ne=function(e){return x(e,0,D())},Le=function(e){var t=e.key;(function(e,t){var i=M(e);t&&clearInterval(t),N(i)})(t,e.clock),R(t)},Re=function(e,t){if(!be){be=!0;var i=F(),n=V();!function(e){if(e.length>pe){e.sort();for(var t=e.length-fe,i=0;t>i;i++)R(e.shift())}}(i);setTimeout((function(){!function(e){!function(e,t){for(var i in e)t(i)}(e,(function(t){var i=e[t],n=O(t);(u(n)||n===i)&&(delete e[t],N(t))}))}(n);var a=function(e,t){var i=[];return o(t,(function(t){M(t)in e||i.push(t)})),i}(n,i);(function(e,t){var i=[];o(e,(function(e){var t=L(e);if(u(t));else{var n=t.retry+1;if(_e>n){var a=x(t.data,0,t.guid);i.push(a)}}R(e)})),o(i,(function(e){var i=L(e.key);t(e,i.data,i.guid)}))})(a,e),be=!1,t&&t()}),ve)}}),te.prototype.config=function(e){var t=g(e);"analyticsHost"in t&&(this._analyticsHost=t.analyticsHost),"apiHost"in t&&(this._apiHost=t.apiHost)},te.prototype.send=function(e,t,i){for(var n=p(t)?t:[t],a=this.getUserId(),o=this.getSessionId(),s=0;s<n.length;s++){var c=n[s],d=g(i),h={type:J(e,l),user_id:J(a,l),session_id:J(o,l)};u(c)||(h.content_id=J(c,l)),_(h,d.params);var f={};ee("success",f,d),ee("error",f,d),ee("timeout",f,d);var v=this._sendMode;switch(("click"===h.type||d.quicksend)&&(v=1),v){case 1:this._queue.add([h,f]),this._queue.flush();break;case Oe:this._queue.add([h,f]);break;default:r()}}};var xe="/users/%user_id%",Ve="/groups";te.prototype.getItems=function(e){$(this,xe+"/recommendations",["category","type","limit"],e)};var Fe=["group_ids"];te.prototype.getGroupRankings=function(e){$(this,xe+Ve+"/rankings",Fe,e)},te.prototype._pncItems=function(e){X(this,"/pnc"+xe+Ve+"/items",e)};var Be="vidoraUserId";te.prototype.getUUID=function(){var e=function(e){for(var t=se.cookie.split("; "),i=0;i<t.length;i++){var n=t[i],a=n.indexOf("=");if(-1!==a&&n.slice(0,a)===e){var r=n.slice(a+1);return decodeURIComponent(r)}}return null}(Be);return d(e)&&(e=T(),function(e,t,i,n){var a=[];if(a.push(e+"="+encodeURIComponent(t)),i){var r=new Date;r.setTime(r.getTime()+1e3*i);var o="expires="+r.toUTCString();a.push(o)}a.push("path=/"),n&&a.push("domain="+n);var s=a.join("; ");se.cookie=s}(Be,e,5256e3)),e};var Ue=T().slice(0,10);te.prototype.getSessionId=function(){return Ue},te.prototype.setUserId=function(e){this._userId=e},te.prototype.getUserId=function(){return d(this._userId)&&(this._userId=this.getUUID()),this._userId};var He="vidora-client",je=te,Ke=null,Ye={_i:function(e,t){var i=_({apiKey:e},t);Ke=new je(i),n(He+" "+Ke._build.version+" "+Ke._build.rev)},_create:function(e){return new je(e)}};(function(e,t,i){if(e[i]&&!0===e[i]._init)a(He+" included twice!");else{oe=e,se=t;var n=e[i];i in e||(e[i]={}),e[i]._init=!0,e[i].push=ne,e[i].ready=ie,n&&(n.ready=ie,n.push=ne,o(n._q,ae),n=null)}})(e,t,"vidora")}(window,document),e=window,document,t="vidora",(i={_q:[]}).ready=i.push=function(e){i._q.push(e)},t in e||(e[t]=i),e[t].ready((function(e,t){t._i("wsj.E4B14D56D6D304BA4A96A94B14D11AA9",void 0)})),window.vidora.ready((function(e){console.log("Vidora API finished initializing!")}))}catch(e){}var e,t,i}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=n,r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>"v3/js/"+({797:"liveEventController",817:"hls"}[e]||e)+"."+{191:"9ebbb0edce60838d1ddf",797:"5f111d3d255690aaf860",817:"4fbe37cf55287e2e70d1"}[e]+".min.js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="$jQ111:",r.l=(i,n,a,o)=>{if(e[i])e[i].push(n);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=i),e[i]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="https://video-api.wsj.com/api-video/player/",(()=>{var e={179:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var a=new Promise(((i,a)=>n=e[t]=[i,a]));i.push(n[2]=a);var o=r.p+r.u(t),s=new Error;r.l(o,(i=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,n[1](s)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,a,[o,s,l]=i,c=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)l(r)}for(t&&t(i);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunk$jQ111=self.webpackChunk$jQ111||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o={};(()=>{"use strict";r.d(o,{default:()=>Yl});var e={};r.r(e),r.d(e,{adBuffering:()=>Tr,buffering:()=>eo,canPlay:()=>to,dequeuePlaylist:()=>Vr,enableLogging:()=>ao,endVideoPlaybackInit:()=>$r,enterFullScreen:()=>gr,exitFullScreen:()=>vr,hideClickForSound:()=>Hr,hideClosedCaptions:()=>Kr,hideControls:()=>sr,hideCountdown:()=>Br,hideEndscreen:()=>Nr,hideLoadingSpinner:()=>Wr,hideMoreVideosSlide:()=>Mr,hideSavedModal:()=>no,hideShareScreen:()=>Rr,hideThumbnail:()=>Cr,mute:()=>hr,pauseAd:()=>wr,pauseVideo:()=>cr,playAd:()=>Ar,playVideo:()=>lr,replacePlaylist:()=>xr,resize:()=>Ir,setAdError:()=>Xr,setAdInitState:()=>zr,setFocus:()=>Yr,setHlsJsLoadState:()=>Jr,setIMALoadState:()=>Qr,setStickyMode:()=>mr,setVideoApiLoadState:()=>Gr,setVolume:()=>fr,setVolumeControlVisibility:()=>_r,showClickForSound:()=>Ur,showClosedCaptions:()=>jr,showControls:()=>or,showCountdown:()=>Fr,showEndscreen:()=>Or,showLoadingSpinner:()=>qr,showMoreVideosSlide:()=>Dr,showSavedModal:()=>io,showShareScreen:()=>Lr,showThumbnail:()=>kr,startAdMode:()=>yr,startVideoPlaybackInit:()=>Zr,stopAdMode:()=>br,unmute:()=>pr,updateAdDuration:()=>Sr,updateAdProgress:()=>Er,updateDuration:()=>ur,updateProgress:()=>dr,updateVideoData:()=>Pr});r(9384),r(91694);const t=(function(){!function(e){if(void 0===t)var t={};if(void 0===i)var i={};if(void 0===n)var n={};if(n.radio||(n.radio={}),n.plugin||(n.plugin={}),void 0===a)var a={};a.clock||(a.clock={}),function(e){function t(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function i(e,i,n,a,r,o){return t(function(e,t){return e<<t|e>>>32-t}(t(t(i,e),t(a,o)),r),n)}function n(e,t,n,a,r,o,s){return i(t&n|~t&a,e,t,r,o,s)}function a(e,t,n,a,r,o,s){return i(t&a|n&~a,e,t,r,o,s)}function r(e,t,n,a,r,o,s){return i(t^n^a,e,t,r,o,s)}function o(e,t,n,a,r,o,s){return i(n^(t|~a),e,t,r,o,s)}function s(e,i){e[i>>5]|=128<<i%32,e[14+(i+64>>>9<<4)]=i;var s,l,c,d,u,h=1732584193,p=-271733879,f=-1732584194,_=271733878;for(s=0;s<e.length;s+=16)l=h,c=p,d=f,u=_,h=n(h,p,f,_,e[s],7,-680876936),_=n(_,h,p,f,e[s+1],12,-389564586),f=n(f,_,h,p,e[s+2],17,606105819),p=n(p,f,_,h,e[s+3],22,-1044525330),h=n(h,p,f,_,e[s+4],7,-176418897),_=n(_,h,p,f,e[s+5],12,1200080426),f=n(f,_,h,p,e[s+6],17,-1473231341),p=n(p,f,_,h,e[s+7],22,-45705983),h=n(h,p,f,_,e[s+8],7,1770035416),_=n(_,h,p,f,e[s+9],12,-1958414417),f=n(f,_,h,p,e[s+10],17,-42063),p=n(p,f,_,h,e[s+11],22,-1990404162),h=n(h,p,f,_,e[s+12],7,1804603682),_=n(_,h,p,f,e[s+13],12,-40341101),f=n(f,_,h,p,e[s+14],17,-1502002290),h=a(h,p=n(p,f,_,h,e[s+15],22,1236535329),f,_,e[s+1],5,-165796510),_=a(_,h,p,f,e[s+6],9,-1069501632),f=a(f,_,h,p,e[s+11],14,643717713),p=a(p,f,_,h,e[s],20,-373897302),h=a(h,p,f,_,e[s+5],5,-701558691),_=a(_,h,p,f,e[s+10],9,38016083),f=a(f,_,h,p,e[s+15],14,-660478335),p=a(p,f,_,h,e[s+4],20,-405537848),h=a(h,p,f,_,e[s+9],5,568446438),_=a(_,h,p,f,e[s+14],9,-1019803690),f=a(f,_,h,p,e[s+3],14,-187363961),p=a(p,f,_,h,e[s+8],20,1163531501),h=a(h,p,f,_,e[s+13],5,-1444681467),_=a(_,h,p,f,e[s+2],9,-51403784),f=a(f,_,h,p,e[s+7],14,1735328473),h=r(h,p=a(p,f,_,h,e[s+12],20,-1926607734),f,_,e[s+5],4,-378558),_=r(_,h,p,f,e[s+8],11,-2022574463),f=r(f,_,h,p,e[s+11],16,1839030562),p=r(p,f,_,h,e[s+14],23,-35309556),h=r(h,p,f,_,e[s+1],4,-1530992060),_=r(_,h,p,f,e[s+4],11,1272893353),f=r(f,_,h,p,e[s+7],16,-155497632),p=r(p,f,_,h,e[s+10],23,-1094730640),h=r(h,p,f,_,e[s+13],4,681279174),_=r(_,h,p,f,e[s],11,-358537222),f=r(f,_,h,p,e[s+3],16,-722521979),p=r(p,f,_,h,e[s+6],23,76029189),h=r(h,p,f,_,e[s+9],4,-640364487),_=r(_,h,p,f,e[s+12],11,-421815835),f=r(f,_,h,p,e[s+15],16,530742520),h=o(h,p=r(p,f,_,h,e[s+2],23,-995338651),f,_,e[s],6,-198630844),_=o(_,h,p,f,e[s+7],10,1126891415),f=o(f,_,h,p,e[s+14],15,-1416354905),p=o(p,f,_,h,e[s+5],21,-57434055),h=o(h,p,f,_,e[s+12],6,1700485571),_=o(_,h,p,f,e[s+3],10,-1894986606),f=o(f,_,h,p,e[s+10],15,-1051523),p=o(p,f,_,h,e[s+1],21,-2054922799),h=o(h,p,f,_,e[s+8],6,1873313359),_=o(_,h,p,f,e[s+15],10,-30611744),f=o(f,_,h,p,e[s+6],15,-1560198380),p=o(p,f,_,h,e[s+13],21,1309151649),h=o(h,p,f,_,e[s+4],6,-145523070),_=o(_,h,p,f,e[s+11],10,-1120210379),f=o(f,_,h,p,e[s+2],15,718787259),p=o(p,f,_,h,e[s+9],21,-343485551),h=t(h,l),p=t(p,c),f=t(f,d),_=t(_,u);return[h,p,f,_]}function l(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function c(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function d(e){var t,i,n="0123456789abcdef",a="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),a+=n.charAt(t>>>4&15)+n.charAt(15&t);return a}function u(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return l(s(c(e),8*e.length))}(u(e))}function p(e,t){return function(e,t){var i,n,a=c(e),r=[],o=[];for(r[15]=o[15]=void 0,a.length>16&&(a=s(a,8*e.length)),i=0;i<16;i+=1)r[i]=909522486^a[i],o[i]=1549556828^a[i];return n=s(r.concat(c(t)),512+8*t.length),l(s(o.concat(n),640))}(u(e),u(t))}e.md5=function(e,t,i){return t?i?p(t,e):function(e,t){return d(p(e,t))}(t,e):i?h(e):function(e){return d(h(e))}(e)}}(t),function(e){var t={startsWith:function(e,t){return 0==e.indexOf(t)}};e.StringUtils=t}(t),function(e){var t={clone:function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},merge:function(e,i){var n=t.clone(e);for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a]);return n},append:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}};e.ObjectUtils=t}(t),function(e){function t(e){if(null==e)return!0;for(var t=0;t<e.length;++t)if(isNaN(e[t]))return!1;return!0}function i(e,i){if("string"!=typeof e||"string"!=typeof i)return NaN;var n=e.split("."),a=i.split(".");if(!t(n)||!t(a))return NaN;for(var r=Math.max(n.length,a.length),o=0;o<r;++o){var s=null!=n[o]?n[o]:"0",l=null!=a[o]?a[o]:"0";if((s=Number(s))>(l=Number(l)))return 1;if(s<l)return-1}return 0}var n={isGreaterThan:function(e,t){return i(e,t)>0},isGreaterThanEqual:function(e,t){return i(e,t)>=0},isLessThan:function(e,t){return i(e,t)<0},isLessThanEqual:function(e,t){return i(e,t)<=0},isSame:function(e,t){return 0===i(e,t)},isDifferent:function(e,t){return 0!==i(e,t)}};e.VersionUtils=n}(t),function(e){function t(e,t,i){this.fn=e,this.ctx=t,this.params=i}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(n),function(e){function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==e&&e,this._delay=void 0!==t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++)this._queue[e].run();this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var i=e._queue.shift();i?e._runCommand(i,(function(){e._isSuspended||t()})):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function i(){e.run(),null!=t&&t.call(n)}var n=this;if(0==this._lastTs)i();else{var a=(new Date).getTime(),r=a-this._lastTs;this._lastTs=a,r<this._delay?setTimeout(i,this._delay-r):i()}},e.radio.CommandQueue=t}(n),function(e){function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function i(e,i){if(e===i)return!0;for(var n=(e||"").split(t.SEPARATOR),a=(i||"").split(t.SEPARATOR),r=!0,o=0;o<n.length;o++)r=r&&(n[o]===t.WILDCARD||n[o]===a[o]);return r}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(n,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,i){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:i}))},t.prototype.off=function(e,t,i){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!i)return void(this._listeners={});if(e)this._removeListener(e,t,i);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,i)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&i(t,e.name))for(var n=this._listeners[t].slice(0),a=0;a<n.length;a++){var r=n[a];r.fn.call(r.ctx,e)}},t.prototype.comply=function(e,t,i){this._isShutDown||(this._commands[e]={cmd:t,ctx:i})},t.prototype.command=function(e,t){if(!this._isShutDown){var i=this._commands[e];if(!i)return void this._logger.warn(n,"#command > No command handler for: "+e);i.cmd.call(i.ctx,t)}},t.prototype.reply=function(e,t,i){this._isShutDown||(this._requests[e]={fn:t,ctx:i})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(n,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,i){t="function"==typeof t?t:null;var n=this._listeners[e];if(n){if(!n.length||null==t&&!i)return void delete this._listeners[e];for(var a=0;a<n.length;a++){var r=n[a];null!==t&&t!==r.fn||i&&i!==r.ctx||this._listeners[e].splice(a,1)}}};var n="radio::Channel";e.radio.Channel=t}(n),function(e){function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var i=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new i(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(n),function(e){e.extend=function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e}}(n),function(e){function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(n),function(e){function t(){}t.prototype.write=function(e){window.console&&window.console.log&&window.console.log(e)},e.LogWriter=t}(n),function(e){function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(n),function(e){function t(){this._logWriter=new i}var i=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,a,t)},t.prototype.info=function(e,t){this._log(e,n,t)},t.prototype.warn=function(e,t){this._log(e,r,t)},t.prototype.error=function(e,t){this._log(e,o,t)},t.prototype._log=function(e,t,i){if(t==o||this._enabled){var n="",a=new Date;n+="["+a.toTimeString()+"."+function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(a.getMilliseconds())+"] ["+t+"] ",n+="["+e+"] "+i,this._logWriter.write(n)}};var n="INFO",a="DEBUG",r="WARN",o="ERROR";e.Logger=t}(n),function(e){function t(e,t){this._pluginName=e,this._eventName=t}var i=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+i.SEPARATOR+this._eventName},e.Trigger=t}(n),function(e){function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(n),function(e){function t(){this._events={}}t.prototype.addEventListener=function(e,t,i){e&&t&&(i=i||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:i}))},t.prototype.removeEventListener=function(e,t,i){if(e&&t){i=i||window;var n,a,r=!1;for(a in this._events)if(e===a){r=!0;break}if(r){for(n=this._events[a].length-1;n>=0;n--){var o=this._events[a][n];t===o.cb&&i===o.ctx&&this._events[a].splice(n,1)}this._events[a].length||delete this._events[a]}}},t.prototype.dispatchEvent=function(e){var t,i;if(e.name)for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var n=this._events[t].slice(0),a=n.length;for(i=0;i<a;i++)n[i].cb.call(n[i].ctx,e);break}},t.prototype.removeAllListeners=function(e){var t,i;if(e){for(i in this._events)if(this._events.hasOwnProperty(i)){for(t=this._events[i].length-1;t>=0;t--)this._events[i][t].ctx===e&&this._events[i].splice(t,1);this._events[i].length||delete this._events[i]}}else this._events={}},e.EventDispatcher=t}(n),function(e){function t(){}function i(){i.__super__.constructor.call(this),this._connection=null}var n=e.Event,a=e.EventDispatcher;t.GET="GET",i.RESPONSE="response",i.INSTANCE="instance",e.extend(i,a),i.prototype.close=function(){this.removeAllListeners(null)},i.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},i.prototype._createCORSRequest=function(e){var t=null;if(void 0!==window.XMLHttpRequest){var a=new window.XMLHttpRequest;"withCredentials"in a&&(t=a).open(e.method,e.url,!0)}if(null==t&&void 0!==window.XDomainRequest&&(t=new window.XDomainRequest).open(e.method,e.url),t){var r={};r[i.INSTANCE]=this;var o=this;t.onload=function(){if(t.status&&parseInt(t.status,10)>=400)return this.onerror();r[i.RESPONSE]=t.responseText,o.dispatchEvent(new n(n.SUCCESS,r))},t.onerror=function(){o.dispatchEvent(new n(n.ERROR,r))}}return t},i.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[i.RESPONSE]="",t[i.INSTANCE]=this,this.dispatchEvent(new n(n.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=function(e,t){this.url=e||null,this.method=t,this._xmlhttp=null},e.URLLoader=i}(n),function(e){var t="2.2.0.223",i="05c3c4",n={getVersion:function(){return"js-"+t+"-"+i},getMajor:function(){return n.getNumberAtPosition(0)},getMinor:function(){return n.getNumberAtPosition(1)},getMicro:function(){return n.getNumberAtPosition(2)},getPatch:function(){return n.getNumberAtPosition(3)},getBuild:function(){return i},getApiLevel:function(){return 4},getNumberAtPosition:function(e){return t.split(".")[e]}};e.Version=n}(i),function(e){function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(i),function(e){e.HeartbeatConfig=function(){this.debugLogging=!1}}(i),function(e){function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(i),function(e){function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(n),function(e){function t(e,t,i,n){this.trigger=e,this.action=i,this.plugin=t,this._paramMappings={},this.mergeParams(n)}var i=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];this._paramMappings[i.getKeyName()]=i}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var n=new i(e,t);this._paramMappings.hasOwnProperty(n.getKeyName())&&delete this._paramMappings[n.getKeyName()]},e.plugin.Behaviour=t}(n),function(e){function t(e,t,n){this._pluginName=e,this._key=t,this._paramName=n||e+i.SEPARATOR+t}var i=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+i.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(n),function(e){function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new n(this._logger),this._dataChannel=this._radio.channel(o),this._ctrlChannel=this._radio.channel(s)}var i=e.Event,n=e.radio.Radio,a=e.radio.Channel,r=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(l,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,i,n){this._dataChannel.on(e+a.SEPARATOR+t,i,n)},t.prototype.off=function(e,t,i,n){var r=e&&t?e+a.SEPARATOR+t:null;this._dataChannel.off(r,i,n)},t.prototype.trigger=function(e){var t=e.name,i=this._behaviours[t];if(i){var n,a,r,o,s,l={},c={};for(n=0;n<i.length;n++)if(o=(r=i[n]).getParams())for(a=0;a<o.length;a++)l[(s=o[a]).getPluginName()]=l[s.getPluginName()]||[],s.key in l[s.getPluginName()]||l[s.getPluginName()].push(s.getKey());for(var d in l)l.hasOwnProperty(d)&&(c[d]=this.request(d,l[d]));for(n=0;n<i.length;n++){var u={_behaviour:r=i[n],_eventData:e.data||{}};if(o=r.getParams()){for(a=0;a<o.length;a++)u[(s=o[a]).getParamName()]=c[s.getPluginName()]?c[s.getPluginName()][s.getKey()]:null;this.command(r.plugin.getName(),r.action,u)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var i=this._plugins[e];return i&&t&&0!=t.length?i.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var n=new i(t.ERROR,e);this._ctrlChannel.trigger(n)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){for(var e in this._radio.shutdown(),this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,i){this._dataChannel.comply(e.getName()+a.SEPARATOR+t,i,e)},t.prototype.command=function(e,t,i){this._dataChannel.command(e+a.SEPARATOR+t,i)},t.prototype.registerBehaviour=function(e,t,i,n){var a=e.getName(),o=new r(e,t,i,n);this._behaviours[a]=this._behaviours[a]||[],this._behaviours[a].push(o)};var o="data_channel",s="ctrl_channel",l="plugin::PluginManager";e.plugin.PluginManager=t}(n),function(e,t){function i(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new n}var n=e.Logger,a=e.Trigger,r=e.Event,o=t.ErrorInfo;i.INITIALIZED="initialized",i.prototype.configure=function(e){},i.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new o("Invalid state.","Plugin already destroyed."))},i.prototype.setup=function(){this._trigger(i.INITIALIZED),this._isInitialized=!0},i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},i.prototype.enable=function(){this._isEnabled=!0,this._enabled()},i.prototype.disable=function(){this._isEnabled=!1,this._disabled()},i.prototype.getName=function(){return this._name},i.prototype.getLogger=function(){return this._logger},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var i=0;i<e.length;i++){var n=e[i];this._dataResolver.hasOwnProperty(n)&&(t=t||{},"function"==typeof this._dataResolver[n]?t[n]=this._dataResolver[n].call(this):t[n]=this._dataResolver[n])}return t},i.prototype.toString=function(){return"<plugin: "+this._name+">"},i.prototype._enabled=function(){},i.prototype._disabled=function(){},i.prototype._teardown=function(){},i.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},i.prototype._trigger=function(e,t){var i=r.createFromTrigger(new a(this.getName(),e));i.data=t,this._pluginManager.trigger(i)},e.plugin.BasePlugin=i}(n,i),function(e){function t(e,t,i){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount=void 0!==i?i:a,this._nextTickTimestamp=0,this.reset()}function i(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var i=this;this._clock=window.setInterval((function(){i._onTick()}),1e3*r)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-o/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},t.prototype._updateNextTickTimestamp=function(){var e=(new Date).getTime();this._nextTickTimestamp=e+1e3*this.interval-1},i.prototype.createTimer=function(e,i,n){this._timers[e]=new t(e,i,n)},i.prototype.destroyTimer=function(e){delete this._timers[e]},i.prototype.resumeTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(n,"#resumeTimer(name="+e+", reset="+t+")");var i=this._timers[e];i&&(i.isActive=!0,t&&i.reset())},i.prototype.pauseTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(n,"#pauseTimer(name="+e+", reset="+t+")");var i=this._timers[e];i&&(i.isActive=!1,t&&i.reset())},i.prototype.isTimerPaused=function(e){var t=this._timers[e];return!!t&&!t.isActive},i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},i.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(n,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=a&&t.repeatCount--):this.destroyTimer(t.name))}};var n="service.clock::TimerManager",a=-1,r=.25,o=1e3*r;e.clock.TimerDescriptor=t,e.clock.TimerManager=i}(a),function(e,t,i){function n(e){if(n.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new a(this,this._logger),this._setupDataResolver()}var a=i.clock.TimerManager,r=t.StringUtils,o=e.plugin.BasePlugin;e.extend(n,o),n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,l,this._cmdCreate),this._pluginManager.comply(this,d,this._cmdResume),this._pluginManager.comply(this,c,this._cmdPause),this._pluginManager.comply(this,u,this._cmdDestroy)},n.prototype._teardown=function(){this._timerManager.destroy()},n.prototype._cmdCreate=function(e){var t=e[f]||m;this._timerManager.createTimer(e[h],e[p],t)},n.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[h],!!e[g])},n.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[h],!!e[g])},n.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[h])},n.prototype.onTick=function(e,t,i){e+=".tick";var n={};n[h]=e,n[p]=t,n[_]=i,this._trigger(e,n)},n.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[v]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var i=null,n=0;n<t.length;n++){var a=t[n];if(i=i||{},r.startsWith(a,v)){var o=a.split(v+".");o.length>0&&(i[a]=e[v].call(this,o[1]))}}return i}};var s="service.clock",l="create",c="pause",d="resume",u="destroy",h="name",p="interval",f="repeat_count",_="tick",g="reset",v="is_paused",m=-1;i.clock.ClockService=n}(n,t,a),function(e,t,i){function n(e,t){if(this._logger=new a,this._pluginManager=new r(this._logger),this._pluginManager.addPlugin(new o(this._logger)),t)for(var i=0;i<t.length;i++)this._pluginManager.addPlugin(t[i]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var a=e.Logger,r=e.plugin.PluginManager,o=t.clock.ClockService;n.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");e.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},n.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";i.Heartbeat=n}(n,a,i),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=n),e.ADB.va||(e.ADB.va=i),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){if(void 0===t)var t={};!function(e){var t={ASSET_TYPE_VOD:"vod",ASSET_TYPE_LIVE:"live",ASSET_TYPE_LINEAR:"linear"};e.AssetType=t}(t),function(e){function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){function t(){this.id=null,this.name=null,this.length=null,this.position=null,this.granularTracking=!0}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position+", granularTracking="+this.granularTracking},e.AdInfo=t}(t),function(e){function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.mediaType=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", mediaType="+this.mediaType+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(e){e.VideoPlayerPluginConfig=function(){this.debugLogging=!1}}(t),function(e){function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){function i(e){if(i.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var n=e.plugin.ParamMapping,a=e.Trigger,r=e.plugin.BasePlugin,o=t.VideoPlayerPluginConfig;e.extend(i,r),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof o))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");e.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+e.debugLogging+")")},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},i.prototype._cmdVideoIdleStart=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},i.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(_),this._trigger(g),e.isInAd&&(this._trigger(A),this._isTrackingAdBreak=!0),e.isInAd&&(this._trigger(T),this._isTrackingAd=!0),e.isInChapter&&this._trigger(O),this._trigger(b)),this._videoIdle=!1},i.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(_),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(g)}},i.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._isTrackingAdBreak=!1,this._isTrackingAd=!1,this._contentStarted=!1,this._isPaused=!0,this._isBuffering=!1,this._isSeeking=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._trigger(h),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},i.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(p),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._contentStarted=!1}},i.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._allowPlayerStateChange()&&(this._isPaused=!1,this._trigger(b),this._startPlayheadTimer())},i.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._allowPlayerStateChange()){this._stopPlayheadTimer();var e={};e[U]=!1,this._isPaused=!0,this._trigger(E,e)}},i.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isBuffering=!0,this._trigger(C))},i.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._allowPlayerStateChange()&&(this._isBuffering=!1,this._trigger(P),this._startPlayheadTimer())},i.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._allowPlayerStateChange()&&(this._stopPlayheadTimer(),this._isSeeking=!0,this._trigger(D))},i.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._allowPlayerStateChange()&&(this._isSeeking=!1,this._trigger(M),this._startPlayheadTimer())},i.prototype.trackComplete=function(e,t){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){if(this._stopPlayheadTimer(),this._videoIdle)return this._logger.info(this._logTag,"#trackComplete() > Video session is already in Idle State."),void(e&&e());var i={};i[B]=e,(t=void 0===t||!!t)?this._trigger(v,i):(this._trigger(m),this._trigger(f,i))}},i.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(y,e)},i.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(O)},i.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"#trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(N)},i.prototype.trackChapterSkip=function(){this._logger.info(this._logTag,"#trackChapterSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterSkip")&&this._trigger(L)},i.prototype.trackAdBreakStart=function(){this._logger.info(this._logTag,"#trackAdBreakStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakStart")&&(this._trigger(A),this._isTrackingAdBreak=!0)},i.prototype.trackAdBreakComplete=function(){this._logger.info(this._logTag,"#trackAdBreakComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdBreakComplete")&&(this._trigger(w),this._isTrackingAdBreak=!1)},i.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(T),this._isTrackingAd=!0)},i.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(I),this._isTrackingAd=!1)},i.prototype.trackAdSkip=function(){this._logger.info(this._logTag,"#trackAdSkip()"),this._canProcess()&&this._startSessionIfNeeded("trackAdSkip")&&(this._trigger(k),this._isTrackingAd=!1)},i.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(R)},i.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[H]=u,t[j]=e,this._trigger(x,t)}},i.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[H]=d,t[j]=e,this._trigger(x,t)}},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(c,V),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new a(c,F),this,"handleVideoIdleResume",[new n(l,"ad.isInAdBreak","isInAdBreak"),new n(l,"ad.isInAd","isInAd"),new n(l,"chapter.isInChapter","isInChapter")])},i.prototype._setupDataResolver=function(){function e(){return o.video||(o.video=s._delegate.getVideoInfo(),s._logger.info(s._logTag,"Data from delegate > VideoInfo: "+o.video)),o.video}function t(){return o.ad||(o.ad=s._delegate.getAdInfo(),s._logger.info(s._logTag,"Data from delegate > AdInfo: "+o.ad)),o.ad}function i(){return o.pod||(o.pod=s._delegate.getAdBreakInfo(),s._logger.info(s._logTag,"Data from delegate > AdBreakInfo: "+o.pod)),o.pod}function n(){return o.chapter||(o.chapter=s._delegate.getChapterInfo(),s._logger.info(s._logTag,"Data from delegate > ChapterInfo: "+o.chapter)),o.chapter}function a(){return o.qos||(o.qos=s._delegate.getQoSInfo(),s._logger.info(s._logTag,"Data from delegate > QoSInfo: "+o.qos)),o.qos}var r={},o={},s=this;r["video.id"]=function(){var t=e(),i=t?t.id:null;return s._logger.debug(s._logTag,"Resolving video.id: "+i),i},r["video.name"]=function(){var t=e(),i=t?t.name:null;return s._logger.debug(s._logTag,"Resolving video.name: "+i),i},r["video.length"]=function(){var t=e(),i=t?t.length:NaN;return s._logger.debug(s._logTag,"Resolving video.length: "+i),i},r["video.playerName"]=function(){var t=e(),i=t?t.playerName:null;return s._logger.debug(s._logTag,"Resolving video.playerName: "+i),i},r["video.mediaType"]=function(){var t=e(),i=t?t.mediaType:null;return s._logger.debug(s._logTag,"Resolving video.mediaType: "+i),i},r["video.streamType"]=function(){var t=e(),i=t?t.streamType:null;return s._logger.debug(s._logTag,"Resolving video.streamType: "+i),i},r["video.playhead"]=function(){var t=e(),i=t?t.playhead:NaN;return s._logger.debug(s._logTag,"Resolving video.playhead: "+i),i},r["video.resumed"]=function(){var t=e(),i=!!t&&t.resumed;return s._logger.debug(s._logTag,"Resolving video.resumed: "+i),i},r["video.playheadStalled"]=function(){return this._playheadStalled},r["pod.name"]=function(){var e=i(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving pod.name: "+t),t},r["pod.playerName"]=function(){var e=i(),t=e?e.playerName:null;return s._logger.debug(s._logTag,"Resolving pod.playerName: "+t),t},r["pod.position"]=function(){var e=i(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving pod.position: "+t),t},r["pod.startTime"]=function(){var e=i(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving pod.startTime: "+t),t},r["ad.isInAd"]=function(){var e=null!=t();return s._logger.debug(s._logTag,"Resolving ad.isInAd: "+e),e},r["ad.isInAdBreak"]=function(){var e=null!=i();return s._logger.debug(s._logTag,"Resolving ad.isInAdBreak: "+e),e},r["ad.id"]=function(){var e=t(),i=e?e.id:null;return s._logger.debug(s._logTag,"Resolving ad.id: "+i),i},r["ad.name"]=function(){var e=t(),i=e?e.name:null;return s._logger.debug(s._logTag,"Resolving ad.name: "+i),i},r["ad.length"]=function(){var e=t(),i=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving ad.length: "+i),i},r["ad.position"]=function(){var e=t(),i=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving ad.position: "+i),i},r["ad.granularTracking"]=function(){var e=t(),i=!!e&&e.granularTracking;return s._logger.debug(s._logTag,"Resolving ad.granularTracking: "+i),i},r["ad.trackingInterval"]=function(){var e=Y;return s._logger.debug(s._logTag,"Resolving ad.trackingInterval: "+e),e},r["chapter.isInChapter"]=function(){var e=null!=n();return s._logger.debug(s._logTag,"Resolving chapter.isInChapter: "+e),e},r["chapter.name"]=function(){var e=n(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving chapter.name: "+t),t},r["chapter.length"]=function(){var e=n(),t=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving chapter.length: "+t),t},r["chapter.position"]=function(){var e=n(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving chapter.position: "+t),t},r["chapter.startTime"]=function(){var e=n(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving chapter.startTime: "+t),t},r["qos.bitrate"]=function(){var e=a(),t=e?e.bitrate:NaN;return s._logger.debug(s._logTag,"Resolving qos.bitrate: "+t),t},r["qos.fps"]=function(){var e=a(),t=e?e.fps:NaN;return s._logger.debug(s._logTag,"Resolving qos.fps: "+t),t},r["qos.droppedFrames"]=function(){var e=a(),t=e?e.droppedFrames:NaN;return s._logger.debug(s._logTag,"Resolving qos.droppedFrames: "+t),t},r["qos.startupTime"]=function(){var e=a(),t=e?1e3*e.startupTime:NaN;return s._logger.debug(s._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;o={};for(var t=null,i=0;i<e.length;i++){var n=e[i];(t=t||{})[n]=r.hasOwnProperty(n)?r[n].call(this):null}return t}},i.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(E)))},i.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,!this._playheadStalled||this._isPaused||this._isSeeking||this._isBuffering||(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this._trigger(b)))},i.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||this._isPaused||this._isSeeking||this._isBuffering||(this._playheadTimer=setInterval((function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(e._isTrackingAdBreak)e._playheadStalled&&e._trackExitStall();else{var i=t["video.playhead"];i!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&i==e._previousPlayhead&&++e._stalledPlayheadCount==q&&e._trackPlayheadStall(),i!=e._previousPlayhead&&i>0&&!e._contentStarted&&(e._isPaused||e._isBuffering||e._isSeeking||(e._logger.info(e._logTag,"#_playheadTimer playhead progress to: "+i),e._trigger(S),e._contentStarted=!0)),e._previousPlayhead=i}}}),K))},i.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},i.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)},i.prototype._allowPlayerStateChange=function(){return!(this._isTrackingAdBreak&&!this._isTrackingAd&&(this._logger.info(this._logTag,"_allowPlayerStateChange Player plugin does not allow player state changes when in Adbreak and not in Ad."),1))};var s="player",l=s,c="adobe-heartbeat",d="sourceErrorExternal",u="sourceErrorSDK",h="video_load",p="video_unload",f="video_session_end",_="video_start",g="video_resume",v="video_complete",m="video_skip",y="timed_metadata",b="play",E="pause",S="content_start",A="adbreak_start",w="adbreak_complete",T="ad_start",I="ad_complete",k="ad_skip",C="buffer_start",P="buffer_complete",D="seek_start",M="seek_complete",O="chapter_start",N="chapter_complete",L="chapter_skip",R="bitrate_change",x="track_error",V="video_idle_start",F="video_idle_resume",B="callback",U="filter_report",H="source",j="error_id",K=1001,Y=1,q=2;t.VideoPlayerPlugin=i}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){if(void 0===t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){function i(e,t,i,n,a){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!a)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+i,this._logger=a,this._isDestroyed=!1,this._createTimer(i,n),this._installHandlers()}var n=e.Event;i.KEY_NAME="name",i.KEY_INTERVAL="interval",i.KEY_RESET="reset",i.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[i.KEY_NAME]=a+"."+this._name,t[i.KEY_RESET]=e,this._pluginManager.command(r,l,t)},i.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[i.KEY_NAME]=a+"."+this._name,t[i.KEY_RESET]=e,this._pluginManager.command(r,s,t)},i.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[i.KEY_NAME]=a+"."+this._name,this._pluginManager.command(r,c,e)}},i.prototype.setInterval=function(e){var t=d+"."+a+"."+this._name,i=this._pluginManager.request(r,[t])[t];this.pause(!0),this._createTimer(this._name,e),i||this.resume(!0)},i.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(i.KEY_RESET)&&(t=e[i.KEY_RESET]),this.resume(t)},i.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(i.KEY_RESET)&&(t=e[i.KEY_RESET]),this.pause(t)},i.prototype._onTick=function(e,t){this._channel.trigger(new n("clock:"+this._name+".tick",t))},i.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(r,a+"."+this._name+".tick",this._onTick,this)},i.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},i.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var n={};n[i.KEY_NAME]=a+"."+this._name,n[i.KEY_INTERVAL]=this._interval,this._pluginManager.command(r,o,n)};var a="heartbeat",r="service.clock",o="create",s="pause",l="resume",c="destroy",d="is_paused";t.clock.Timer=i}(e.ADB.core,t),function(e,t){function i(e,t,n){i.__super__.constructor.call(this,e,t,r,s,n)}var n=e.Event,a=t.clock.Timer;e.extend(i,a),i.prototype._onCheckStatusComplete=function(e){var t=e.data[u];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>o?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(o)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},i.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new n(l))},i.prototype._installHandlers=function(){i.__super__._installHandlers.call(this),this._channel.on(c,this._getSettings,this),this._channel.on(d,this._onCheckStatusComplete,this),this._channel.reply(u,(function(){return this._interval}),this)};var r="check_status",o=600,s=180,l="clock:check_status.tick",c="clock:check_status.get_settings",d="net:check_status_complete",u="check_status_interval";t.clock.CheckStatusTimer=i}(e.ADB.core,t),function(e,t){function i(e,t,n){i.__super__.constructor.call(this,e,t,a,r,n),this._doNotOverrideInterval=!1}var n=t.clock.Timer;e.extend(i,n),i.prototype._onCheckStatusComplete=function(e){var t=e.data[o];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),this._doNotOverrideInterval)this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed. (doNotOverrideInterval = true)");else if(t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(r)},i.prototype._onUpdateReportingInterval=function(e){var t=e.data[o];if(this._doNotOverrideInterval=!!e.data[s],this._logger.debug(this._logTag,"#_onUpdateReportingInterval(interval="+t+", doNotOverrideInterval="+this._doNotOverrideInterval+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval value not changed.");this._logger.debug(this._logTag,"#_onUpdateReportingInterval() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onUpdateReportingInterval() > Invalid interval value."),this.setInterval(r)},i.prototype._installHandlers=function(){i.__super__._installHandlers.call(this),this._channel.on(c,this._onCheckStatusComplete,this),this._channel.on(l,this._onUpdateReportingInterval,this),this._channel.reply(o,(function(){return this._interval}),this)};var a="reporting",r=10,o="reporting_interval",s="do_not_override_interval",l="reporting:update_interval",c="net:check_status_complete";t.clock.ReportingTimer=i}(e.ADB.core,t),function(e,t){function i(e,t,n){i.__super__.constructor.call(this,e,t,a,r,n)}var n=t.clock.Timer;e.extend(i,n);var a="idle",r=1800;t.clock.IdleTimer=i}(e.ADB.core,t),function(e,t){function i(e,t,n){i.__super__.constructor.call(this,e,t,a,r,n)}var n=t.clock.Timer;e.extend(i,n);var a="flush_filter",r=.25;t.clock.FlushFilterTimer=i}(e.ADB.core,t),function(e,t){function i(e,t,i){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!i)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new r(e,t,i),this._checkStatusTimer=new n(e,t,i),this._flushFilterTimer=new a(e,t,i),this._idleTimer=new o(e,t,i)}var n=t.clock.CheckStatusTimer,a=t.clock.FlushFilterTimer,r=t.clock.ReportingTimer,o=t.clock.IdleTimer;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=i}(e.ADB.core,t),function(e,t){function i(e,t){this.value=e,this.hint=t}function n(e){this.realm=e,this.data={}}i.HINT_SHORT="short",n.prototype.setField=function(e,t,n){this.data[e]=new i(t,n)},n.prototype._createAccessor=function(e,t,i){var n=this;return function(){return arguments.length&&(n[e]=arguments[0],n.setField(t,arguments[0],i)),n[e]}},t.model.Dao=n,t.model.DaoField=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var n=t.model.Dao;e.extend(i,n),t.model.AdDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",a.HINT_SHORT),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var n=t.model.Dao,a=t.model.DaoField;e.extend(i,n),t.model.AdobeAnalyticsDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var n=t.model.Dao;e.extend(i,n),t.model.ChapterDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new a(e.adData()):null;this.adData(t);var n=e.chapterData()?new r(e.chapterData()):null;this.chapterData(n)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var n=t.model.Dao,a=t.model.AdDao,r=t.model.ChapterDao;e.extend(i,n),i.TYPE_AD="ad",i.TYPE_MAIN_CONTENT="main",t.model.AssetDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var n=t.model.Dao;e.extend(i,n),i.EVENT_TYPE_AA_START="aa_start",i.EVENT_TYPE_AA_AD_START="aa_ad_start",i.EVENT_TYPE_START="start",i.EVENT_TYPE_RESUME="resume",i.EVENT_TYPE_CHAPTER_START="chapter_start",i.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",i.EVENT_TYPE_CHAPTER_SKIP="chapter_skip",i.EVENT_TYPE_PLAY="play",i.EVENT_TYPE_PAUSE="pause",i.EVENT_TYPE_STALL="stall",i.EVENT_TYPE_BUFFER="buffer",i.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",i.EVENT_TYPE_ERROR="error",i.EVENT_TYPE_COMPLETE="complete",i.EVENT_TYPE_SKIP="skip",i.EVENT_TYPE_END="end",t.model.EventDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var n=t.model.Dao;e.extend(i,n),t.model.QoSDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(a),this.sdk(a),this.channel(a),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var n=t.model.Dao;e.extend(i,n);var a="unknown";t.model.ServiceProviderDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var n=t.model.Dao;e.extend(i,n),t.model.SessionDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.type(e.type())}else this.type(null)}var n=t.model.Dao;e.extend(i,n),t.model.StreamDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var n=t.model.Dao;e.extend(i,n),t.model.UserDao=i}(e.ADB.core,t),function(e,t){function i(){if(i.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof i){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var n=t.model.Dao;e.extend(i,n),t.model.AudienceManagerDao=i}(e.ADB.core,t),function(e,t){var i=e.ObjectUtils,n=t.model.EventDao,a=t.model.AssetDao,r=t.model.StreamDao,o=t.model.QoSDao;t.model.TrackItem=function(e,t,s,l,c){this.eventData=new n,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(s),this.assetData=new a(e._assetData),this.streamData=new r(e._streamData),this.qosData=new o(e._qosData),this.cuserData=i.clone(e._cuserData),this.meta=l,this.callback=c,this.filterReport=!0}}(e.ADB.va.utils,t),function(e,t){var i=e.ObjectUtils,n=t.model.EventDao,a=t.model.AssetDao,r=t.model.StreamDao,o=t.model.QoSDao;t.model.CUserDao,t.model.Report=function(e,t,s,l,c,d){this.adobeAnalyticsData=e,this.userData=t,this.aamData=s,this.serviceProviderData=l,this.sessionData=c,this.eventData=new n(d.eventData),this.assetData=new a(d.assetData),this.streamData=new r(d.streamData),this.qosData=new o(d.qosData),this.cuserData=i.clone(d.cuserData),this.meta=i.clone(d.meta),this.callback=d.callback,this.filterReport=d.filterReport}}(e.ADB.va.utils,t),function(e){function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,i,n){},t.prototype.serializeString=function(e,t,i,n){},e.model.ISerializer=t}(t),function(e,t){function i(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var n=t.model.Dao,a=t.model.DaoField,r=t.model.ISerializer;e.extend(i,r),i.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter((function(e){return!!e})).join("&"),callback:e.callback}},i.prototype.serializeDao=function(e){return this._processDao(e).filter((function(e){return!!e})).join("&")},i.prototype.serializeMap=function(e,t){var i=[],n=t||"meta";for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("s:"+n+":"+a+"="+window.encodeURIComponent(e[a]));return i.join("&")},i.prototype.serializeNumber=function(e,t,i,n){var r=s;return null==t||isNaN(t)?null:(n===a.HINT_SHORT&&(r=l),r+":"+i+":"+e+"="+Math.floor(t))},i.prototype.serializeString=function(e,t,i,n){return t?c+":"+i+":"+e+"="+window.encodeURIComponent(t):null},i.prototype._processDao=function(e){var t=[];for(var i in e.data)if(e.data.hasOwnProperty(i)){var a=e.data[i],r=a.value,s=a.hint,l=null,c=e.realm;if(null==r)continue;"number"==typeof r?l=this.serializeNumber(i,r,c,s):"string"==typeof r?l=this.serializeString(i,r,c,s):r instanceof n?l=this.serializeDao(r):this._logger.warn(o,"#_processDao() > Unable to serialize DAO. Field: "+i+". Value: "+r+"."),l&&t.push(l)}return t};var o="ah::QuerystringSerializer",s="l",l="h",c="s";t.model.QuerystringSerializer=i}(e.ADB.core,t),function(e,t){function i(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}i.prototype.parse=function(){var e,t,i,c,d,u,h;window.DOMParser?u=(new window.DOMParser).parseFromString(this._data,"text/xml"):((u=new window.ActiveXObject("Microsoft.XMLDOM")).async=!1,u.loadXML(this._data)),(h=parseInt(u.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=h),(h=parseInt(u.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=h),(h=parseInt(u.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(i=1==h),u.getElementsByTagName("trackingDisabled")[0]&&(c=1==(h=parseInt(u.getElementsByTagName("trackingDisabled")[0].childNodes[0].nodeValue,10))),d=!u.getElementsByTagName("nielsenEnabled")[0]||1==(h=parseInt(u.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10));var p={};return p[a]=e,p[r]=t,p[o]=i,p[l]=c,p[s]=d,this._logger.debug(n,"#parse() > Obtained configuration settings."),p};var n="ah::SettingsParser",a="reporting_interval",r="check_status_interval",o="track_external_errors",s="nielsen_enabled",l="tracking_disabled";t.network.SettingsParser=i}(e.ADB.core,t),function(e,t){function i(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new l(t),this._installEventListeners()}var n=e.Event,a=e.URLRequestMethod,r=e.URLRequest,o=e.URLLoader,s=t.network.SettingsParser,l=t.model.QuerystringSerializer;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(c,"#destroy()"),this._uninstallEventListeners())},i.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(c,"#_onApiConfig(sb_server="+t[d]+", check_status_server="+t[u]+", publisher="+t[h]+", quiet_mode="+t[p]+", ssl="+t[f]+")"),this._trackingServer=this._updateRequestProtocol(t[d],t[f]),this._checkStatusServer=this._updateRequestProtocol(t[u],t[f]),this._publisher=t[h],this._quietMode=t[p],this._isConfigured=!0},i.prototype._onUpdateVisitorOptOut=function(e){var t=e.data;this._logger.debug(c,"#_onUpdateVisitorOptOut(visitor_opt_out="+t[g]+")"),this._visitorOptedOut=t[g]},i.prototype._onFilterReportAvailable=function(e){var t=e.data;if(this._isConfigured){var i=t[_],s=this._serializer.serializeReport(i),l=this._trackingServer+"/?"+s.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&i.eventData&&this._prevReportSent.eventData.playhead==i.eventData.playhead&&this._prevReportSent.eventData.ts==i.eventData.ts&&this._prevReportSent.eventData.prevTs==i.eventData.prevTs&&this._prevReportSent.eventData.type==i.eventData.type)this._logger.debug(c,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+l);else{this._prevReportSent=i;var d=new r(l,a.GET);this._logger.debug(c,"#_onFilterReportAvailable() > "+d.url);var u=this;if(!this._quietMode&&!this._visitorOptedOut){var h=new o;h.addEventListener(n.SUCCESS,(function(e){h.close(),s.callback&&s.callback.call(null)}),this),h.addEventListener(n.ERROR,(function(e){h.close(),u._logger.warn(c,"#_onFilterReportAvailable() > Failed to send heartbeat report."),s.callback&&s.callback.call(null)}),this),h.load(d)}}}else this._logger.warn(c,"#_onFilterReportAvailable() > Unable to send request: not configured.")},i.prototype._onClockCheckStatusTick=function(e){if(this._isConfigured)if(this._publisher){var t=this,i=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+i+".xml?r="+(new Date).getTime(),d=new r(l,a.GET),u=new o;u.addEventListener(n.SUCCESS,(function(e){if(e.data){var i=new s(e.data.response,t._logger).parse();i?t._channel.trigger(new n(E,i)):t._logger.warn(c,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}u.close()}),this),u.addEventListener(n.ERROR,(function(e){t._logger.warn(c,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),u.close()}),this),this._logger.debug(c,"#_onClockCheckStatusTick() > Get new settings from: "+l),u.load(d)}else this._logger.warn(c,"#_onClockCheckStatusTick() > Publisher is NULL.");else this._logger.warn(c,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},i.prototype._updateRequestProtocol=function(e,t){var i=e;return 0===i.indexOf("http://")?i=i.slice(7):0===i.indexOf("https://")&&(i=i.slice(8)),t?"https://"+i:"http://"+i},i.prototype._installEventListeners=function(){this._channel.on(v,this._onApiConfig,this),this._channel.on(m,this._onUpdateVisitorOptOut,this),this._channel.on(y,this._onFilterReportAvailable,this),this._channel.on(b,this._onClockCheckStatusTick,this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var c="ah::Network",d="tracking_server",u="check_status_server",h="publisher",p="quiet_mode",f="ssl",_="report",g="visitor_opt_out",v="api:config",m="api:update_visitor_optout",y="filter:data_available",b="clock:check_status.tick",E="net:check_status_complete";t.network.Network=i}(e.ADB.core,t),function(e,t){function i(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new s,this._installEventListeners()}function n(e){var t=[];return e&&e.forEach((function(e){e.eventData.type()==c.EVENT_TYPE_PAUSE||e.eventData.type()==c.EVENT_TYPE_STALL||e.eventData.type()==c.EVENT_TYPE_BUFFER?(!e.filterReport||e.eventData.duration()>y)&&t.push(e):t.push(e)})),t}function a(e){var t=-1,i=-1,n=[];return e.forEach((function(e){e.eventData.type()==c.EVENT_TYPE_START?e.assetData.type()==d.TYPE_MAIN_CONTENT?-1==t?t=n.push(e)-1:(e.eventData.prevTs(-1),n[t]=e):-1==i?i=n.push(e)-1:(e.eventData.prevTs(-1),n[i]=e):n.push(e)})),n}function r(e){var t=[];return e.forEach((function(i){if(i.eventData.type()==c.EVENT_TYPE_PLAY){if(i.eventData.duration()>m)t.push(i);else if(0==i.eventData.duration()&&i.assetData.type()==d.TYPE_MAIN_CONTENT){var n=function(e){var t=[];return e.forEach((function(e){e.eventData.type()!=c.EVENT_TYPE_PLAY&&e.eventData.type()!=c.EVENT_TYPE_BUFFER&&e.eventData.type()!=c.EVENT_TYPE_START||t.push(e)})),t}(e);n.indexOf(i)==n.length-1&&t.push(i)}}else t.push(i)})),t}var o=e.radio.Command,s=e.radio.CommandQueue,l=e.Event,c=t.model.EventDao,d=t.model.AssetDao;i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(E,"#destroy()"),this._uninstallEventListeners(),this.clear())},i.prototype.clear=function(){this._logger.debug(E,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},i.prototype.flush=function(){this._workQueue.addCommand(new o(this._flushBufferReport,this))},i.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[_];if(t){var i=t.sessionData.sessionId();this._reportBuffer[i]=this._reportBuffer[i]||[],this._reportBuffer[i].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var n={};n[f]=!0,n[g]=1,this._channel.command(v,n)}}},i.prototype._flushBufferReport=function(){function e(e){if(e)for(var i=0;i<e.length;i++){var n=e[i],a=n.sessionData.sessionId();t._tsHistory[a]=t._tsHistory[a]||{};var r=n.eventData.type()+"."+(n.assetData.type()==d.TYPE_AD?n.assetData.adData().adId():n.assetData.videoId());t._tsHistory[a].hasOwnProperty(r)&&n.eventData.prevTs(t._tsHistory[a][r]),t._tsHistory[a][r]=n.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var i in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(i)){var o=r(a(n(this._reportBuffer[i])));e(o);for(var s=0;s<o.length;s++){var c=o[s],u={};u[_]=c,this._channel.trigger(new l(h,u))}}this._reportBuffer={};var p=this._channel.request(b),f=this._tsHistory[p]||{};this._tsHistory={},this._tsHistory[p]=f,this._isBufferingInProgress=!1}},i.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new o(this._bufferReport,this,[t]))},i.prototype._onClockFlushFilterTick=function(e){this.flush()},i.prototype._installEventListeners=function(){this._channel.on(u,this._onContextReportAvailable,this),this._channel.on(p,this._onClockFlushFilterTick,this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var u="context:report_available",h="filter:data_available",p="clock:flush_filter.tick",f="reset",_="report",g="repeat_count",v="clock:flush_filter.resume",m=250,y=250,b="session_id",E="ah::ReportFilter";t.filter.ReportFilter=i}(e.ADB.core,t),function(e,t){function i(e,t){this._onFail={fn:e,ctx:t}}var n=e.ErrorInfo;i.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var i=0;i<t.length;i++){var n=t[i];switch(n){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+n)}}return!0},i.prototype._fail=function(e){var t=new n("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=i}(e.ADB.va,t),function(e,t){function i(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var n=t.model.Report;i.prototype.createReportForItem=function(e){return this._logger.debug(a,"Creating report for item: "+e.eventData.type()),new n(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var a="ah::ReportFactory";t.context.ReportFactory=i}(e.ADB.core,t),function(e,t,i,n){function a(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._stashedMainMetadata=null,this._autoComputedStartupTime=0,this._reportingInterval=he,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new c,this._serviceProviderData=new d,this._userData=new u,this._aamData=new h,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new b(this,this._logger),this._inputDataValidator=new E((function(e){this._logger.error(S,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(w,e))}),this),this._trackExternalErrors=!0,this._installEventListeners()}var r=i.md5,o=i.ObjectUtils,s=e.Event,l=n.model.SessionDao,c=n.model.AdobeAnalyticsDao,d=n.model.ServiceProviderDao,u=n.model.UserDao,h=n.model.AudienceManagerDao,p=n.model.EventDao,f=n.model.AssetDao,_=n.model.StreamDao,g=n.model.QoSDao,v=n.model.AdDao,m=n.model.ChapterDao,y=n.model.TrackItem,b=n.context.ReportFactory,E=n.context.InputDataValidator;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(S,"#destroy()"),this._uninstallEventListeners())},a.prototype._onApiAnalyticsStart=function(e){this._logger.debug(S,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[D]);i.assetData.adData(null),i.assetData.type(f.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(i)}},a.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(S,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[D]);this._sendHit(i)}},a.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(S,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},a.prototype._onApiVideoUnload=function(e){this._logger.debug(S,"#_onApiVideoUnload()"),this._isTrackingSessionActive?this._isTrackingSessionActive=!1:this._logger.debug(S,"#_onApiVideoUnload() > No active tracking session.")},a.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._lastInBandItem=null,this._stashedLastInBandItem=null,this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._serviceProviderData.playerName(t.playerName),this._assetData.adData(null),this._assetData.chapterData(null),this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var i=t.metaNielsen?o.merge(t.metaVideo,t.metaNielsen):t.metaVideo,n=new y(this,p.EVENT_TYPE_START,t.playhead,i,t._eventData[D]);this._sendHit(n)}},a.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._assetData.videoId(t.videoId),this._assetData.length(t.videoLength),this._assetData.type(f.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var i=new y(this,p.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[D]);this._sendHit(i)}},a.prototype._onApiVideoSessionEnd=function(e){this._logger.debug(S,"#_onApiVideoSessionEnd()");var t=e.data;if(this._checkCall("_onApiVideoSessionEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var i=new y(this,p.EVENT_TYPE_END,t.playhead,null,t._eventData[D]);i.assetData.adData(null),i.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(i)}},a.prototype._onApiVideoComplete=function(e){this._logger.debug(S,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var i=new y(this,p.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[D]);this._sendHit(i),this._isVideoComplete=!0}},a.prototype._onApiVideoSkip=function(e){this._logger.debug(S,"#_onApiVideoSkip()");var t=e.data;if(this._checkCall("_onApiVideoSkip")){var i=new y(this,p.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[D]);this._sendHit(i),this._isVideoComplete=!0}},a.prototype._onApiPlay=function(e){this._logger.debug(S,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[D]);this._sendHit(i)}},a.prototype._onApiPause=function(e){this._logger.debug(S,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var i=t.playheadStalled?p.EVENT_TYPE_STALL:p.EVENT_TYPE_PAUSE,n=new y(this,i,t.playhead,null,t._eventData[D]);t._eventData.hasOwnProperty(M)&&(n.filterReport=t._eventData[M]),this._sendHit(n)}},a.prototype._onApiBufferStart=function(e){this._logger.debug(S,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[D]);this._sendHit(i)}},a.prototype._onApiAdBreakStart=function(e){this._logger.debug(S,"#_onApiAdBreakStart()");var t=e.data;this._checkCall("_onApiAdBreakStart")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._updateLastInbandItemToBuffering())},a.prototype._onApiAdBreakComplete=function(e){this._logger.debug(S,"#_onApiAdBreakComplete()");var t=e.data;this._checkCall("_onApiAdBreakComplete")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._flushLastInbandItem(t),this._restoreLastInbandItem())},a.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){var i=new v;i.adId(t.adId),i.adName(t.adName),i.adLength(t.adLength),i.resolver(t.podPlayerName),i.podId(r(this._assetData.videoId())+"_"+t.podPosition),i.podPosition(t.adPosition+""),i.podName(t.podName),i.podOffset(t.podSecond),i.sid(this._generateSessionId()),this._assetData.adData(i),this._assetData.type(f.TYPE_AD),this._updateQoSInfo(t);var n=o.merge(t.metaVideo,t.metaAd);n=t.metaNielsen?o.merge(n,t.metaNielsen):n,n=t.metaAdNielsen?o.merge(n,t.metaAdNielsen):n;var a=new y(this,p.EVENT_TYPE_START,t.playhead,n,t._eventData[D]);if(this._sendHit(a),this._restoreLastInbandItem(),t.adGranularTracking){var s=t.adTrackingInterval?t.adTrackingInterval:this._reportingInterval;this._updateReportingInterval(s,!0)}}},a.prototype._onApiAdComplete=function(e){this._logger.debug(S,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=f.TYPE_AD)return void this._logger.warn(S,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[D]);this._sendHit(i),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},a.prototype._onApiAdSkip=function(e){this._logger.debug(S,"#_onApiAdSkip()");var t=e.data;if(this._checkCall("_onApiAdSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=f.TYPE_AD)return void this._logger.warn(S,"#_onApiAdSkip() > Ignoring the ad skip event, because we are no longer in an ad.");this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_SKIP,t.playhead,null,t._eventData[D]);this._sendHit(i),this._updateLastInbandItemToBuffering(),this._assetData.adData(null),this._assetData.type(f.TYPE_MAIN_CONTENT),this._updateReportingInterval(this._reportingInterval,!1)}},a.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var i=new m;i.id(r(this._assetData.videoId())+"_"+t.chapterPosition),i.name(t.chapterName),i.length(t.chapterLength),i.position(t.chapterPosition),i.offset(t.chapterOffset),i.sid(this._generateSessionId()),this._assetData.chapterData(i),this._updateQoSInfo(t);var n=o.merge(t.metaVideo,t.metaChapter),a=new y(this,p.EVENT_TYPE_CHAPTER_START,t.playhead,n,t._eventData[D]);a.assetData.adData(null),a.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(a)}},a.prototype._onApiChapterComplete=function(e){this._logger.debug(S,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(S,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[D]);i.assetData.adData(null),i.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(i),this._assetData.chapterData(null)}},a.prototype._onApiChapterSkip=function(e){this._logger.debug(S,"#_onApiChapterSkip()");var t=e.data;if(this._checkCall("_onApiChapterSkip")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(S,"#_onApiChapterSkip() > Ignoring the chapter skip event, because we are no longer in a chapter.");this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_CHAPTER_SKIP,t.playhead,null,t._eventData[D]);i.assetData.adData(null),i.assetData.type(f.TYPE_MAIN_CONTENT),this._sendHit(i),this._assetData.chapterData(null)}},a.prototype._onApiBitrateChange=function(e){this._logger.debug(S,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[D]);this._sendHit(i)}},a.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(S,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),this._isTrackingSessionActive){if(this._trackExternalErrors||t._eventData.source===A){this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_ERROR,0,null,t._eventData[D]);i.eventData.id(t._eventData.error_id),i.eventData.source(t._eventData.source),this._sendHit(i)}}else this._logger.warn(S,"#_onApiTrackError() > No active tracking session.")},a.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(S,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var i=new y(this,p.EVENT_TYPE_ERROR,0);i.eventData.id(t.error_id),i.eventData.source(t.source),this._sendHit(i)},a.prototype._onApiQuantumEnd=function(e){this._logger.debug(S,"#_onApiQuantumEnd(interval="+this._channel.request(k)+")");var t=e.data;if(this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])){var i=this._lastInBandItem;if(i){this._updateQoSInfo(t);var n=new y(this,i.eventData.type(),t.playhead,i.meta,i.callback);n.filterReport=i.filterReport,this._sendHit(n,!0)}}},a.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[L],this._reportingInterval=t[R],this._reportingInterval||(this._reportingInterval=he),this._logger.debug(S,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},a.prototype._onResetSessionId=function(e){var t=this._generateSessionId();this._sessionData=new l,this._sessionData.sessionId(t),this._logger.debug(S,"#_resetSessionId(new sessionId="+t+")")},a.prototype._installEventListeners=function(){this._channel.on(V,this._onApiAnalyticsStart,this),this._channel.on(F,this._onApiAnalyticsAdStart,this),this._channel.on(B,this._onApiVideoLoad,this),this._channel.on(U,this._onApiVideoUnload,this),this._channel.on(H,this._onApiVideoStart,this),this._channel.on(j,this._onApiVideoComplete,this),this._channel.on(K,this._onApiVideoSkip,this),this._channel.on(Y,this._onApiVideoResume,this),this._channel.on(q,this._onApiVideoSessionEnd,this),this._channel.on(W,this._onApiAdBreakStart,this),this._channel.on(G,this._onApiAdBreakComplete,this),this._channel.on(z,this._onApiAdStart,this),this._channel.on(Q,this._onApiAdComplete,this),this._channel.on(X,this._onApiAdSkip,this),this._channel.on(J,this._onApiPlay,this),this._channel.on(Z,this._onApiPause,this),this._channel.on($,this._onApiBufferStart,this),this._channel.on(ee,this._onApiChapterStart,this),this._channel.on(te,this._onApiChapterComplete,this),this._channel.on(ie,this._onApiChapterSkip,this),this._channel.on(re,this._onApiBitrateChange,this),this._channel.on(ne,this._onApiTrackError,this),this._channel.on(ae,this._onApiTrackInternalError,this),this._channel.on(oe,this._onApiQuantumEnd,this),this._channel.on(le,this._onNetworkCheckStatusComplete,this),this._channel.on(P,this._onResetSessionId,this),this._channel.reply(C,(function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null}),this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},a.prototype._resetInternalState=function(){this._logger.debug(S,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._lastInBandItem=null,this._stashedLastInBandItem=null,this._streamData=new _,this._qosData=new g,this._sessionData=new l,this._assetData=new f,this._cuserData=null},a.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},a.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},a.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||"_onApiVideoSessionEnd"===e||(this._logger.warn(S,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(S,"#"+e+"() > No active tracking session."),!1)},a.prototype._updateReportingInterval=function(e,t){var i={};i[x]=!!t,i[R]=e,this._channel.trigger(new s(ce,i))},a.prototype._updateLastInBandItem=function(e){var t=this._lastInBandItem,i=(new Date).getTime(),n=t.assetData.type()===f.TYPE_AD||e.assetData.type()===f.TYPE_AD,a=1e3*Math.abs(e.eventData.playhead()-t.eventData.playhead()),r=Math.abs(i-t.eventData.ts()),o=Math.abs(a-r),s=r;s>de?(this._logger.warn(S," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to 0 as calculated duration ("+s+")exceeds 10mins"),s=0):t.eventData.type()==p.EVENT_TYPE_PLAY&&!n&&!this._doNotOverrideEventDuration&&o>ue&&(s=Math.min(a,r),this._logger.warn(S," Resetting duration in lastInBandItem["+t.assetData.type()+":"+t.eventData.type()+"] call to "+s+" as calculated error delta ("+o+")exceeds 2sec")),this._doNotOverrideEventDuration=!1,t.eventData.duration(s),t.eventData.ts(i),t.eventData.playhead(e.eventData.playhead()),t.qosData.startupTime(e.qosData.startupTime()),t.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},a.prototype._updateLastInbandItemToBuffering=function(){this._stashedLastInBandItem=this._lastInBandItem;var e=0;null!=this._lastInBandItem&&(this._lastInBandItem.assetData.type()==f.TYPE_MAIN_CONTENT&&this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&(this._stashedMainMetadata=this._lastInBandItem.meta),e=this._lastInBandItem.eventData.playhead());var t=new y(this,p.EVENT_TYPE_BUFFER,e,null,null);t.assetData.adData(null),t.assetData.type(f.TYPE_MAIN_CONTENT),this._lastInBandItem=t},a.prototype._restoreLastInbandItem=function(){if(null!=this._stashedLastInBandItem){var e=null;this._stashedLastInBandItem.eventData.type()==p.EVENT_TYPE_START&&(this._lastInBandItem.assetData.type()==f.TYPE_AD?e=this._lastInBandItem.meta:(e=this._stashedMainMetadata,this._stashedMainMetadata=null));var t=new y(this,this._stashedLastInBandItem.eventData.type(),this._stashedLastInBandItem.eventData.playhead(),e,this._stashedLastInBandItem.callback);t.filterReport=this._stashedLastInBandItem.filterReport,this._lastInBandItem=t,this._stashedLastInBandItem=null}},a.prototype._flushLastInbandItem=function(e){if(this._lastInBandItem){this._updateQoSInfo(e);var t=new y(this,this._lastInBandItem.eventData.type(),e.playhead,this._lastInBandItem.meta,this._lastInBandItem.callback);this._sendHit(t,!0)}},a.prototype._createAndSendReport=function(e){var t=this._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(this._autoComputedStartupTime);var i={};if(i[O]=t,this._channel.trigger(new s(se,i)),t.eventData.type()==p.EVENT_TYPE_START||t.eventData.type()==p.EVENT_TYPE_PLAY||t.eventData.type()==p.EVENT_TYPE_PAUSE||t.eventData.type()==p.EVENT_TYPE_STALL||t.eventData.type()==p.EVENT_TYPE_BUFFER){var n={};n[N]=!0,this._channel.command(T,n)}},a.prototype._sendHit=function(e,t){switch(e.eventData.type()){case p.EVENT_TYPE_START:case p.EVENT_TYPE_PLAY:case p.EVENT_TYPE_PAUSE:case p.EVENT_TYPE_STALL:case p.EVENT_TYPE_BUFFER:this._lastInBandItem?(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==f.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),this._createAndSendReport(this._lastInBandItem),t&&this._lastInBandItem.eventData.type()==e.eventData.type()||this._createAndSendReport(e)):this._createAndSendReport(e),this._lastInBandItem=e;break;case p.EVENT_TYPE_COMPLETE:case p.EVENT_TYPE_SKIP:if(this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==p.EVENT_TYPE_SKIP&&this._createAndSendReport(e),e.assetData.type()==f.TYPE_MAIN_CONTENT){this._lastInBandItem=null,this._stashedLastInBandItem=null;var i={};i[N]=!0,this._channel.command(I,i)}else e.assetData.type()==f.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(f.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case p.EVENT_TYPE_CHAPTER_START:case p.EVENT_TYPE_CHAPTER_COMPLETE:case p.EVENT_TYPE_CHAPTER_SKIP:this._lastInBandItem&&(this._updateLastInBandItem(e),this._createAndSendReport(this._lastInBandItem)),e.eventData.type()!==p.EVENT_TYPE_CHAPTER_SKIP&&this._createAndSendReport(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==p.EVENT_TYPE_CHAPTER_START?new m(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),this._createAndSendReport(this._lastInBandItem));break;default:this._createAndSendReport(e)}};var S="ah::Context",A="sourceErrorSDK",w="error",T="clock:reporting.resume",I="clock:reporting.pause",k="reporting_interval",C="session_id",P="reset_session_id",D="callback",M="filter_report",O="report",N="reset",L="track_external_errors",R="reporting_interval",x="do_not_override_interval",V="api:aa_start",F="api:aa_ad_start",B="api:video_load",U="api:video_unload",H="api:video_start",j="api:video_complete",K="api:video_skip",Y="api:video_resume",q="api:video_session_end",W="api:adbreak_start",G="api:adbreak_complete",z="api:ad_start",Q="api:ad_complete",X="api:ad_skip",J="api:play",Z="api:pause",$="api:buffer_start",ee="api:chapter_start",te="api:chapter_complete",ie="api:chapter_skip",ne="api:track_error",ae="api:track_internal_error",re="api:bitrate_change",oe="api:quantum_end",se="context:report_available",le="net:check_status_complete",ce="reporting:update_interval",de=6e5,ue=2e3,he=10;n.context.Context=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){var t="unknown";e.AdobeHeartbeatPluginConfig=function(e,i){this.trackingServer=e,this.publisher=i,this.ssl=!1,this.ovp=t,this.sdk=t,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}}(t),function(e){function t(){}t.prototype.onError=function(e){},t.prototype.onTrackingDisabled=function(){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,i){function n(e){n.__super__.constructor.call(this,g),this._radio=new l(this._logger),this._channel=this._radio.channel(w),this._delegate=e,this._context=new u(this._channel,this._logger),this._filter=new h(this._channel,this._logger),this._network=new p(this._channel,this._logger),this._setupDataResolver()}var a=e.Event,r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Radio,c=t.ErrorInfo,d=t.Version,u=i.context.Context,h=i.filter.ReportFilter,p=i.network.Network,f=i.clock.Clock,_=i.AdobeHeartbeatPluginConfig;e.extend(n,o),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",i={};i[oe]=this._config.trackingServer,i[se]=t,i[le]=this._config.publisher,i[ce]=this._config.quietMode,i[de]=this._config.ssl,this._channel.trigger(new a(ge,i)),this._isConfigured=!0},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._channel.on(T,this._onError,this),this._clock=new f(this._pluginManager,this._channel,this._logger),this._channel.command(He),this._channel.trigger(new a(ze)),this._channel.on(pe,this._onCheckStatusComplete,this),this._registerCommands(),this._registerBehaviours()},n.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},n.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):n.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},n.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new c("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(T,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},n.prototype._cmdAnalyticsStart=function(e){if(this._canProcess()){var t={};t[ue]=e.visitorOptedOut,this._channel.trigger(new a(ve,t)),this._channel.trigger(new a(fe,e))}},n.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new a(_e,e))},n.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new a(ye,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new a(me,e)),this._isTrackingSessionActive=!0)},n.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new a(ye,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},n.prototype._cmdVideoSessionEnd=function(e){this._canProcess()&&this._channel.trigger(new a(we,e))},n.prototype._cmdVideoStart=function(e){this._canProcess()&&(this._channel.trigger(new a(be,e)),this._filter.flush())},n.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new a(Ee,e))},n.prototype._cmdVideoSkip=function(e){this._canProcess()&&this._channel.trigger(new a(Se,e))},n.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new a(Ae,e))},n.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},n.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new a(Me,e)),this._isPaused=!0,this._runIdleTimer(!0))},n.prototype._cmdAdBreakStart=function(e){this._canProcess()&&this._channel.trigger(new a(Te,e))},n.prototype._cmdAdBreakComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(Ie,e)),this._resumePlaybackIfPossible(e))},n.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new a(ke,e)),this._resumePlaybackIfPossible(e))},n.prototype._cmdAdComplete=function(e){this._canProcess()&&this._channel.trigger(new a(Ce,e))},n.prototype._cmdAdSkip=function(e){this._canProcess()&&this._channel.trigger(new a(Pe,e))},n.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new a(Oe,e)),this._isBuffering=!0,this._runIdleTimer(!0))},n.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._isPaused?this._channel.trigger(new a(Me,e)):this._resumePlaybackIfPossible(e))},n.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new a(Me,e)),this._isSeeking=!0,this._runIdleTimer(!0))},n.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._isSeeking=!1,this._resumePlaybackIfPossible(e))},n.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new a(Ne,e))},n.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new a(Le,e))},n.prototype._cmdChapterSkip=function(e){this._canProcess()&&this._channel.trigger(new a(Re,e))},n.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new a(Fe,e))},n.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new a(xe,e))},n.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new a(Be,e))},n.prototype._onCheckStatusComplete=function(e){if(this._canProcess()){var t=!1;e&&e.data&&e.data[he]&&(t=e.data[he]),this._logger.debug(this._logTag,"#_onCheckStatusComplete(trackingDisabled="+t+")"),t&&this._delegate&&this._delegate.onTrackingDisabled()}},n.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(ee),this._channel.trigger(new a(we,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(Z))},n.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[ae]=Ue,t[re]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new a(Ve,t)),this._runReportingTimer(!1),this._trigger(T,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},n.prototype._runIdleTimer=function(e){var t={};t[ne]=!0,e?this._channel.command(We,t):this._channel.command(Ge,t)},n.prototype._runFlushFilterTimer=function(e){var t={};t[ne]=!0,e?this._channel.command(Ye,t):this._channel.command(qe,t)},n.prototype._runReportingTimer=function(e){var t={};t[ne]=!0,e?this._channel.command(je,t):this._channel.command(Ke,t)},n.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoSessionEnd",this._cmdVideoSessionEnd),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoSkip",this._cmdVideoSkip),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdBreakStart",this._cmdAdBreakStart),this._pluginManager.comply(this,"handleAdBreakComplete",this._cmdAdBreakComplete),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleAdSkip",this._cmdAdSkip),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleChapterSkip",this._cmdChapterSkip),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},n.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(y,C),this,"handleVideoLoad",[new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new r(y,P),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new r(y,D),this,"handleVideoSessionEnd",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(y,M),this,"handleVideoStart",[new s(y,"video.id","videoId"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"video.playhead","playhead"),new s(y,"video.playerName","playerName"),new s(y,"video.streamType","streamType"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"ssl","useSsl"),new s(b,"meta","metaNielsen"),new s(v,"publisher","publisher"),new s(v,"sdk","sdk"),new s(v,"ovp","ovp"),new s(v,"version","version"),new s(v,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new r(y,N),this,"handleVideoComplete",[new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,L),this,"handleVideoSkip",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,O),this,"handleVideoResume",[new s(y,"video.id","videoId"),new s(y,"video.name","videoName"),new s(y,"video.length","videoLength"),new s(y,"video.playhead","playhead"),new s(y,"video.playerName","playerName"),new s(y,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new r(y,R),this,"handlePlay",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,x),this,"handlePause",[new s(y,"video.playhead","playhead"),new s(y,"video.playheadStalled","playheadStalled"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,F),this,"handleAdBreakStart",[new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,B),this,"handleAdBreakComplete",[new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,U),this,"handleAdStart",[new s(y,"video.playhead","playhead"),new s(y,"ad.id","adId"),new s(y,"ad.name","adName"),new s(y,"ad.length","adLength"),new s(y,"ad.position","adPosition"),new s(y,"ad.granularTracking","adGranularTracking"),new s(y,"ad.trackingInterval","adTrackingInterval"),new s(y,"pod.name","podName"),new s(y,"pod.playerName","podPlayerName"),new s(y,"pod.position","podPosition"),new s(y,"pod.startTime","podSecond"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(b,"meta","metaNielsen"),new s(b,"metaAd","metaAdNielsen")]),this._pluginManager.registerBehaviour(new r(y,H),this,"handleAdComplete",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,j),this,"handleAdSkip",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAdBreak","isInAdBreak"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,K),this,"handleBufferStart",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,Y),this,"handleBufferComplete",[new s(y,"video.playhead","playhead"),new s(y,"video.playheadStalled","playheadStalled"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,q),this,"handleSeekStart",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(y,W),this,"handleSeekComplete",[new s(y,"video.playhead","playhead"),new s(y,"ad.isInAd","isInAd"),new s(y,"ad.id","adId"),new s(y,"ad.position","adPosition"),new s(y,"pod.playerName","podPlayerName"),new s(y,"pod.position","podPosition"),new s(y,"chapter.isInChapter","isInChapter"),new s(y,"chapter.position","chapterPosition"),new s(y,"chapter.name","chapterName"),new s(y,"chapter.length","chapterLength"),new s(y,"chapter.startTime","chapterOffset"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,G),this,"handleChapterStart",[new s(y,"video.playhead","playhead"),new s(y,"chapter.position","chapterPosition"),new s(y,"chapter.name","chapterName"),new s(y,"chapter.length","chapterLength"),new s(y,"chapter.startTime","chapterOffset"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.chapter.*","metaChapter"),new s(b,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(y,z),this,"handleChapterComplete",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,Q),this,"handleChapterSkip",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,X),this,"handleBitrateChange",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,J),this,"handleTrackError"),this._pluginManager.registerBehaviour(new r(E,te),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(y,V),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(E,ie),this,"handleIdleTick",[new s(y,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(v,ee),this,"handleClockReportingTick",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,T),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new r(m,I),this,"handleAnalyticsStart",[new s(m,"vid","vid"),new s(m,"aid","aid"),new s(m,"mid","mid"),new s(m,"customerIDs","customerIDs"),new s(m,"visitorOptedOut","visitorOptedOut"),new s(m,"blob","blob"),new s(m,"loc_hint","loc_hint"),new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,k),this,"handleAnalyticsAdStart",[new s(y,"video.playhead","playhead"),new s(y,"qos.fps","fps"),new s(y,"qos.droppedFrames","droppedFrames"),new s(y,"qos.bitrate","bitrate"),new s(y,"qos.startupTime","startupTime")])},n.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return d.getVersion()},e.api_level=function(){return d.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return!!t._config&&t._config.quietMode},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return!!t._config&&t._config.__isPrimetime},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},e.session_id=function(){return t._channel.request(S)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var i=null,n=0;n<t.length;n++){var a=t[n];(i=i||{})[a]=e.hasOwnProperty(a)?e[a].call(this):null}return i}},n.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle?(this._isVideoIdle=!1,this._resumePlaybackFromIdle()):this._channel.trigger(new a(De,e)),this._runIdleTimer(!1))},n.prototype._resumePlaybackFromIdle=function(){this._trigger(ee),this._filter.clear(),this._channel.trigger(new a(A)),this._trigger($),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var g="adobe-heartbeat",v=g,m="adobe-analytics",y="player",b="nielsen",E="service.clock",S="session_id",A="reset_session_id",w="heartbeat-channel",T="error",I="aa_start",k="sc_ad_start",C="video_load",P="video_unload",D="video_session_end",M="video_start",O="video_resume",N="video_complete",L="video_skip",R="play",x="pause",V="content_start",F="adbreak_start",B="adbreak_complete",U="ad_start",H="ad_complete",j="ad_skip",K="buffer_start",Y="buffer_complete",q="seek_start",W="seek_complete",G="chapter_start",z="chapter_complete",Q="chapter_skip",X="bitrate_change",J="track_error",Z="video_idle_start",$="video_idle_resume",ee="quantum_close",te="heartbeat.reporting.tick",ie="heartbeat.idle.tick",ne="reset",ae="source",re="error_id",oe="tracking_server",se="check_status_server",le="publisher",ce="quiet_mode",de="ssl",ue="visitor_opt_out",he="tracking_disabled",pe="net:check_status_complete",fe="api:aa_start",_e="api:aa_ad_start",ge="api:config",ve="api:update_visitor_optout",me="api:video_load",ye="api:video_unload",be="api:video_start",Ee="api:video_complete",Se="api:video_skip",Ae="api:video_resume",we="api:video_session_end",Te="api:adbreak_start",Ie="api:adbreak_complete",ke="api:ad_start",Ce="api:ad_complete",Pe="api:ad_skip",De="api:play",Me="api:pause",Oe="api:buffer_start",Ne="api:chapter_start",Le="api:chapter_complete",Re="api:chapter_skip",xe="api:track_error",Ve="api:track_internal_error",Fe="api:bitrate_change",Be="api:quantum_end",Ue="sourceErrorHeartbeat",He="clock:check_status.resume",je="clock:reporting.resume",Ke="clock:reporting.pause",Ye="clock:flush_filter.resume",qe="clock:flush_filter.pause",We="clock:idle.resume",Ge="clock:idle.pause",ze="clock:check_status.get_settings";i.AdobeHeartbeatPlugin=n}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){if(void 0===t)var t={};!function(e,t){function i(e,t){this._onFail={fn:e,ctx:t}}var n=e.ErrorInfo;i.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var i=0;i<t.length;i++){var n=t[i];switch(n){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"mediaType":if(!e.hasOwnProperty("mediaType"))return this._fail("The media type for the main video must be specified.");if("string"!=typeof e.mediaType)return this._fail("The media type for the main video must be a String.");if(""===e.mediaType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+n)}}return!0},i.prototype._fail=function(e){var t=new n("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=i}(e.ADB.va,t),function(e){var t="";e.AdobeAnalyticsPluginConfig=function(){this.channel=t,this.debugLogging=!1}}(t),function(e){function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,i,n){function a(e,t){if(a.__super__.constructor.call(this,v),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");if(e.unsupportedBrowser)throw new Error("AppMeasurement is not supported in current browser.");this._appMeasurement=e,this._delegate=t,this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new d(!0,S),this._inputDataValidator=new g((function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout((function(){t._trigger(A,e),t._delegate&&t._delegate.onError(t._errorInfo)}),0)}),this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Channel,c=e.radio.Command,d=e.radio.CommandQueue,u=t.ErrorInfo,h=i.md5,p=i.StringUtils,f=i.ObjectUtils,_=n.AdobeAnalyticsPluginConfig,g=n.InputDataValidator;e.extend(a,o),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof _))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),a.__super__.setup.call(this)},a.prototype.setVideoMetadata=function(e){this._videoMetadata=f.clone(e)},a.prototype.setAdMetadata=function(e){this._adMetadata=f.clone(e)},a.prototype.setChapterMetadata=function(e){this._chapterMetadata=f.clone(e)},a.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):a.__super__._canProcess.call(this)},a.prototype._cmdVideoLoad=function(e){this._errorInfo=null},a.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpen,this,[e]))},a.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new c(this._executeOpenAd,this,[e]))},a.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(A,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},a.prototype._track=function(e){try{if(!this._appMeasurement.visitorOptedOut){var t=this._appMeasurement.linkTrackVars;this._appMeasurement.linkTrackVars="",this._appMeasurement.track(e),this._appMeasurement.linkTrackVars=t}}catch(e){this._logger.warn(this._logTag,"appMeasurement.track() call threw an exception.")}},a.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","videoLength","playerName"])){var t={};for(var i in e.metaVideo)e.metaVideo.hasOwnProperty(i)&&(t[i]=e.metaVideo[i]);if(e.metaNielsen)for(var i in e.metaNielsen)e.metaNielsen.hasOwnProperty(i)&&(t[i]=e.metaNielsen[i]);t["a.contentType"]=e.streamType,t["a.media.name"]=e.videoId,t["a.media.friendlyName"]=e.videoName||"",t["a.media.length"]=Math.floor(e.videoLength)||"0",t["a.media.playerName"]=e.playerName,t["a.media.channel"]=e.channel||"",t["a.media.view"]=!0,t["a.media.vsid"]=e.sessionId;var n={};n.contextData=t,"audio"===e.mediaType?(n.pev3=I,n.ms_a="1"):n.pev3=w,n.pe=e.isPrimetime?P:C,this._track(n);var a=this;setTimeout((function(){a._trigger(O,e)}),0)}},a.prototype._executeOpenAd=function(e){var t=h(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", mediaType="+e.mediaType+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","mediaType","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond;var i={};for(n in e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(i[n]=e.metaVideo[n]);for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(i[n]=e.metaAd[n]);if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(i[n]=e.metaNielsen[n]);i["a.contentType"]=e.streamType,i["a.media.name"]=e.videoId,i["a.media.playerName"]=e.playerName,i["a.media.channel"]=e.channel||"",i["a.media.vsid"]=e.sessionId,i["a.media.friendlyName"]=e.videoName||"",i["a.media.length"]=Math.floor(e.videoLength)||"0",i["a.media.ad.name"]=e.adId,i["a.media.ad.friendlyName"]=e.adName||"",i["a.media.ad.podFriendlyName"]=e.podName||"",i["a.media.ad.length"]=Math.floor(e.adLength)||"0",i["a.media.ad.playerName"]=e.podPlayerName,i["a.media.ad.pod"]=t,i["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0",i["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0",i["a.media.ad.view"]=!0;var a={};a.contextData=i,"audio"===e.mediaType?(a.pev3=k,a.ms_a="1"):a.pev3=T,a.pe=e.isPrimetime?M:D,this._track(a);var r=this;setTimeout((function(){r._trigger(N,e)}),0)}},a.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.blob=function(){return t._appMeasurement.audienceManagerBlob},e.loc_hint=function(){return t._appMeasurement.audienceManagerLocationHint?parseInt(t._appMeasurement.audienceManagerLocationHint):""},e.customerIDs=function(){var e={},i=t._appMeasurement.visitor.getCustomerIDs();for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];if("object"==typeof a){for(var r in a)a.hasOwnProperty(r)&&("authState"==r?e[n+".as"]=a[r]:e[n+"."+r]=a[r]);e[n+".as"]||(e[n+".as"]="0")}}return e},e.visitorOptedOut=function(){return!!t._appMeasurement.visitorOptedOut},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var i=e.split(".");if(i.length<2)return null;var n=i.shift();switch(e=i.join("."),n){case"video":return e==l.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==l.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==l.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var i=null,n=0;n<t.length;n++){var a=t[n];i=i||{},p.startsWith(a,"meta.")?i[a]=e.meta(a.split("meta.")[1]):i[a]=e.hasOwnProperty(a)?e[a].call(this):null}return i}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(b,L),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(b,R),this,"handleVideoStart",[new s(b,"video.id","videoId"),new s(b,"video.mediaType","mediaType"),new s(b,"video.streamType","streamType"),new s(b,"video.name","videoName"),new s(b,"video.length","videoLength"),new s(b,"video.playerName","playerName"),new s(b,"video.streamType","streamType"),new s(E,"is_primetime","isPrimetime"),new s(E,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(y,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(b,x),this,"handleAdStart",[new s(b,"video.id","videoId"),new s(b,"video.mediaType","mediaType"),new s(b,"video.streamType","streamType"),new s(b,"video.playhead","playhead"),new s(b,"video.playerName","playerName"),new s(b,"video.name","videoName"),new s(b,"video.length","videoLength"),new s(b,"ad.id","adId"),new s(b,"ad.length","adLength"),new s(b,"ad.position","adPosition"),new s(b,"ad.name","adName"),new s(b,"pod.name","podName"),new s(b,"pod.position","podPosition"),new s(b,"pod.playerName","podPlayerName"),new s(b,"pod.startTime","podSecond"),new s(E,"is_primetime","isPrimetime"),new s(E,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(y,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(E,A),this,"handleHeartbeatPluginError")},a.prototype._onAppMeasurementReady=function(){this._logger.debug(this._logTag,"[Init] #_onAppMeasurementReady"),this._workQueue.resume()};var v="adobe-analytics",m=v,y="nielsen",b="player",E="adobe-heartbeat",S=2e3,A="error",w="video",T="videoAd",I="audio",k="audioAd",C="ms_s",P="msp_s",D="msa_s",M="mspa_s",O="aa_start",N="sc_ad_start",L="video_load",R="video_start",x="ad_start";n.AdobeAnalyticsPlugin=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){e.VideoMetadataKeys={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},e.AudioMetadataKeys={ARTIST:"a.media.artist",ALBUM:"a.media.album",LABEL:"a.media.label",AUTHOR:"a.media.author",STATION:"a.media.station",PUBLISHER:"a.media.publisher"},e.AdMetadataKeys={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"}}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this),function(e){!function(e,t){function i(){this._processAction=!0,this._store={}}function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._rules=[]}i.prototype.setRuleName=function(e){this._ruleName=e},i.prototype.getRuleName=function(e,t){return this._ruleName},i.prototype.setData=function(e,t){this._store[e]=t},i.prototype.getData=function(e){return this._store[e]},i.prototype.shouldProcessAction=function(){return this._processAction},i.prototype.stopProcessingAction=function(){this._processAction=!1},i.prototype.startProcessingAction=function(){this._processAction=!0},n.createContext=function(){return new i},n.createPredicate=function(e,t,i){return{fn:e,expectedValue:t,msg:i}},n.prototype.registerRule=function(e,t,i,n,a){this._rules.push({name:e,desc:t,preconditions:i,actions:n,scope:a})},n.prototype.registerEnterExitAction=function(e,t){this._enterAction=e,this._exitAction=t},n.prototype._handleFailure=function(e,t){this._logger.error(a,e.desc+" -  "+t.msg)},n.prototype._getRule=function(e){for(var t=0;t<this._rules.length;++t)if(this._rules[t].name===e)return this._rules[t];return null},n.prototype.processRule=function(e,t){var i=!0,r=this._getRule(e);if(r){var o=r.scope;t||(t=n.createContext()),t.setRuleName(e);for(var s=!1,l=0;l<r.preconditions.length;++l){var c=r.preconditions[l];if(s=!!c.fn.call(o,t)!==c.expectedValue){this._handleFailure(r,c);break}}if(s)i=!1;else{for(t.startProcessingAction(),this._enterAction&&this._enterAction.call(o,t),l=0;l<r.actions.length;++l){var d=r.actions[l];if(!t.shouldProcessAction()){this._logger.info(a,"Stopping actions for "+r.desc);break}d.call(o,t)}this._exitAction&&t.shouldProcessAction()&&this._exitAction.call(o,t)}}else this._logger.warn(a,"No registered event found for ruleName "+e),i=!1;return i};var a="RuleEngine";t._RuleEngine=n}(e.ADB.core,e.ADB.va),function(e,t){function i(e,t,i){this.taskFn=e,this.scope=t,this.interval=i,this.remainingInterval=i}function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._tasks=[],this._pausedTasks=[]}i.prototype.elapsedTime=function(e){this.remainingInterval-=e},i.prototype.shouldExecute=function(){return this.remainingInterval<=0},i.prototype.execute=function(){this.taskFn.call(this.scope)},n.prototype._getCurrentTimeInMS=function(){return(new Date).getTime()},n.prototype._runTasksForTime=function(e){var t=[],i=e-this._lastTickTime;this._lastTickTime=e;for(var n=0;n<this._tasks.length;){var a=this._tasks[n];a.elapsedTime(i),a.shouldExecute()?(t.push(a),this._tasks.splice(n,1)):++n}for(this._checkStopTimer(),n=0;n<t.length;++n)t[n].execute()},n.prototype._onTick=function(){var e=this._getCurrentTimeInMS();this._runTasksForTime(e)},n.prototype._startTimer=function(){var e=this;this._timer||(this._logger.info(a,"#startTimer()"),e._lastTickTime=this._getCurrentTimeInMS(),this._timer=window.setInterval((function(){e._onTick()}),r))},n.prototype._stopTimer=function(){this._timer&&(this._logger.info(a,"#stopTimer()"),window.clearInterval(this._timer),this._timer=null)},n.prototype._checkStartTimer=function(){this._tasks.length>0&&this._startTimer()},n.prototype._checkStopTimer=function(){0===this._tasks.length&&this._stopTimer()},n.prototype._removeTask=function(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return e.splice(i,1),!0;return!1},n.prototype.scheduleTask=function(e,t,n){if(this._logger.info(a,"#scheduleTask()"),!e)throw new Error("Reference to the taskFn cannot be NULL");var r=new i(e,t,n);return this._tasks.push(r),this._checkStartTimer(),r},n.prototype.cancelTask=function(e){this._logger.info(a,"#cancelTask()"),this._removeTask(this._tasks,e),this._checkStopTimer()},n.prototype.pauseTask=function(e){this._logger.info(a,"#pauseTask()"),this._removeTask(this._tasks,e)&&this._pausedTasks.push(e),this._checkStopTimer()},n.prototype.resumeTask=function(e){this._logger.info(a,"#resumeTask()"),this._removeTask(this._pausedTasks,e)&&this._tasks.push(e),this._checkStartTimer()},n.prototype.clearTasks=function(){this._stopTimer(),this._tasks=[],this._pausedTasks=[]};var a="TaskScheduler",r=250;t._TaskScheduler=n}(e.ADB.core,e.ADB.va),function(e){function t(){this.trackingServer=void 0,this.channel=void 0,this.ovp=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!1,this.debugLogging=!1}e.MediaHeartbeatConfig=t,e.MediaHeartbeatConfig.sharedInstance=new t}(e.ADB.va),function(e){function t(){this.data={}}var i=e.plugins.videoplayer.VideoInfo,n=e.plugins.videoplayer.AdBreakInfo,a=e.plugins.videoplayer.AdInfo,r=e.plugins.videoplayer.ChapterInfo,o=e.plugins.videoplayer.QoSInfo;t.MEDIAINFO_KEY_NAME="a.name",t.MEDIAINFO_KEY_VIDEOID="a.videoId",t.MEDIAINFO_KEY_ADID="a.adId",t.MEDIAINFO_KEY_LENGTH="a.length",t.MEDIAINFO_KEY_PLAYHEAD="a.playhead",t.MEDIAINFO_KEY_MEDIATYPE="a.mediaType",t.MEDIAINFO_KEY_STREAMTYPE="a.streamType",t.MEDIAINFO_KEY_POSITION="a.position",t.MEDIAINFO_KEY_STARTTIME="a.startTime",t.MEDIAINFO_KEY_BITRATE="a.bitrate",t.MEDIAINFO_KEY_FPS="a.fps",t.MEDIAINFO_KEY_DROPPEDFRAMES="a.droppedFrames",t.MEDIAINFO_KEY_STARTUPTIME="a.startupTime",t.MEDIAINFO_KEY_TIMEDMETADATA="a.timedMetadata",t.prototype.setValue=function(e,t){this.data[e]=t},t.prototype.getValue=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},t.prototype.createVideoInfo=function(){var e=new i;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_VIDEOID)?this.getValue(t.MEDIAINFO_KEY_VIDEOID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.playhead=null!=this.getValue(t.MEDIAINFO_KEY_PLAYHEAD)?this.getValue(t.MEDIAINFO_KEY_PLAYHEAD):0,e.mediaType=null!=this.getValue(t.MEDIAINFO_KEY_MEDIATYPE)?this.getValue(t.MEDIAINFO_KEY_MEDIATYPE):"",e.streamType=null!=this.getValue(t.MEDIAINFO_KEY_STREAMTYPE)?this.getValue(t.MEDIAINFO_KEY_STREAMTYPE):"",e},t.prototype.createAdBreakInfo=function(){var e=new n;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e},t.prototype.createAdInfo=function(){var e=new a;return e.id=null!=this.getValue(t.MEDIAINFO_KEY_ADID)?this.getValue(t.MEDIAINFO_KEY_ADID):"",e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createChapterInfo=function(){var e=new r;return e.name=null!=this.getValue(t.MEDIAINFO_KEY_NAME)?this.getValue(t.MEDIAINFO_KEY_NAME):"",e.length=null!=this.getValue(t.MEDIAINFO_KEY_LENGTH)?this.getValue(t.MEDIAINFO_KEY_LENGTH):0,e.startTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTTIME)?this.getValue(t.MEDIAINFO_KEY_STARTTIME):0,e.position=null!=this.getValue(t.MEDIAINFO_KEY_POSITION)?this.getValue(t.MEDIAINFO_KEY_POSITION):0,e},t.prototype.createQoSInfo=function(){var e=new o;return e.bitrate=null!=this.getValue(t.MEDIAINFO_KEY_BITRATE)?this.getValue(t.MEDIAINFO_KEY_BITRATE):0,e.fps=null!=this.getValue(t.MEDIAINFO_KEY_FPS)?this.getValue(t.MEDIAINFO_KEY_FPS):0,e.droppedFrames=null!=this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES)?this.getValue(t.MEDIAINFO_KEY_DROPPEDFRAMES):0,e.startupTime=null!=this.getValue(t.MEDIAINFO_KEY_STARTUPTIME)?this.getValue(t.MEDIAINFO_KEY_STARTUPTIME):0,e},t.prototype.isEqual=function(e){if(this===e)return!0;if(!e||"object"!=typeof e||"function"!=typeof e.getValue)return!1;for(var i=[t.MEDIAINFO_KEY_NAME,t.MEDIAINFO_KEY_VIDEOID,t.MEDIAINFO_KEY_ADID,t.MEDIAINFO_KEY_LENGTH,t.MEDIAINFO_KEY_PLAYHEAD,t.MEDIAINFO_KEY_STREAMTYPE,t.MEDIAINFO_KEY_MEDIATYPE,t.MEDIAINFO_KEY_POSITION,t.MEDIAINFO_KEY_STARTTIME,t.MEDIAINFO_KEY_BITRATE,t.MEDIAINFO_KEY_FPS,t.MEDIAINFO_KEY_DROPPEDFRAMES,t.MEDIAINFO_KEY_STARTUPTIME,t.MEDIAINFO_KEY_TIMEDMETADATA],n=0;n<i.length;++n){var a=i[n];if(this.getValue(a)!==e.getValue(a))return!1}return!0},e.MediaObject=t}(e.ADB.va),function(e,t){function i(e){i.__super__.constructor.call(this),this._heartbeat=e}function n(e){n.__super__.constructor.call(this),this._heartbeat=e}function a(e){a.__super__.constructor.call(this),this._heartbeat=e}function r(e){r.__super__.constructor.call(this),this._heartbeat=e}e.extend(i,t.plugins.aa.AdobeAnalyticsPluginDelegate),i.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(n,t.plugins.ah.AdobeHeartbeatPluginDelegate),n.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},n.prototype.onTrackingDisabled=function(){this._heartbeat&&this._heartbeat._disableHBTracking()},e.extend(a,t.HeartbeatDelegate),a.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},e.extend(r,t.plugins.videoplayer.VideoPlayerPluginDelegate),r.prototype.getVideoInfo=function(){return this._heartbeat&&this._heartbeat._videoInfo?(this._heartbeat._delegate&&(this._heartbeat._videoInfo.playhead=this._heartbeat._delegate.getCurrentPlaybackTime()),this._heartbeat._videoInfo):null},r.prototype.getAdBreakInfo=function(){return this._heartbeat&&this._heartbeat._adBreakInfo?this._heartbeat._adBreakInfo:null},r.prototype.getAdInfo=function(){return this._heartbeat&&this._heartbeat._adInfo?this._heartbeat._adInfo:null},r.prototype.getChapterInfo=function(){return this._heartbeat&&this._heartbeat._chapterInfo?this._heartbeat._chapterInfo:null},r.prototype.getQoSInfo=function(){if(this._heartbeat&&this._heartbeat._delegate&&this._heartbeat._delegate.getQoSObject()){var e=this._heartbeat._delegate.getQoSObject();if(e&&"object"==typeof e&&e.setValue)return e.createQoSInfo()}return null},t._MediaAnalyticsPluginDelegate=i,t._MediaHeartbeatPluginDelegate=n,t._ADBMediaHeartbeatDelegate=a,t._MediaHeartbeatVideoPlayerPluginDelegate=r}(e.ADB.core,e.ADB.va),function(e,t){function i(e,n){i.__super__.constructor.call(this),this._heartbeat=e,this._logger=n,this._validator=new t.plugins.nielsen.MetadataValidator(n)}var n="MediaHeartbeatNielsenPluginDelegate",a={NielsenContentMetadata:"media_nielsen_content_metadata",NielsenChannelMetadata:"media_nielsen_channel_metadata",NielsenAdMetadata:"media_nielsen_ad_metadata"};t.plugins.nielsen&&e.extend(i,t.plugins.nielsen.NielsenPluginDelegate),i.prototype.getMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(a.NielsenContentMetadata);if(e&&"object"==typeof e)return this._validator.validateContentMetadata(e,"MediaHeartbeat.NielsenContentMetadataKeys"),e;this._logger.warn(n,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenContentMetadata in MediaObject")}return null},i.prototype.getAdMetadataInfo=function(){if(this._heartbeat&&this._heartbeat._currentAdObject){var e=this._heartbeat._currentAdObject.getValue(a.NielsenAdMetadata);if(e&&"object"==typeof e)return this._validator.validateAdMetadata(e,"MediaHeartbeat.NielsenAdMetadataKeys"),e;this._logger.warn(n,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenAdMetadata in MediaObject")}return null},i.prototype.getChannelInfo=function(){if(this._heartbeat&&this._heartbeat._currentMediaObject){var e=this._heartbeat._currentMediaObject.getValue(a.NielsenChannelMetadata);if(e&&"object"==typeof e)return this._validator.validateChannelMetadata(e,"MediaHeartbeat.NielsenChannelMetadataKeys"),e;this._logger.warn(n,"We expect a valid object for MediaHeartbeat.MediaObjectKey.NielsenChannelMetadata in MediaObject")}return null},i.prototype.onError=function(e){this._heartbeat&&this._heartbeat._onDelegateError(e)},t.plugins.nielsen&&(t._NielsenObjectKey=a,t._NielsenPluginDelegate=i)}(e.ADB.core,e.ADB.va),function(t,i){function n(){}function a(t,n,a){if(this._appMeasurement=a||e.s,!this._appMeasurement)throw new Error("MediaHeartbeat needs a valid AppMeasurement instance.");if(!this._appMeasurement.visitor||!this._appMeasurement.visitor.marketingCloudOrgID)throw new Error("MediaHeartbeat needs a valid visitor instance with marketingCloudOrgId set.");if(!t)throw new Error("MediaHeartbeat needs a valid delegate object.");if(!n||"object"!=typeof n||!n.trackingServer)throw new Error("MediaHeartbeat needs a valid config object with trackingServer set.");this._config=n,this._delegate=t,this._debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,this._logger=new r,this._debugLogging?this._logger.enable():this._logger.disable(),this._ruleEngine=new y(this._logger),this._taskScheduler=new b(this._logger),this._resetState(),this._setupRules()}var r=t.Logger,o=i.MediaObject,s=i.Heartbeat,l=i.HeartbeatConfig,c=i._ADBMediaHeartbeatDelegate,d=i.plugins.videoplayer.VideoPlayerPlugin,u=i.plugins.videoplayer.VideoPlayerPluginConfig,h=i._MediaHeartbeatVideoPlayerPluginDelegate,p=i.plugins.aa.AdobeAnalyticsPlugin,f=i.plugins.aa.AdobeAnalyticsPluginConfig,_=i._MediaAnalyticsPluginDelegate,g=i.plugins.ah.AdobeHeartbeatPlugin,v=i.plugins.ah.AdobeHeartbeatPluginConfig,m=i._MediaHeartbeatPluginDelegate,y=i._RuleEngine,b=i._TaskScheduler,E=i.utils.ObjectUtils,S=i.utils.VersionUtils;if(n.prototype.getCurrentPlaybackTime=function(){return null},n.prototype.getQoSObject=function(){return null},a.MediaType={Video:"video",Audio:"audio"},a.Event={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",TimedMetadataUpdate:"timedMetadataUpdate"},a.StreamType={VOD:"vod",LIVE:"live",LINEAR:"linear",PODCAST:"podcast",AUDIOBOOK:"audiobook",AOD:"aod"},a.MediaObjectKey={StandardVideoMetadata:"media_standard_content_metadata",StandardMediaMetadata:"media_standard_content_metadata",StandardAdMetadata:"media_standard_ad_metadata",VideoResumed:"resumed",MediaResumed:"resumed",PrerollTrackingWaitingTime:"preroll_tracking_waiting_time"},a.VideoMetadataKeys=i.plugins.aa.VideoMetadataKeys,a.AudioMetadataKeys=i.plugins.aa.AudioMetadataKeys,a.AdMetadataKeys=i.plugins.aa.AdMetadataKeys,a.createMediaObject=function(e,t,i,n,r){var s=new o;s.setValue(o.MEDIAINFO_KEY_VIDEOID,t),s.setValue(o.MEDIAINFO_KEY_NAME,e),s.setValue(o.MEDIAINFO_KEY_LENGTH,i),s.setValue(o.MEDIAINFO_KEY_PLAYHEAD,0);var l=n||a.StreamType.VOD;return s.setValue(o.MEDIAINFO_KEY_STREAMTYPE,l),("string"!=typeof r||r!=a.MediaType.Video&&r!=a.MediaType.Audio)&&(r=a.MediaType.Video),s.setValue(o.MEDIAINFO_KEY_MEDIATYPE,r),s},a.createAdBreakObject=function(e,t,i){var n=new o;return n.setValue(o.MEDIAINFO_KEY_NAME,e),n.setValue(o.MEDIAINFO_KEY_POSITION,t),n.setValue(o.MEDIAINFO_KEY_STARTTIME,i),n},a.createAdObject=function(e,t,i,n){var a=new o;return a.setValue(o.MEDIAINFO_KEY_NAME,e),a.setValue(o.MEDIAINFO_KEY_ADID,t),a.setValue(o.MEDIAINFO_KEY_POSITION,i),a.setValue(o.MEDIAINFO_KEY_LENGTH,n),a},a.createChapterObject=function(e,t,i,n){var a=new o;return a.setValue(o.MEDIAINFO_KEY_NAME,e),a.setValue(o.MEDIAINFO_KEY_POSITION,t),a.setValue(o.MEDIAINFO_KEY_LENGTH,i),a.setValue(o.MEDIAINFO_KEY_STARTTIME,n),a},a.createQoSObject=function(e,t,i,n){var a=new o;return a.setValue(o.MEDIAINFO_KEY_BITRATE,e),a.setValue(o.MEDIAINFO_KEY_FPS,i),a.setValue(o.MEDIAINFO_KEY_DROPPEDFRAMES,n),a.setValue(o.MEDIAINFO_KEY_STARTUPTIME,t),a},a.createTimedMetadataObject=function(e){var t=new o;return t.setValue(o.MEDIAINFO_KEY_TIMEDMETADATA,e),t},a.version=function(){return i.Version.getVersion()},a.prototype.trackSessionStart=function(e,t){this._logger.info(C,"#::trackSessionStart()");var i=y.createContext();i.setData(P,e),i.setData(L,this._cleanContextData(t)),this._processRule(I.SessionStart,i)},a.prototype.trackPlay=function(){this._logger.info(C,"#::trackPlay()"),this._processRule(I.Play)},a.prototype.trackPause=function(){this._logger.info(C,"#::trackPause()"),this._processRule(I.Pause)},a.prototype.trackComplete=function(){this._logger.info(C,"#::trackComplete()"),this._processRule(I.VideoComplete)},a.prototype.trackSessionEnd=function(){this._logger.info(C,"#::trackSessionEnd()"),this._processRule(I.SessionEnd)},a.prototype.trackError=function(e){this._logger.info(C,"#::trackError()");var t=y.createContext();t.setData(R,e),this._processRule(I.Error,t)},a.prototype.trackEvent=function(e,t,i){this._logger.info(C,"#::trackEvent() - "+e);var n,r=y.createContext();switch(e){case a.Event.AdBreakStart:r.setData(D,t),r.setData(L,this._cleanContextData(i)),n=I.AdBreakStart;break;case a.Event.AdBreakComplete:n=I.AdBreakComplete;break;case a.Event.AdStart:r.setData(M,t),r.setData(L,this._cleanContextData(i)),n=I.AdStart;break;case a.Event.AdComplete:n=I.AdComplete;break;case a.Event.AdSkip:n=I.AdSkip;break;case a.Event.SeekStart:n=I.SeekStart;break;case a.Event.SeekComplete:n=I.SeekComplete;break;case a.Event.ChapterStart:r.setData(O,t),r.setData(L,this._cleanContextData(i)),n=I.ChapterStart;break;case a.Event.ChapterComplete:n=I.ChapterComplete;break;case a.Event.ChapterSkip:n=I.ChapterSkip;break;case a.Event.BufferStart:n=I.BufferStart;break;case a.Event.BufferComplete:n=I.BufferComplete;break;case a.Event.BitrateChange:n=I.BitrateChange;break;case a.Event.TimedMetadataUpdate:n=I.TimedMetadataUpdate,r.setData(N,t);break;default:return void this._logger.error(C,"Incorrect event name.")}this._processRule(n,r)},i.plugins.nielsen){var A=i.MediaHeartbeatConfig;A.prototype.nielsenConfigKey=void 0,A.prototype.nielsenAppInfo=void 0;var w=i._NielsenObjectKey;a.MediaObjectKey.NielsenContentMetadata=w.NielsenContentMetadata,a.MediaObjectKey.NielsenAdMetadata=w.NielsenAdMetadata,a.MediaObjectKey.NielsenChannelMetadata=w.NielsenChannelMetadata,a.NielsenContentMetadataKeys=i.plugins.nielsen.ContentMetadataKeys,a.NielsenChannelMetadataKeys=i.plugins.nielsen.ChannelMetadataKeys,a.NielsenAdMetadataKeys=i.plugins.nielsen.AdMetadataKeys,a.prototype.nielsenLoadMetadata=function(e){this._nielsenPlugin&&this._nielsenPlugin.loadMetadata(e)}}a.prototype._setState=function(e,t){this._mediaState[e]=t},a.prototype._isInState=function(e){return this._mediaState[e]},a.prototype._isTrackingDisabled=function(e){return this._mediaHeartbeatDisabled},a.prototype._isInSession=function(e){return this._isInState(T.Session)},a.prototype._isInMedia=function(e){return this._isInState(T.Media)},a.prototype._isInAd=function(e){return this._isInState(T.Ad)},a.prototype._isInAdBreak=function(e){return this._isInState(T.AdBreak)},a.prototype._isInChapter=function(e){return this._isInState(T.Chapter)},a.prototype._isInPlay=function(e){return this._isInState(T.PlayPause)},a.prototype._isInPause=function(e){return!this._isInState(T.PlayPause)},a.prototype._isInBuffer=function(e){return this._isInState(T.Buffer)},a.prototype._isInSeek=function(e){return this._isInState(T.Seek)},a.prototype._isPlatformTrackingSupported=function(e){return!this._appMeasurement.unsupportedBrowser},a.prototype._isAudioTrackingSupported=function(e){return e.getData(P).getValue(o.MEDIAINFO_KEY_MEDIATYPE)!==a.MediaType.Audio||S.isGreaterThanEqual(this._appMeasurement.version,"2.11.0")},a.prototype._isValidMediaObject=function(e){var t=e.getData(P);if(t&&t instanceof o){var i=t.getValue(a.MediaObjectKey.MediaResumed);null!=i&&"boolean"!=typeof i&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.MediaResumed in MediaObject as we expect a boolean value");var n=t.getValue(a.MediaObjectKey.PrerollTrackingWaitingTime);null!=n&&(("string"==typeof n||"number"==typeof n)&&!isNaN(n)||this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.PrerollTrackingWaitingTime in MediaObject as we expect a valid duration as number in milliseconds."));var r=t.getValue(a.MediaObjectKey.StandardMediaMetadata);return null!=r&&"object"!=typeof r&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardMediaMetadata in MediaObject as we expect a valid object with kv pairs."),!0}return!1},a.prototype._isValidAdBreakObject=function(e){var t=e.getData(D);return t&&t instanceof o},a.prototype._isDifferentAdBreakObject=function(e){var t=e.getData(D);return!(this._currentAdBreakObject&&this._currentAdBreakObject.isEqual(t))},a.prototype._isValidAdObject=function(e){var t=e.getData(M);if(t&&t instanceof o){var i=t.getValue(F);null!=i&&"boolean"!=typeof i&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.GranularAdTracking in AdObject as we expect a boolean value.");var n=t.getValue(a.MediaObjectKey.StandardAdMetadata);return null!=n&&"object"!=typeof n&&this._logger.warn(C,"Ignoring value set for MediaHeartbeat.MediaObjectKey.StandardAdMetadata in AdObject as we expect a valid object with kv pairs."),!0}return!1},a.prototype._isDifferentAdObject=function(e){var t=e.getData(M);return!(this._currentAdObject&&this._currentAdObject.isEqual(t))},a.prototype._isValidChapterObject=function(e){var t=e.getData(O);return t&&t instanceof o},a.prototype._isDifferentChapterObject=function(e){var t=e.getData(O);return!(this._currentChapterObject&&this._currentChapterObject.isEqual(t))},a.prototype._isValidTimedMetadataObject=function(e){var t=e.getData(N);if(t&&t instanceof o){var i=t.getValue(o.MEDIAINFO_KEY_TIMEDMETADATA);return i&&"string"==typeof i}return!1},a.prototype._shouldAllowPlayerStateChange=function(e){return!(this._isInState(T.AdBreak)&&!this._isInState(T.Ad))},a.prototype._deferredTrackPlay=function(){this._prerollWaitEnabled&&(this._logger.info(C,"Executing deferred API:trackPlay."),this._prerollWaitEnabled=!1,this._playTaskHandle=null,this._processRule(I.Play))},a.prototype._cmdEnterAction=function(e){var t=e.getRuleName();if(this._prerollWaitEnabled)if(this._playReceived)switch(t){case I.SeekStart:case I.BufferStart:this._logger.info(C,"Cancelling scheduled API:trackPlay because of SeekStart/BufferStart event"),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null;break;case I.SeekComplete:case I.BufferComplete:this._logger.info(C,"Rescheduled API:trackPlay after SeekComplete/BufferComplete event"),this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime);break;case I.Play:this._logger.info(C,"Dropping API:trackPlay as we already have a API:trackPlay scheduled."),e.stopProcessingAction();break;case I.Pause:this._logger.info(C,"Cancelling scheduled API:trackPlay because of API:trackPause call."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1;break;case I.AdBreakStart:this._logger.info(C,"Received API:trackEvent(AdBreakStart) within "+this._prerollWaitTime+" ms after API:trackPlay. We will track this as preroll AdBreak."),this._taskScheduler.cancelTask(this._playTaskHandle),this._playTaskHandle=null,this._prerollWaitEnabled=!1,this._playAfterAdStart=!0}else switch(t){case I.Play:this._logger.info(C,"Deferring API:trackPlay for "+this._prerollWaitTime+" ms."),this._playReceived=!0,this._playTaskHandle=this._taskScheduler.scheduleTask(this._deferredTrackPlay,this,this._prerollWaitTime),e.stopProcessingAction();break;case I.AdBreakStart:this._logger.info(C,"Received trackEvent(AdBreakStart) before first trackPlay."),this._prerollWaitEnabled=!1}},a.prototype._cmdExitAction=function(e){var t=e.getRuleName();this._playAfterAdStart&&(t===I.AdStart?(this._cmdPlay(e),this._playAfterAdStart=!1):t===I.AdBreakComplete&&(this._playAfterAdStart=!1)),t!==I.AdStart||this._isInState(T.FPlayPause)||this._cmdPlay(e)},a.prototype._cmdConfigure=function(e){this._resetState(),this._configureAdobeAnalyticsPlugin(),this._configureAdobeHearbeatPlugin(),this._configureVideoPlayerPlugin(),this._configureOtherPlugins(),this._configureHeartbeat()},a.prototype._cmdSessionStart=function(e){var t=e.getData(P),i=e.getData(L);this._currentMediaObject=t,this._videoInfo=t.createVideoInfo(),this._videoInfo.playerName=this._config.playerName?this._config.playerName:"";var n=t.getValue(a.MediaObjectKey.StandardMediaMetadata);n&&"object"==typeof n||(n=null);var r=t.getValue(a.MediaObjectKey.MediaResumed);"boolean"==typeof r&&(this._videoInfo.resumed=r);var o=t.getValue(a.MediaObjectKey.PrerollTrackingWaitingTime);"string"!=typeof o&&"number"!=typeof o||isNaN(o)||(this._prerollWaitTime=Number(o),this._prerollWaitTime<=0&&(this._prerollWaitEnabled=!1));var s=this._prepareMetadata(n,i);s[x]=this._videoInfo.mediaType,this._aaPlugin.setVideoMetadata(s),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackSessionStart(),this._setState(T.Session,!0),this._setState(T.Media,!0)},a.prototype._cmdVideoEnd=function(e){var t=e.getRuleName()===I.VideoComplete;if(this._isInState(T.Media)){var i=this._heartbeat,n=this._playerPlugin;this._playerPlugin.trackComplete((function(){n&&n.trackVideoUnload(),i&&i.destroy()}),t)}this._setState(T.Media,!1)},a.prototype._cmdHandleMediaComplete=function(e){this._isInMedia(e)||(this._logger.info(C,"API:trackComplete has already cleaned up Heartbeat instance."),this._cmdSessionEnd(e),e.stopProcessingAction())},a.prototype._cmdSessionEnd=function(e){this._setState(T.Session,!1),this._resetState()},a.prototype._cmdDisableTracking=function(e){this._logger.info(C,"#_cmdDisableTracking: ADBMediaHeartbeat Tracking Disabled Remotely."),this._mediaHeartbeatDisabled=!0},a.prototype._cmdBufferStart=function(e){this._playerPlugin.trackBufferStart(),this._setState(T.Buffer,!0)},a.prototype._cmdBufferComplete=function(e){this._isInState(T.Buffer)&&this._playerPlugin.trackBufferComplete(),this._setState(T.Buffer,!1)},a.prototype._cmdSeekStart=function(e){this._playerPlugin.trackSeekStart(),this._setState(T.Seek,!0)},a.prototype._cmdSeekComplete=function(e){this._isInState(T.Seek)&&this._playerPlugin.trackSeekComplete(),this._setState(T.Seek,!1)},a.prototype._cmdPlay=function(e){this._playerPlugin.trackPlay(),this._setState(T.PlayPause,!0),this._setState(T.FPlayPause,!0)},a.prototype._cmdPause=function(e){this._playerPlugin.trackPause(),this._setState(T.PlayPause,!1),this._setState(T.FPlayPause,!0)},a.prototype._cmdAdBreakStart=function(e){var t=e.getData(D);this._currentAdBreakObject=t,this._adBreakInfo=t.createAdBreakInfo(),this._adBreakInfo.playerName=this._config.playerName?this._config.playerName:"",this._playerPlugin.trackAdBreakStart(),this._setState(T.AdBreak,!0)},a.prototype._cmdAdBreakComplete=function(e){this._currentAdBreakObject=null,this._adBreakInfo=null,this._isInState(T.AdBreak)&&this._playerPlugin.trackAdBreakComplete(),this._setState(T.AdBreak,!1)},a.prototype._cmdAdStart=function(e){var t=e.getData(M),i=e.getData(L);this._currentAdObject=t,this._adInfo=t.createAdInfo();var n=t.getValue(F);"boolean"==typeof n&&(this._adInfo.granularTracking=n);var r=t.getValue(a.MediaObjectKey.StandardAdMetadata);r&&"object"==typeof r||(r=null);var o=this._prepareMetadata(r,i);this._aaPlugin.setAdMetadata(o),this._playerPlugin.trackAdStart(),this._setState(T.Ad,!0)},a.prototype._cmdAdComplete=function(e){this._currentAdObject=null,this._adInfo=null,this._isInState(T.Ad)&&this._playerPlugin.trackAdComplete(),this._setState(T.Ad,!1)},a.prototype._cmdAdSkip=function(e){this._currentAdObject=null,this._adInfo=null,this._isInState(T.Ad)&&this._playerPlugin.trackAdSkip(),this._setState(T.Ad,!1)},a.prototype._cmdChapterStart=function(e){var t=e.getData(O),i=e.getData(L);this._currentChapterObject=t,this._chapterInfo=t.createChapterInfo();var n=this._prepareMetadata(null,i);this._aaPlugin.setChapterMetadata(n),this._playerPlugin.trackChapterStart(),this._setState(T.Chapter,!0)},a.prototype._cmdChapterComplete=function(e){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(T.Chapter)&&this._playerPlugin.trackChapterComplete(),this._setState(T.Chapter,!1)},a.prototype._cmdChapterSkip=function(e){this._currentChapterObject=null,this._chapterInfo=null,this._isInState(T.Chapter)&&this._playerPlugin.trackChapterSkip(),this._setState(T.Chapter,!1)},a.prototype._cmdError=function(e){var t=e.getData(R);t||(t="unknown_error_id"),this._playerPlugin.trackVideoPlayerError(t)},a.prototype._cmdBitrate=function(e){this._playerPlugin.trackBitrateChange()},a.prototype._cmdTimedMetadataUpdate=function(e){var t=e.getData(N).getValue(o.MEDIAINFO_KEY_TIMEDMETADATA);this._playerPlugin.trackTimedMetadata(t)},a.prototype._processRule=function(e,t){return this._ruleEngine.processRule(e,t)},a.prototype._setupRules=function(){this._ruleEngine.registerEnterExitAction(this._cmdEnterAction,this._cmdExitAction),this._ruleEngine.registerRule(I.SessionStart,"API:trackSessionStart",[y.createPredicate(this._isPlatformTrackingSupported,!0,k.ErrUnSupportedPlatform),y.createPredicate(this._isTrackingDisabled,!1,k.ErrTrackingDisabled),y.createPredicate(this._isInSession,!1,k.ErrInSession),y.createPredicate(this._isValidMediaObject,!0,k.ErrInvalidMediaObject),y.createPredicate(this._isAudioTrackingSupported,!0,k.ErrAudioTrackingNotSupported)],[this._cmdConfigure,this._cmdSessionStart],this),this._ruleEngine.registerRule(I.SessionEnd,"API:trackSessionEnd",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession)],[this._cmdHandleMediaComplete,this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd,this._cmdSessionEnd],this),this._ruleEngine.registerRule(I.VideoComplete,"API:trackComplete",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdChapterSkip,this._cmdVideoEnd],this),this._ruleEngine.registerRule(I.DisableTracking,"DisableTracking",[y.createPredicate(this._isTrackingDisabled,!1,k.ErrTrackingDisabled)],[this._cmdDisableTracking],this),this._ruleEngine.registerRule(I.Error,"API:trackError",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia)],[this._cmdError],this),this._ruleEngine.registerRule(I.Play,"API:trackPlay",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState)],[this._cmdSeekComplete,this._cmdBufferComplete,this._cmdPlay],this),this._ruleEngine.registerRule(I.Pause,"API:trackPause",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!1,k.ErrInBuffer),y.createPredicate(this._isInSeek,!1,k.ErrInSeek)],[this._cmdPause],this),this._ruleEngine.registerRule(I.BufferStart,"API:trackEvent(BufferStart)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!1,k.ErrInBuffer),y.createPredicate(this._isInSeek,!1,k.ErrInSeek)],[this._cmdBufferStart],this),this._ruleEngine.registerRule(I.BufferComplete,"API:trackEvent(BufferComplete)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState),y.createPredicate(this._isInBuffer,!0,k.ErrNotInBuffer)],[this._cmdBufferComplete],this),this._ruleEngine.registerRule(I.SeekStart,"API:trackEvent(SeekStart)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState),y.createPredicate(this._isInSeek,!1,k.ErrInSeek),y.createPredicate(this._isInBuffer,!1,k.ErrInBuffer)],[this._cmdSeekStart],this),this._ruleEngine.registerRule(I.SeekComplete,"API:trackEvent(SeekComplete)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._shouldAllowPlayerStateChange,!0,k.ErrInvalidPlayerState),y.createPredicate(this._isInSeek,!0,k.ErrNotInSeek)],[this._cmdSeekComplete],this),this._ruleEngine.registerRule(I.AdBreakStart,"API:trackEvent(AdBreakStart)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isValidAdBreakObject,!0,k.ErrInvalidAdBreakObject),y.createPredicate(this._isDifferentAdBreakObject,!0,k.ErrDuplicateAdBreakObject)],[this._cmdAdSkip,this._cmdAdBreakComplete,this._cmdAdBreakStart],this),this._ruleEngine.registerRule(I.AdBreakComplete,"API:trackEvent(AdBreakComplete)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,k.ErrNotInAdBreak)],[this._cmdAdSkip,this._cmdAdBreakComplete],this),this._ruleEngine.registerRule(I.AdStart,"API:trackEvent(AdStart)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,k.ErrNotInAdBreak),y.createPredicate(this._isValidAdObject,!0,k.ErrInvalidAdObject),y.createPredicate(this._isDifferentAdObject,!0,k.ErrDuplicateAdObject)],[this._cmdAdSkip,this._cmdAdStart],this),this._ruleEngine.registerRule(I.AdComplete,"API:trackEvent(AdComplete)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,k.ErrNotInAdBreak),y.createPredicate(this._isInAd,!0,k.ErrNotInAd)],[this._cmdAdComplete],this),this._ruleEngine.registerRule(I.AdSkip,"API:trackEvent(AdSkip)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInAdBreak,!0,k.ErrNotInAdBreak),y.createPredicate(this._isInAd,!0,k.ErrNotInAd)],[this._cmdAdSkip],this),this._ruleEngine.registerRule(I.ChapterStart,"API:trackEvent(ChapterStart)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isValidChapterObject,!0,k.ErrInvalidChapterObject),y.createPredicate(this._isDifferentChapterObject,!0,k.ErrDuplicateChapterObject)],[this._cmdChapterSkip,this._cmdChapterStart],this),this._ruleEngine.registerRule(I.ChapterComplete,"API:trackEvent(ChapterComplete)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInChapter,!0,k.ErrNotInChapter)],[this._cmdChapterComplete],this),this._ruleEngine.registerRule(I.ChapterSkip,"API:trackEvent(ChapterSkip)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isInChapter,!0,k.ErrNotInChapter)],[this._cmdChapterSkip],this),this._ruleEngine.registerRule(I.BitrateChange,"API:trackEvent(BitrateChange)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia)],[this._cmdBitrate],this),this._ruleEngine.registerRule(I.TimedMetadataUpdate,"API:trackEvent(TimedMetadataUpdate)",[y.createPredicate(this._isInSession,!0,k.ErrNotInSession),y.createPredicate(this._isInMedia,!0,k.ErrNotInMedia),y.createPredicate(this._isValidTimedMetadataObject,!0,k.ErrInvalidTimedMetadataObject)],[this._cmdTimedMetadataUpdate],this)},a.prototype._configureAdobeAnalyticsPlugin=function(){this._aaPlugin=new p(this._appMeasurement,new _(this));var e=new f;e.channel=this._config.channel?this._config.channel:"",e.debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,this._aaPlugin.configure(e),this._plugins.push(this._aaPlugin)},a.prototype._configureAdobeHearbeatPlugin=function(){var e=this._appMeasurement.visitor?this._appMeasurement.visitor.marketingCloudOrgID:"";this._ahPlugin=new g(new m(this));var t=new v(this._config.trackingServer,e);t.debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,t.ovp=this._config.ovp?this._config.ovp:"",t.ssl=this._config.ssl,t.sdk=this._config.appVersion?this._config.appVersion:"";var n=this._primetimeTVSDKVersion();n&&n.length>0&&(t.__primetime=!0,t.__psdkVersion=n),this._ahPlugin.configure(t),this._plugins.push(this._ahPlugin)},a.prototype._configureVideoPlayerPlugin=function(){this._playerPlugin=new d(new h(this));var e=new u;e.debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,this._playerPlugin.configure(e),this._plugins.push(this._playerPlugin)},a.prototype._configureOtherPlugins=function(){if(i.plugins.nielsen&&this._config.nielsenConfigKey&&this._config.nielsenAppInfo){this._nielsenPlugin=new i.plugins.nielsen.NielsenPlugin(new i._NielsenPluginDelegate(this,this._logger));var e=new i.plugins.nielsen.NielsenPluginConfig;e.debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,e.appInfo=this._config.nielsenAppInfo,e.configKey=this._config.nielsenConfigKey,this._nielsenPlugin.configure(e),this._plugins.push(this._nielsenPlugin)}},a.prototype._configureHeartbeat=function(){var e=new l;e.debugLogging=i.MediaHeartbeat._debugLogging||this._config.debugLogging,this._heartbeat=new s(new c(this),this._plugins),this._heartbeat.configure(e)},a.prototype._resetState=function(){this._taskScheduler.clearTasks(),this._mediaState={},this._plugins=[],this._playerPlugin=null,this._aaPlugin=null,this._ahPlugin=null,this._nielsenPlugin=null,this._heartbeat=null,this._currentMediaObject=null,this._currentAdBreakObject=null,this._currentAdObject=null,this._currentChapterObject=null,this._videoInfo=null,this._adBreakInfo=null,this._adInfo=null,this._chapterInfo=null,this._prerollWaitEnabled=!0,this._prerollWaitTime=B,this._playReceived=!1,this._playTaskHandle=null,this._playAfterAdStart=!1},a.prototype._primetimeTVSDKVersion=function(){return this._currentMediaObject?this._currentMediaObject.getValue(V):null},a.prototype._cleanContextData=function(e){if(null==e||"object"!=typeof e)return null;var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];"number"!=typeof n&&"string"!=typeof n&&"boolean"!=typeof n||(t[i]=n)}return t},a.prototype._prepareMetadata=function(e,t){var i={};if(t&&E.append(i,t),e){var n=this._cleanContextData(e);E.append(i,n)}return delete i[x],i},a.prototype._onDelegateError=function(e){this._logger.error(C,e.getMessage()+" | "+e.getDetails())},a.prototype._disableHBTracking=function(){var e=y.createContext();this._processRule(I.DisableTracking,e),this._processRule(I.SessionEnd,e)};var T={Session:0,Media:1,AdBreak:2,Ad:3,Chapter:4,PlayPause:5,Buffer:6,Seek:7,FPlayPause:8},I={SessionStart:0,SessionEnd:1,VideoComplete:2,Play:3,Pause:4,Error:5,AdBreakStart:6,AdBreakComplete:7,AdStart:8,AdComplete:9,AdSkip:10,ChapterStart:11,ChapterComplete:12,ChapterSkip:13,SeekStart:14,SeekComplete:15,BufferStart:16,BufferComplete:17,BitrateChange:18,TimedMetadataUpdate:19,DisableTracking:20},k={ErrUnSupportedPlatform:"MediaHeartbeat does not support tracking due to AppMeasurement or VisitorAPI not supporting the browser.",ErrNotInSession:'MediaHeartbeat is not in active tracking session, call "API:trackSessionStart" to begin a new tracking session.',ErrInSession:'MediaHeartbeat is in active tracking session, call "API:trackSessionEnd" to end current tracking session.',ErrTrackingDisabled:"MediaHeartbeat tracking is disabled for this publisher. Please contact Adobe Representative to enable tracking.",ErrNotInMedia:'MediaHeartbeat has completed tracking session, call "API:trackSessionEnd" first to end current session and then begin a new tracking session.',ErrInBuffer:'MediaHeartbeat is tracking buffer events, call "API:trackEvent(BufferComplete)" first to stop tracking buffer events.',ErrNotInBuffer:'MediaHeartbeat is not tracking buffer events, call "API:trackEvent(BufferStart)" before "API:trackEvent(BufferComplete)".',ErrInSeek:'MediaHeartbeat is tracking seek events, call "API:trackEvent(SeekComplete)" first to stop tracking seek events.',ErrNotInSeek:'MediaHeartbeat is not tracking seek events, call "API:trackEvent(SeekStart)" before "API:trackEvent(SeekComplete)".',ErrNotInAdBreak:'MediaHeartbeat is not tracking any AdBreak, call "API:trackEvent(AdBreakStart)" to begin tracking AdBreak',ErrNotInAd:'MediaHeartbeat is not tracking any Ad, call "API:trackEvent(AdStart)" to begin tracking Ad',ErrNotInChapter:'MediaHeartbeat is not tracking any Chapter, call "API:trackEvent(ChapterStart)" to begin tracking Chapter',ErrInvalidMediaObject:'MediaInfo passed into "API:trackSessionStart" is invalid.',ErrInvalidAdBreakObject:'AdBreakInfo passed into "API:trackEvent(AdBreakStart)" is invalid.',ErrDuplicateAdBreakObject:'MediaHeartbeat is currently tracking the AdBreak passed into "API:trackEvent(AdBreakStart)".',ErrInvalidAdObject:'AdInfo passed into "API:trackEvent(AdStart)" is invalid.',ErrDuplicateAdObject:'MediaHeartbeat is currently tracking the Ad passed into "API:trackEvent(AdStart)".',ErrInvalidChapterObject:'ChapterInfo passed into "API:trackEvent(ChapterStart)" is invalid.',ErrDuplicateChapterObject:'MediaHeartbeat is currently tracking the Chapter passed into "API:trackEvent(ChapterStart)".',ErrInvalidTimedMetadataObject:'TimedMetadata passed into "API:trackEvent(TimedMetadataUpdate)" is invalid.',ErrInvalidPlayerState:"MediaHeartbeat is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",ErrAudioTrackingNotSupported:"Upgrade your AppMeasurement library to version >= '2.11.0' to support tracking audio content."},C="MediaHeartbeat",P="key_media_object",D="key_adbreak_object",M="key_ad_object",O="key_chapter_object",N="key_timed_metadata_object",L="key_custom_metadata",R="key_error_id",x="a.media.streamType",V="a.__pttvsdkVersion",F="granular_ad_tracking",B=250;i._MediaHeartbeatErrorMessage=k,i.MediaHeartbeatDelegate=n,i.MediaHeartbeat=a,i.MediaHeartbeat._debugLogging=!1}(e.ADB.core,e.ADB.va),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=core),e.ADB.va||(e.ADB.va=va),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this)}.call(n={}),n.ADB);var n;const a=t;var l=r(95810),c=r.n(l),d=r(55943),u=r.n(d),h=r(42238),p=r.n(h);const f=function(e,t,i,n,a){var r,o,s=document.createElement("script"),l=[];t={adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){this.sendEvent?(l&&(l.push(e),e=l,l=!1),this.sendEvent(e)):l.push(e)}},i="_moatApi"+Math.floor(1e8*Math.random());try{o=(r=e.ownerDocument).defaultView||r.parentWindow}catch(e){r=document,o=window}return o[i]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+n+"/moatvideo.js#"+i,t};var _=r(47470),g=r.n(_),m=r(86752),y=r.n(m);!function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e,t,i){var n=null==e?void 0:e[t];return void 0===n?i:n}function n(e,t){if(e===t)return 0;var i=e.toString().split("."),n=t.toString().split(".");return function(e){for(var t=/^\d+$/,i=0,n=e.length;i<n;i++)if(!t.test(e[i]))return!1;return!0}(i.concat(n))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(i,n),function(e,t){for(var i=0;i<e.length;i++){var n=parseInt(e[i],10),a=parseInt(t[i],10);if(n>a)return 1;if(a>n)return-1}return 0}(i,n)):NaN}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,i=e.cookieName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.cookies;return t&&i&&a?{remove:function(){a.remove(i)},get:function(){var e=a.get(i),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},a.set(i,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:Ee,set:Ee,remove:Ee}}function o(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function s(){function e(e,t){var i=ue(e);return i.length?i.every((function(e){return!!t[e]})):he(t)}function t(){k(T),I($.COMPLETE),v(g.status,g.permissions),_.set(g.permissions,{optInCookieDomain:c,optInStorageExpiry:d}),m.execute(Ie)}function i(e){return function(i,n){if(!pe(i))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return I($.CHANGED),Object.assign(T,fe(ue(i),e)),n||t(),g}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.doesOptInApply,o=n.previousPermissions,s=n.preOptInApprovals,l=n.isOptInStorageEnabled,c=n.optInCookieDomain,d=n.optInStorageExpiry,u=n.isIabContext,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=h.cookies,f=Se(o);Ae(f,"Invalid `previousPermissions`!"),Ae(s,"Invalid `preOptInApprovals`!");var _=a({isEnabled:!!l,cookieName:"adobeujs-optin"},{cookies:p}),g=this,v=Z(g),m=ae(),y=ve(f),b=ve(s),E=_.get(),S={},A=function(e,t){return me(e)||t&&me(t)?$.COMPLETE:$.PENDING}(y,E),w=function(e,t,i){var n=fe(ne,!r);return r?Object.assign({},n,e,t,i):n}(b,y,E),T=_e(w),I=function(e){return A=e},k=function(e){return w=e};g.deny=i(!1),g.approve=i(!0),g.denyAll=g.deny.bind(g,ne),g.approveAll=g.approve.bind(g,ne),g.isApproved=function(t){return e(t,g.permissions)},g.isPreApproved=function(t){return e(t,b)},g.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?g.on($.COMPLETE,e):Ee;return!r||r&&g.isComplete||s?e(g.permissions):t||m.add(Ie,(function(){return e(g.permissions)})),i},g.complete=function(){g.status===$.CHANGED&&t()},g.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(ke);S[e.name]||(S[e.name]=e,e.onRegister.call(e,g))},g.execute=Te(S),Object.defineProperties(g,{permissions:{get:function(){return w}},status:{get:function(){return A}},Categories:{get:function(){return ee}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return g.status===$.PENDING}},isComplete:{get:function(){return g.status===$.COMPLETE}},__plugins:{get:function(){return Object.keys(S)}},isIabContext:{get:function(){return u}}})}function l(e,t){if(void 0===t)return e;var i=setTimeout((function(){i=null,e.call(e,new o("The call took longer than you wanted!"))}),t);return function(){i&&(clearTimeout(i),e.apply(e,arguments))}}function c(){if(window.__cmp)return window.__cmp;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__cmpLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var i={};return window.__cmp=function(e,n,a){var r=Math.random()+"",o={__cmpCall:{command:e,parameter:n,callId:r}};i[r]=a,t.postMessage(o,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var n=t.__cmpReturn;i[n.callId]&&(i[n.callId](n.returnValue,n.success),delete i[n.callId])}}),!1),window.__cmp}ce.error("__cmp not found")}else ce.error("__cmp not found")}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,i,n=1;n<arguments.length;++n)for(t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e};var u,h,p={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},f={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},_={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},g={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},v={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},m={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},y={GLOBAL:"global"},b={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},E=function(e){function t(){}function i(t,i){var n=this;return function(){var a=e(0,t),r={};return r[t]=a,n.setStateAndPublish(r),i(a),a}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(b.MCMID,e),a=i.call(this,b.MCMID,e);return void 0!==n?n:a()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},S=p,A=f,w={CUSTOMERIDS:"getCustomerIDs"},T=function(){function e(){}function t(e,t){var i=this;return function(){return i.callbackRegistry.add(e,t),i.messageParent(S.GETSTATE),""}}Object.keys(A).forEach((function(i){this[A[i]]=function(n){n=n||e;var a=this.findField(i,n),r=t.call(this,i,n);return void 0!==a?a:r()}}),this),Object.keys(w).forEach((function(t){this[w[t]]=function(){return this.findField(t,e)||{}}}),this)},I=f,k=function(){Object.keys(I).forEach((function(e){this[I[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},C=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,i){i.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},i.isValueEmpty=function(e){return""===e||i.isObjectEmpty(e)},i.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},i.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},i.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},i.defineGlobalNamespace=function(){return window.adobe=i.isObject(window.adobe)?window.adobe:{},window.adobe},i.pluck=function(e,t){return t.reduce((function(t,i){return e[i]&&(t[i]=e[i]),t}),Object.create(null))},i.parseOptOut=function(e,t,i){t||(t=i,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},i.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),P=(C.isObjectEmpty,C.isValueEmpty,C.getIeVersion,C.encodeAndBuildRequest,C.isObject,C.defineGlobalNamespace,C.pluck,C.parseOptOut,C.normalizeBoolean,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var i=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(i,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var i=this.callbacks[e].shift();"function"==typeof i?i.apply(null,t):i instanceof Array&&i[1].apply(i[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!C.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var i=void 0!==e[t]?e[t]:"";this.execute(t,i)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),D=p,M={0:"prefix",1:"orgID",2:"state"},O=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,i){void 0!==e&&(t[M[i]]=2!==i?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(i){var n=this.parse(i);if(!n||Object.keys(n).length<2)return!0;var a=e!==n.orgID,r=!t||i.origin!==t,o=-1===Object.keys(D).indexOf(n.prefix);return a||r||o},this.send=function(i,n,a){var r=n+"|"+e;a&&a===Object(a)&&(r+="|"+JSON.stringify(a));try{i.postMessage(r,t)}catch(e){}}},N=p,L=function(e,t,i,n){function a(e){Object.assign(c,e)}function r(e){if(!p.isInvalid(e)){h=!1;var t=p.parse(e);c.setStateAndPublish(t.state)}}function o(e){!h&&u&&(h=!0,p.send(n,e))}function s(){a(new E(i._generateID)),c.getMarketingCloudVisitorID(),c.callbackRegistry.executeAll(c.state,!0),d.removeEventListener("message",l)}function l(e){if(!p.isInvalid(e)){var t=p.parse(e);h=!1,d.clearTimeout(c._handshakeTimeout),d.removeEventListener("message",l),a(new T(c)),d.addEventListener("message",r),c.setStateAndPublish(t.state),c.callbackRegistry.hasCallbacks()&&o(N.GETSTATE)}}var c=this,u=t.whitelistParentDomain;c.state={ALLFIELDS:{}},c.version=i.version,c.marketingCloudOrgID=e,c.cookieDomain=i.cookieDomain||"",c._instanceType="child";var h=!1,p=new O(e,u);c.callbackRegistry=P(),c.init=function(){d.s_c_in||(d.s_c_il=[],d.s_c_in=0),c._c="Visitor",c._il=d.s_c_il,c._in=d.s_c_in,c._il[c._in]=c,d.s_c_in++,Object.keys(i).forEach((function(e){0!==e.indexOf("_")&&"function"==typeof i[e]&&(c[e]=function(){})})),c.getSupplementalDataID=i.getSupplementalDataID,c.isAllowed=function(){return!0},a(new k(c)),u&&postMessage?(d.addEventListener("message",l),o(N.HANDSHAKE),c._handshakeTimeout=setTimeout(s,250)):s()},c.findField=function(e,t){if(void 0!==c.state[e])return t(c.state[e]),c.state[e]},c.messageParent=o,c.setStateAndPublish=function(e){Object.assign(c.state,e),Object.assign(c.state.ALLFIELDS,e),c.callbackRegistry.executeAll(c.state)}},R=p,x=_,V=f,F=g,B=function(e,t){function i(){var t={};return Object.keys(x).forEach((function(i){var n=x[i],a=e[n]();C.isValueEmpty(a)||(t[i]=a)})),t}function n(t){return function i(n){var a=function(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(i){if(e._loading[i]){var n=F[i];t.push(n)}})),t.length?t:null}();if(a){var r=V[a[0]];e[r](i,!0)}else t()}}function a(e,n){var a=i();t.send(e,n,a)}function r(e){s(e),a(e,R.HANDSHAKE)}function o(e){n((function(){a(e,R.PARENTSTATE)}))()}function s(i){var n=e.setCustomerIDs;e.setCustomerIDs=function(a){n.call(e,a),t.send(i,R.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}}return function(e){t.isInvalid(e)||(t.parse(e).prefix===R.HANDSHAKE?r:o)(e.source)}},U={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),i=t.indexOf(";"+e+"="),n=i<0?i:t.indexOf(";",i+1);return i<0?"":decodeURIComponent(t.substring(i+2+e.length,n<0?t.length:n))},set:function(e,t,n){var a=i(n,"cookieLifetime"),r=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure")?"Secure":"";if(r&&"SESSION"!==a&&"NONE"!==a){var l=""!==t?parseInt(a||0,10):-60;if(l)(r=new Date).setTime(r.getTime()+1e3*l);else if(1===r){var c=(r=new Date).getYear();r.setYear(c+2+(c<1900?1900:0))}}else r=0;return e&&"NONE"!==a?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(o?" domain="+o+";":"")+s,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain="+n+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n}},H=function(e){var t;!e&&d.location&&(e=d.location.hostname);var i,n=(t=e).split(".");for(i=n.length-2;i>=0;i--)if(t=n.slice(i).join("."),U.set("test","cookie",{domain:t}))return U.remove("test",{domain:t}),t;return""},j=function(e,t){return n(e,t)<0},K=function(e,t){return 0!==n(e,t)},Y=!!d.postMessage,q=function(e,t,i){var n=1;t&&(Y?i.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(i.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},W=function(e,t){var i;try{Y&&(e&&(i=function(i){if("string"==typeof t&&i.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(i.origin))return!1;e(i)}),d.addEventListener?d[e?"addEventListener":"removeEventListener"]("message",i):d[e?"attachEvent":"detachEvent"]("onmessage",i))}catch(e){}},G=function(e){var t,i,n="0123456789",a="",r="",o=8,s=10,l=10;if(1==e){for(n+="ABCDEF",t=0;16>t;t++)i=Math.floor(Math.random()*o),a+=n.substring(i,i+1),i=Math.floor(Math.random()*o),r+=n.substring(i,i+1),o=16;return a+"-"+r}for(t=0;19>t;t++)i=Math.floor(Math.random()*s),a+=n.substring(i,i+1),0===t&&9==i?s=3:((1==t||2==t)&&10!=s&&2>i||2<t)&&(s=10),i=Math.floor(Math.random()*l),r+=n.substring(i,i+1),0===t&&9==i?l=3:((1==t||2==t)&&10!=l&&2>i||2<t)&&(l=10);return a+r},z=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(d.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new d[this.corsMetadata.corsType]},fireCORS:function(t,i,n){var a=this;i&&(t.loadErrorHandler=i);try{var r=this.getCORSInstance();r.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(r.withCredentials=!0,r.timeout=e.loadTimeout,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var i;try{if((i=JSON.parse(e))!==Object(i))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var n=t.callback,r=d,o=0;o<n.length;o++)r=r[n[o]];r(i)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}(this.responseText)}),r.onerror=function(e){a.handleCORSError(t,e,"onerror")},r.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},r.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,i,n){e.CORSErrors.push({corsData:t,error:i,description:n}),t.loadErrorHandler&&("ontimeout"===n?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Q={POST_MESSAGE_ENABLED:!!d.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},J={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},Z=function(e){var t={};return e.on=function(e,i,n){if(!i||"function"!=typeof i)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var a=t[e].push({callback:i,context:n})-1;return function(){t[e].splice(a,1),t[e].length||delete t[e]}},e.off=function(e,i){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==i)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var i=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,i)}))}},e.publish},$={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ee={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},te=(t(u={},ee.AAM,565),t(u,ee.ECID,565),u),ie=(t(h={},ee.AAM,[1,2,5]),t(h,ee.ECID,[1,2,5]),h),ne=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ee),ae=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,i){if(!function(e){return"function"==typeof e||e instanceof Array&&e.length}(i))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var n=e.callbacks[t].push(i)-1;return function(){e.callbacks[t].splice(n,1)}},e.execute=function(t,i){if(e.callbacks[t]){i=(i=void 0===i?[]:i)instanceof Array?i:[i];try{for(;e.callbacks[t].length;){var n=e.callbacks[t].shift();"function"==typeof n?n.apply(null,i):n instanceof Array&&n[1].apply(n[0],i)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,i){(i||t&&!function(e){return e===Object(e)&&0===Object.keys(e).length}(t))&&Object.keys(e.callbacks).forEach((function(i){var n=void 0!==t[i]?t[i]:"";e.execute(i,n)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},re=function(){},oe=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},se=function(e,t,i){return i()?function(){if(oe(e)){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];console[e].apply(console,[t].concat(n))}}:re},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=se("log",e,t),this.warn=se("warn",e,t),this.error=se("error",e,t)},ce=new le("[ADOBE OPT-IN]"),de=function(t,i){return e(t)===i},ue=function(e,t){return e instanceof Array?e:de(e,"string")?[e]:t||[]},he=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},pe=function(e){return!(!e||ge(e))&&ue(e).every((function(e){return ne.indexOf(e)>-1}))},fe=function(e,t){return e.reduce((function(e,i){return e[i]=t,e}),{})},_e=function(e){return JSON.parse(JSON.stringify(e))},ge=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ve=function(e){if(be(e))return e;try{return JSON.parse(e)}catch(e){return{}}},me=function(e){return void 0===e||(be(e)?pe(Object.keys(e)):ye(e))},ye=function(e){try{var t=JSON.parse(e);return!!e&&de(e,"string")&&pe(Object.keys(t))}catch(e){return!1}},be=function(e){return null!==e&&de(e,"object")&&!1===Array.isArray(e)},Ee=function(){},Se=function(e){return de(e,"function")?e():e},Ae=function(e,t){me(e)||ce.error("".concat(t))},we=function(e){return function(e){return Object.keys(e).map((function(t){return e[t]}))}(e).filter((function(e,t,i){return i.indexOf(e)===t}))},Te=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.command,n=t.params,a=void 0===n?{}:n,r=t.callback,o=void 0===r?Ee:r;if(!i||-1===i.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=i.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(a,{callback:o});l[c].call(l,d)}catch(e){ce.error("[execute] Something went wrong: "+e.message)}}};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o;var Ie="fetchPermissions",ke="[OptIn#registerPlugin] Plugin is invalid.";s.Categories=ee,s.TimeoutError=o;var Ce=Object.freeze({OptIn:s,IabPlugin:function(){var e=this;e.name="iabPlugin",e.version="0.0.1";var t=ae(),i={allConsentData:null},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]=t};e.fetchConsentData=function(e){var t=l(e.callback,e.timeout);a({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,r=e.timeout;if(i.allConsentData)return t(null,s(n,i.allConsentData.vendorConsents,i.allConsentData.purposeConsents));var o=l((function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.vendorConsents,r=i.purposeConsents;t(e,s(n,a,r))}),r);a({category:n,callback:o})},e.onRegister=function(t){var i=Object.keys(te);e.fetchConsentData({callback:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.purposeConsents,r=n.gdprApplies,o=n.vendorConsents;!e&&r&&o&&a&&(i.forEach((function(e){var i=s(e,o,a);t[i?"approve":"deny"](e,!0)})),t.complete())}})};var a=function(e){var a=e.callback;if(i.allConsentData)return a(null,i.allConsentData);t.add("FETCH_CONSENT_DATA",a);var s={};o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&n("allConsentData",s={purposeConsents:a,gdprApplies:o,vendorConsents:l}),r((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(s.consentString=e.consentData,n("allConsentData",s)),t.execute("FETCH_CONSENT_DATA",[null,i.allConsentData])}))}))},r=function(e){var t=c();t&&t("getConsentData",null,e)},o=function(e){var t=we(te),i=c();i&&i("getVendorConsents",t,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!!t[te[e]];return n&&ie[e].every((function(e){return i[e]}))}}}),Pe=function e(t){function i(e,t){return e>>>t|e<<32-t}for(var n,a,r=Math.pow,o=r(2,32),s="",l=[],c=8*t.length,d=e.h=e.h||[],u=e.k=e.k||[],h=u.length,p={},f=2;h<64;f++)if(!p[f]){for(n=0;n<313;n+=f)p[n]=f;d[h]=r(f,.5)*o|0,u[h++]=r(f,1/3)*o|0}for(t+="Â€";t.length%64-56;)t+="\0";for(n=0;n<t.length;n++){if((a=t.charCodeAt(n))>>8)return;l[n>>2]|=a<<(3-n)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,a=0;a<l.length;){var _=l.slice(a,a+=16),g=d;for(d=d.slice(0,8),n=0;n<64;n++){var v=_[n-15],m=_[n-2],y=d[0],b=d[4],E=d[7]+(i(b,6)^i(b,11)^i(b,25))+(b&d[5]^~b&d[6])+u[n]+(_[n]=n<16?_[n]:_[n-16]+(i(v,7)^i(v,18)^v>>>3)+_[n-7]+(i(m,17)^i(m,19)^m>>>10)|0);(d=[E+((i(y,2)^i(y,13)^i(y,22))+(y&d[1]^y&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+E|0}for(n=0;n<8;n++)d[n]=d[n]+g[n]|0}for(n=0;n<8;n++)for(a=3;a+1;a--){var S=d[n]>>8*a&255;s+=(S<16?0:"")+S.toString(16)}return s},De=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Pe(e)),e},Me=function(e){return String(e).trim().toLowerCase()},Oe=Ce.OptIn;C.defineGlobalNamespace(),window.adobe.OptInCategories=Oe.Categories;var Ne=function(t,i,n){function a(e){var t=e;return function(e){var i=e||b.location.href;try{var n=h._extractParamFromUri(i,t);if(n)return R.parsePipeDelimetedKeyValues(n)}catch(e){}}}function r(e){e=e||{},h._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",h._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},h._supplementalDataIDLast=e.supplementalDataIDLast||"",h._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){var t=e.reduce((function(e,t){var i=t[0],n=t[1];return null!=n&&n!==D&&(e=function(e,t,i){return(i=i?i+="|":i)+(e+"=")+encodeURIComponent(t)}(i,n,e)),e}),"");return function(e){return(e=e?e+="|":e)+"TS="+R.getTimestampInSeconds()}(t)}function s(){return h.configs.isIabContext?p.optIn.isApproved(p.optIn.Categories.ECID)&&_:p.optIn.isApproved(p.optIn.Categories.ECID)}function l(e,t){if(_=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(f=t.consentString),h.init(),u()}function c(){p.optIn.isApproved(p.optIn.Categories.ECID)&&(h.configs.isIabContext?p.optIn.execute({command:"iabPlugin.fetchConsentData",callback:l}):(h.init(),u()))}function u(){p.optIn.off("complete",c)}if(!n||n.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var h=this,p=window.adobe,f="",_=!1,g=!1;h.version="4.4.0";var b=d,E=b.Visitor;E.version=h.version,E.AuthState=m,E.OptOut=y,b.s_c_in||(b.s_c_il=[],b.s_c_in=0),h._c="Visitor",h._il=b.s_c_il,h._in=b.s_c_in,h._il[h._in]=h,b.s_c_in++,h._instanceType="regular",h._log={requests:[]},h.marketingCloudOrgID=t,h.cookieName="AMCV_"+t,h.sessionCookieName="AMCVS_"+t,h.cookieDomain=H(),h.loadSSL=b.location.protocol.toLowerCase().indexOf("https")>=0,h.loadTimeout=3e4,h.CORSErrors=[],h.marketingCloudServer=h.audienceManagerServer="dpm.demdex.net",h.sdidParamExpiry=30;var S=null,A="MCMID",w="MCIDTS",T="A",I="MCAID",k="AAM",P="MCAAMB",D="NONE",M=function(e){return!Object.prototype[e]},N=z(h);h.FIELDS=v,h.cookieRead=function(e){return U.get(e)},h.cookieWrite=function(e,t,i){var n=h.cookieLifetime?(""+h.cookieLifetime).toUpperCase():"",a=!1;return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(a=!0),U.set(e,""+t,{expires:i,domain:h.cookieDomain,cookieLifetime:n,secure:a})},h.resetState=function(e){e?h._mergeServerState(e):r()},h._isAllowedDone=!1,h._isAllowedFlag=!1,h.isAllowed=function(){return h._isAllowedDone||(h._isAllowedDone=!0,(h.cookieRead(h.cookieName)||h.cookieWrite(h.cookieName,"T",1))&&(h._isAllowedFlag=!0)),"T"===h.cookieRead(h.cookieName)&&h._helpers.removeCookie(h.cookieName),h._isAllowedFlag},h.setMarketingCloudVisitorID=function(e){h._setMarketingCloudFields(e)},h._use1stPartyMarketingCloudServer=!1,h.getMarketingCloudVisitorID=function(e,t){h.marketingCloudServer&&h.marketingCloudServer.indexOf(".demdex.net")<0&&(h._use1stPartyMarketingCloudServer=!0);var i=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;return h._getRemoteField(A,n,e,t,i)},h.getVisitorValues=function(e,t){var i={MCMID:{fn:h.getMarketingCloudVisitorID,args:[!0],context:h},MCOPTOUT:{fn:h.isOptedOut,args:[void 0,!0],context:h},MCAID:{fn:h.getAnalyticsVisitorID,args:[!0],context:h},MCAAMLH:{fn:h.getAudienceManagerLocationHint,args:[!0],context:h},MCAAMB:{fn:h.getAudienceManagerBlob,args:[!0],context:h}};!function(e,t){function i(e){return function(i){n[e]=i,++a===r&&t(n)}}var n={},a=0,r=Object.keys(e).length;Object.keys(e).forEach((function(t){var n=e[t];if(n.fn){var a=n.args||[];a.unshift(i(t)),n.fn.apply(n.context||null,a)}}))}(t&&t.length?C.pluck(i,t):i,e)},h._currentCustomerIDs={},h._customerIDsHashChanged=!1,h._newCustomerIDsHash="",h.setCustomerIDs=function(t,i){if(!h.isOptedOut()&&t){if(!C.isObject(t)||C.isObjectEmpty(t))return!1;var n,a,r;for(n in h._readVisitor(),t)if(M(n)&&(i=(a=t[n]).hasOwnProperty("hashType")?a.hashType:i,a))if("object"===e(a)){var o={};if(a.id){if(i){if(!(r=De(Me(a.id),i)))return;a.id=r,o.hashType=i}o.id=a.id}null!=a.authState&&(o.authState=a.authState),h._currentCustomerIDs[n]=o}else if(i){if(!(r=De(Me(a),i)))return;h._currentCustomerIDs[n]={id:r,hashType:i}}else h._currentCustomerIDs[n]={id:a};var s=h.getCustomerIDs(),l=h._getField("MCCIDH"),c="";for(n in l||(l=0),s)M(n)&&(c+=(c?"|":"")+n+"|"+((a=s[n]).id?a.id:"")+(a.authState?a.authState:""));h._newCustomerIDsHash=String(h._hash(c)),h._newCustomerIDsHash!==l&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs((function(){h._customerIDsHashChanged=!1})))}},h.getCustomerIDs=function(){h._readVisitor();var e,t,i={};for(e in h._currentCustomerIDs)M(e)&&(t=h._currentCustomerIDs[e],i[e]||(i[e]={}),t.id&&(i[e].id=t.id),null!=t.authState?i[e].authState=t.authState:i[e].authState=E.AuthState.UNKNOWN,t.hashType&&(i[e].hashType=t.hashType));return i},h.setAnalyticsVisitorID=function(e){h._setAnalyticsFields(e)},h.getAnalyticsVisitorID=function(e,t,i){if(!R.isTrackingServerPopulated()&&!i)return h._callCallback(e,[""]),"";var n="";if(i||(n=h.getMarketingCloudVisitorID((function(t){h.getAnalyticsVisitorID(e,!0)}))),n||i){var a=i?h.marketingCloudServer:h.trackingServer,r="";h.loadSSL&&(i?h.marketingCloudServerSecure&&(a=h.marketingCloudServerSecure):h.trackingServerSecure&&(a=h.trackingServerSecure));var o={};if(a){var s="http"+(h.loadSSL?"s":"")+"://"+a+"/id",l="d_visid_ver="+h.version+"&mcorgid="+encodeURIComponent(h.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",h._in,"_set"+(i?"MarketingCloud":"Analytics")+"Fields"];r=s+"?"+l+"&callback=s_c_il%5B"+h._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=c}return o.url=r,h._getRemoteField(i?A:I,r,e,t,o)}return""},h.getAudienceManagerLocationHint=function(e,t){if(h.getMarketingCloudVisitorID((function(t){h.getAudienceManagerLocationHint(e,!0)}))){var i=h._getField(I);if(!i&&R.isTrackingServerPopulated()&&(i=h.getAnalyticsVisitorID((function(t){h.getAudienceManagerLocationHint(e,!0)}))),i||!R.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),a=n.url;return h._getRemoteField("MCAAMLH",a,e,t,n)}}return""},h.getLocationHint=h.getAudienceManagerLocationHint,h.getAudienceManagerBlob=function(e,t){if(h.getMarketingCloudVisitorID((function(t){h.getAudienceManagerBlob(e,!0)}))){var i=h._getField(I);if(!i&&R.isTrackingServerPopulated()&&(i=h.getAnalyticsVisitorID((function(t){h.getAudienceManagerBlob(e,!0)}))),i||!R.isTrackingServerPopulated()){var n=h._getAudienceManagerURLData(),a=n.url;return h._customerIDsHashChanged&&h._setFieldExpire(P,-1),h._getRemoteField(P,a,e,t,n)}}return""},h._supplementalDataIDCurrent="",h._supplementalDataIDCurrentConsumed={},h._supplementalDataIDLast="",h._supplementalDataIDLastConsumed={},h.getSupplementalDataID=function(e,t){h._supplementalDataIDCurrent||t||(h._supplementalDataIDCurrent=h._generateID(1));var i=h._supplementalDataIDCurrent;return h._supplementalDataIDLast&&!h._supplementalDataIDLastConsumed[e]?(i=h._supplementalDataIDLast,h._supplementalDataIDLastConsumed[e]=!0):i&&(h._supplementalDataIDCurrentConsumed[e]&&(h._supplementalDataIDLast=h._supplementalDataIDCurrent,h._supplementalDataIDLastConsumed=h._supplementalDataIDCurrentConsumed,h._supplementalDataIDCurrent=i=t?"":h._generateID(1),h._supplementalDataIDCurrentConsumed={}),i&&(h._supplementalDataIDCurrentConsumed[e]=!0)),i};var L=!1;h._liberatedOptOut=null,h.getOptOut=function(e,t){var i=h._getAudienceManagerURLData("_setMarketingCloudFields"),n=i.url;if(s())return h._getRemoteField("MCOPTOUT",n,e,t,i);if(h._registerCallback("liberatedOptOut",e),null!==h._liberatedOptOut)return h._callAllCallbacks("liberatedOptOut",[h._liberatedOptOut]),L=!1,h._liberatedOptOut;if(L)return null;L=!0;var a="liberatedGetOptOut";return i.corsUrl=i.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),i.callback=[a],d[a]=function(e){if(e===Object(e)){var t,i,n=C.parseOptOut(e,t,D);t=n.optOut,i=1e3*n.d_ottl,h._liberatedOptOut=t,setTimeout((function(){h._liberatedOptOut=null}),i)}h._callAllCallbacks("liberatedOptOut",[t]),L=!1},N.fireCORS(i),null},h.isOptedOut=function(e,t,i){t||(t=E.OptOut.GLOBAL);var n=h.getOptOut((function(i){var n=i===E.OptOut.GLOBAL||i.indexOf(t)>=0;h._callCallback(e,[n])}),i);return n?n===E.OptOut.GLOBAL||n.indexOf(t)>=0:null},h._fields=null,h._fieldsExpired=null,h._hash=function(e){var t,i=0;if(e)for(t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i&=i;return i},h._generateID=G,h._generateLocalMID=function(){var e=h._generateID(0);return V.isClientSideMarketingCloudVisitorID=!0,e},h._callbackList=null,h._callCallback=function(e,t){try{"function"==typeof e?e.apply(b,t):e[1].apply(e[0],t)}catch(e){}},h._registerCallback=function(e,t){t&&(null==h._callbackList&&(h._callbackList={}),null==h._callbackList[e]&&(h._callbackList[e]=[]),h._callbackList[e].push(t))},h._callAllCallbacks=function(e,t){if(null!=h._callbackList){var i=h._callbackList[e];if(i)for(;i.length>0;)h._callCallback(i.shift(),t)}},h._addQuerystringParam=function(e,t,i,n){var a=encodeURIComponent(t)+"="+encodeURIComponent(i),r=R.parseHash(e),o=R.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+a+r;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+R.addQueryParamAtLocation(c,a,n)+r},h._extractParamFromUri=function(e,t){var i=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(i&&i.length)return decodeURIComponent(i[1])},h._parseAdobeMcFromUrl=a(Q.ADOBE_MC),h._parseAdobeMcSdidFromUrl=a(Q.ADOBE_MC_SDID),h._attemptToPopulateSdidFromUrl=function(e){var i=h._parseAdobeMcSdidFromUrl(e),n=1e9;i&&i.TS&&(n=R.getTimestampInSeconds()-i.TS),i&&i.SDID&&i.MCORGID===t&&n<h.sdidParamExpiry&&(h._supplementalDataIDCurrent=i.SDID,h._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},h._attemptToPopulateIdsFromUrl=function(){var e=h._parseAdobeMcFromUrl();if(e&&e.TS){var i=R.getTimestampInSeconds()-e.TS;if(Math.floor(i/60)>Q.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;!function(e){function t(e,t,i){e&&e.match(Q.VALID_VISITOR_ID_REGEX)&&(i===A&&(g=!0),t(e))}t(e[A],h.setMarketingCloudVisitorID,A),h._setFieldExpire(P,-1),t(e[I],h.setAnalyticsVisitorID)}(e)}},h._mergeServerState=function(e){if(e)try{if((e=function(e){return R.isObject(e)?e:JSON.parse(e)}(e))[h.marketingCloudOrgID]){var t=e[h.marketingCloudOrgID];!function(e){R.isObject(e)&&h.setCustomerIDs(e)}(t.customerIDs),r(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},h._timeout=null,h._loadData=function(e,t,i,n){t=h._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=h._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=h._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),V.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===N.corsMetadata.corsType&&N.fireCORS(n,i,e)},h._clearTimeout=function(e){null!=h._timeout&&h._timeout[e]&&(clearTimeout(h._timeout[e]),h._timeout[e]=0)},h._settingsDigest=0,h._getSettingsDigest=function(){if(!h._settingsDigest){var e=h.version;h.audienceManagerServer&&(e+="|"+h.audienceManagerServer),h.audienceManagerServerSecure&&(e+="|"+h.audienceManagerServerSecure),h._settingsDigest=h._hash(e)}return h._settingsDigest},h._readVisitorDone=!1,h._readVisitor=function(){if(!h._readVisitorDone){h._readVisitorDone=!0;var e,t,i,n,a,r,o=h._getSettingsDigest(),s=!1,l=h.cookieRead(h.cookieName),c=new Date;if(l||g||h.discardTrackingServerECID||(l=h.cookieRead(Q.FIRST_PARTY_SERVER_COOKIE)),null==h._fields&&(h._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)i=(t=l[e].split("-"))[0],n=l[e+1],t.length>1?(a=parseInt(t[1],10),r=t[1].indexOf("s")>0):(a=0,r=!1),s&&("MCCIDH"===i&&(n=""),a>0&&(a=c.getTime()/1e3-60)),i&&n&&(h._setField(i,n,1),a>0&&(h._fields["expire"+i]=a+(r?"s":""),(c.getTime()>=1e3*a||r&&!h.cookieRead(h.sessionCookieName))&&(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[i]=!0)));!h._getField(I)&&R.isTrackingServerPopulated()&&(l=h.cookieRead("s_vi"))&&((l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(n=l[1]).indexOf("["))>=0&&(n=n.substring(0,e)),n&&n.match(Q.VALID_VISITOR_ID_REGEX)&&h._setField(I,n)))}},h._appendVersionTo=function(e){var t="vVersion|"+h.version,i=e?h._getCookieVersion(e):null;return i?K(i,h.version)&&(e=e.replace(Q.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},h._writeVisitor=function(){var e,t,i=h._getSettingsDigest();for(e in h._fields)M(e)&&h._fields[e]&&"expire"!==e.substring(0,6)&&(t=h._fields[e],i+=(i?"|":"")+e+(h._fields["expire"+e]?"-"+h._fields["expire"+e]:"")+"|"+t);i=h._appendVersionTo(i),h.cookieWrite(h.cookieName,i,1)},h._getField=function(e,t){return null==h._fields||!t&&h._fieldsExpired&&h._fieldsExpired[e]?null:h._fields[e]},h._setField=function(e,t,i){null==h._fields&&(h._fields={}),h._fields[e]=t,i||h._writeVisitor()},h._getFieldList=function(e,t){var i=h._getField(e,t);return i?i.split("*"):null},h._setFieldList=function(e,t,i){h._setField(e,t?t.join("*"):"",i)},h._getFieldMap=function(e,t){var i=h._getFieldList(e,t);if(i){var n,a={};for(n=0;n<i.length;n+=2)a[i[n]]=i[n+1];return a}return null},h._setFieldMap=function(e,t,i){var n,a=null;if(t)for(n in a=[],t)M(n)&&(a.push(n),a.push(t[n]));h._setFieldList(e,a,i)},h._setFieldExpire=function(e,t,i){var n=new Date;n.setTime(n.getTime()+1e3*t),null==h._fields&&(h._fields={}),h._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(i?"s":""),t<0?(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[e]=!0):h._fieldsExpired&&(h._fieldsExpired[e]=!1),i&&(h.cookieRead(h.sessionCookieName)||h.cookieWrite(h.sessionCookieName,"1"))},h._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=D),t&&(t===D||t.match(Q.VALID_VISITOR_ID_REGEX))||(t="")),t},h._setFields=function(t,i){if(h._clearTimeout(t),null!=h._loading&&(h._loading[t]=!1),V.fieldGroupObj[t]&&V.setState(t,!1),"MC"===t){!0!==V.isClientSideMarketingCloudVisitorID&&(V.isClientSideMarketingCloudVisitorID=!1);var n=h._getField(A);if(!n||h.overwriteCrossDomainMCIDAndAID){if(!(n="object"===e(i)&&i.mid?i.mid:h._findVisitorID(i))){if(h._use1stPartyMarketingCloudServer&&!h.tried1stPartyMarketingCloudServer)return h.tried1stPartyMarketingCloudServer=!0,void h.getAnalyticsVisitorID(null,!1,!0);n=h._generateLocalMID()}h._setField(A,n)}n&&n!==D||(n=""),"object"===e(i)&&((i.d_region||i.dcs_region||i.d_blob||i.blob)&&h._setFields(k,i),h._use1stPartyMarketingCloudServer&&i.mid&&h._setFields(T,{id:i.id})),h._callAllCallbacks(A,[n])}if(t===k&&"object"===e(i)){var a=604800;null!=i.id_sync_ttl&&i.id_sync_ttl&&(a=parseInt(i.id_sync_ttl,10));var r=x.getRegionAndCheckIfChanged(i,a);h._callAllCallbacks("MCAAMLH",[r]);var o=h._getField(P);(i.d_blob||i.blob)&&((o=i.d_blob)||(o=i.blob),h._setFieldExpire(P,a),h._setField(P,o)),o||(o=""),h._callAllCallbacks(P,[o]),!i.error_msg&&h._newCustomerIDsHash&&h._setField("MCCIDH",h._newCustomerIDsHash)}if(t===T){var l=h._getField(I);l&&!h.overwriteCrossDomainMCIDAndAID||((l=h._findVisitorID(i))?l!==D&&h._setFieldExpire(P,-1):l=D,h._setField(I,l)),l&&l!==D||(l=""),h._callAllCallbacks(I,[l])}if(h.idSyncDisableSyncs||h.disableIdSyncs)x.idCallNotProcesssed=!0;else{x.idCallNotProcesssed=!1;var c={};c.ibs=i.ibs,c.subdomain=i.subdomain,x.processIDCallData(c)}if(i===Object(i)){var d,u;s()&&h.isAllowed()&&(d=h._getField("MCOPTOUT"));var p=C.parseOptOut(i,d,D);d=p.optOut,u=p.d_ottl,h._setFieldExpire("MCOPTOUT",u,!0),h._setField("MCOPTOUT",d),h._callAllCallbacks("MCOPTOUT",[d])}},h._loading=null,h._getRemoteField=function(e,t,i,n,a){var r,o="",l=R.isFirstPartyAnalyticsVisitorIDCall(e);if(s()&&h.isAllowed())if(h._readVisitor(),!(!(o=h._getField(e,!0==={MCAAMLH:!0,MCAAMB:!0}[e]))||h._fieldsExpired&&h._fieldsExpired[e])||h.disableThirdPartyCalls&&!l)o||(e===A?(h._registerCallback(e,i),o=h._generateLocalMID(),h.setMarketingCloudVisitorID(o)):e===I?(h._registerCallback(e,i),o="",h.setAnalyticsVisitorID(o)):(o="",n=!0));else if(e===A||"MCOPTOUT"===e?r="MC":"MCAAMLH"===e||e===P?r=k:e===I&&(r=T),r)return!t||null!=h._loading&&h._loading[r]||(null==h._loading&&(h._loading={}),h._loading[r]=!0,h._loadData(r,t,(function(t){if(!h._getField(e)){t&&V.setState(r,!0);var i="";e===A?i=h._generateLocalMID():r===k&&(i={error_msg:"timeout"}),h._setFields(r,i)}}),a)),h._registerCallback(e,i),o||(t||h._setFields(r,{id:D}),"");return e!==A&&e!==I||o!==D||(o="",n=!0),i&&n&&h._callCallback(i,[o]),o},h._setMarketingCloudFields=function(e){h._readVisitor(),h._setFields("MC",e)},h._mapCustomerIDs=function(e){h.getAudienceManagerBlob(e,!0)},h._setAnalyticsFields=function(e){h._readVisitor(),h._setFields(T,e)},h._setAudienceManagerFields=function(e){h._readVisitor(),h._setFields(k,e)},h._getAudienceManagerURLData=function(e){var t=h.audienceManagerServer,i="",n=h._getField(A),a=h._getField(P,!0),r=h._getField(I),o=r&&r!==D?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(h.loadSSL&&h.audienceManagerServerSecure&&(t=h.audienceManagerServerSecure),t){var s,l,c=h.getCustomerIDs();if(c)for(s in c)M(s)&&(l=c[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var d="http"+(h.loadSSL?"s":"")+"://"+t+"/id",u="d_visid_ver="+h.version+(f&&-1!==d.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+f:"")+"&d_rtbd=json&d_ver=2"+(!n&&h._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(h.marketingCloudOrgID)+"&d_nsid="+(h.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===S?"&d_coop_safe=1":!1===S?"&d_coop_unsafe=1":"")+(a?"&d_blob="+encodeURIComponent(a):"")+o,p=["s_c_il",h._in,e];return{url:i=d+"?"+u+"&d_cb=s_c_il%5B"+h._in+"%5D."+e,corsUrl:d+"?"+u,callback:p}}return{url:i}},h.appendVisitorIDsTo=function(e){try{var t=[[A,h._getField(A)],[I,h._getField(I)],["MCORGID",h.marketingCloudOrgID]];return h._addQuerystringParam(e,Q.ADOBE_MC,o(t))}catch(t){return e}},h.appendSupplementalDataIDTo=function(e,t){if(!(t=t||h.getSupplementalDataID(R.generateRandomString(),!0)))return e;try{var i=o([["SDID",t],["MCORGID",h.marketingCloudOrgID]]);return h._addQuerystringParam(e,Q.ADOBE_MC_SDID,i)}catch(t){return e}};var R={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,i){var n=e.split("&");return i=null!=i?i:n.length,n.splice(i,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,i){return e===I&&(t||(t=h.trackingServer),i||(i=h.trackingServerSecure),!("string"!=typeof(n=h.loadSSL?i:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){U.remove(e,{domain:h.cookieDomain})},isTrackingServerPopulated:function(){return!!h.trackingServer||!!h.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var i=t.split("=");return e[i[0]]=decodeURIComponent(i[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",i="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=i[Math.floor(Math.random()*i.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var i in e)e.hasOwnProperty(i)&&"function"==typeof e[i]&&(e[i]=t);return e}};h._helpers=R;var x=function(e,t){var i=d.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="http://fast.",a="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(i.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+a,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(i.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Q.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(a=i.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=n.id,a.name=n.id+"_name",a.style.cssText="display: none; width: 0; height: 0;",a.src=n.url,n.newIframeCreated=!0,t(),i.body.appendChild(a)}function t(e){a.addEventListener("load",(function(){a.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()}))}this.startedAttachingIframe=!0;var n=this,a=i.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==a.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=a,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=a},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function i(){a.jsonForComparison.push(t),a.jsonWaiting.push(t),a.processSyncOnPage(t)}var n,a=this;if(t===Object(t)&&t.ibs)if(n=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var r,o,s,l=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(s=this.jsonForComparison[r],n===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):i()}else i();if((this.receivedThirdPartyCookiesNotification||!Q.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){a.messageSendingInterval=Q.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,i){var n=e._getField("MCAAMLH"),a=t.d_region||t.dcs_region;return n?a&&(e._setFieldExpire("MCAAMLH",i),e._setField("MCAAMLH",a),parseInt(n,10)!==a&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),n=a)):(n=a)&&(e._setFieldExpire("MCAAMLH",i),e._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,i,n,a;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(n=0;n<i;n++)(a=t[n]).syncOnPage&&this.checkFirstPartyCookie(a,"","syncOnPage")},process:function(e){var t,i,n,a,r,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(i=t.length))for(s=!0,n=0;n<i;n++)a=t[n],r=[o("ibs"),o(a.id||""),o(a.tag||""),C.encodeAndBuildRequest(a.url||[],","),o(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):a.fireURLSync&&this.checkFirstPartyCookie(a,r.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,i,n){var a="syncOnPage"===n,r=a?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(r),c=!1,d=!1,u=Math.ceil((new Date).getTime()/Q.MILLIS_PER_DAY);l?(o=l.split("*"),c=(s=this.pruneSyncData(o,t.id,u)).dataPresent,d=s.dataValid,c&&d||this.fireSync(a,t,i,o,r,u)):(o=[],this.fireSync(a,t,i,o,r,u))},pruneSyncData:function(e,t,i){var n,a,r,o=!1,s=!1;for(a=0;a<e.length;a++)n=e[a],r=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,i<r?s=!0:(e.splice(a,1),a--)):i>=r&&(e.splice(a,1),a--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,i,n,a,r,o){var s=this;if(t){if("img"===i.tag){var l,c,d,u,h=i.url,p=e.loadSSL?"https:":"http:";for(l=0,c=h.length;l<c;l++){d=h[l],u=/^\/\//.test(d);var f=new Image;f.addEventListener("load",function(t,i,n,a){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l,c,d,u=e._getField(r),h=[];if(u)for(l=0,c=(o=u.split("*")).length;l<c;l++)(d=o[l]).match("^"+i.id+"-")||h.push(d);s.setSyncTrackingData(h,i,n,a)}}(this.onPagePixels.length,i,r,o)),f.src=(u?p:"")+d,this.onPagePixels.push(f)}}}else this.addMessage(n),this.setSyncTrackingData(a,i,r,o)},addMessage:function(t){var i=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Q.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,i,n,a){t.push(i.id+"-"+(a+Math.ceil(i.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,i="",n=encodeURIComponent;this.regionChanged&&(i=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Q.POST_MESSAGE_ENABLED?(e=i+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(i+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){q(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,i=/^---destpub-to-parent---/;"string"==typeof e&&i.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(i,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===i.readyState||"loaded"===i.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,i){return e._forceSyncIDCall||!t||i-t>Q.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var e=this;!function t(){e.startedAttachingIframe||(i.body?e.attachIframe():setTimeout(t,30))}()}}}(h,E);h._destinationPublishing=x,h.timeoutMetricsLog=[];var V={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case T:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case k:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};h.isClientSideMarketingCloudVisitorID=function(){return V.isClientSideMarketingCloudVisitorID},h.MCIDCallTimedOut=function(){return V.MCIDCallTimedOut},h.AnalyticsIDCallTimedOut=function(){return V.AnalyticsIDCallTimedOut},h.AAMIDCallTimedOut=function(){return V.AAMIDCallTimedOut},h.idSyncGetOnPageSyncInfo=function(){return h._readVisitor(),h._getField("MCSYNCSOP")},h.idSyncByURL=function(e){if(!h.isOptedOut()){var t=function(e){var t=e.minutesToLive,i="";return(h.idSyncDisableSyncs||h.disableIdSyncs)&&(i=i||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(i=i||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),{error:i,ttl:t}}(e||{});if(t.error)return t.error;var i,n,a=e.url,r=encodeURIComponent,o=x;return a=a.replace(/^https:/,"").replace(/^http:/,""),i=C.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",r(e.dpid),"img",r(a),t.ttl,"",i],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},h.idSyncByDataSource=function(e){if(!h.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,h.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},function(e,t){e.publishDestinations=function(i){var n=arguments[1],a=arguments[2];try{a="function"==typeof a?a:i.callback}catch(e){a=function(){}}var r=t;if(r.readyToAttachIframePreliminary()){if("string"==typeof i){if(!i.length)return void a({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void a({error:"messages is not a populated array."});var o=!1;if(n.forEach((function(e){"string"==typeof e&&e.length&&(r.addMessage(e),o=!0)})),!o)return void a({error:"None of the messages are populated strings."})}else{if(!C.isObject(i))return void a({error:"Invalid parameters passed."});var s=i;if("string"!=typeof(i=s.subdomain)||!i.length)return void a({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void a({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach((function(e){C.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):c.push(e))})),function e(){c.length&&setTimeout((function(){var t=new Image,i=c.shift();t.src=i.url,r.onPageDestinationsFired.push(i),e()}),100)}()}r.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(r.subdomain=i,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push((function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),r.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push((function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else a({error:"The destination publishing iframe is disabled in the Visitor library."})}}(h,x),h._getCookieVersion=function(e){e=e||h.cookieRead(h.cookieName);var t=Q.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},h._resetAmcvCookie=function(e){var t=h._getCookieVersion();t&&!j(t,e)||R.removeCookie(h.cookieName)},h.setAsCoopSafe=function(){S=!0},h.setAsCoopUnsafe=function(){S=!1},function(){if(h.configs=Object.create(null),R.isObject(i))for(var e in i)M(e)&&(h[e]=i[e],h.configs[e]=i[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],i=2===e.length?e[1]:"",n=h[t];h[t]=function(e){return s()&&h.isAllowed()?n.apply(h,arguments):("function"==typeof e&&h._callCallback(e,[i]),i)}})),h.init=function(){if(!(!h.configs.doesOptInApply||p.optIn.isComplete&&s()))return p.optIn.fetchPermissions(c,!0);!function(){if(R.isObject(i)){h.idSyncContainerID=h.idSyncContainerID||0,S="boolean"==typeof h.isCoopSafe?h.isCoopSafe:R.parseBoolean(h.isCoopSafe),h.resetBeforeVersion&&h._resetAmcvCookie(h.resetBeforeVersion),h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl(),h._readVisitor();var e=h._getField(w),t=Math.ceil((new Date).getTime()/Q.MILLIS_PER_DAY);h.idSyncDisableSyncs||h.disableIdSyncs||!x.canMakeSyncIDCall(e,t)||(h._setFieldExpire(P,-1),h._setField(w,t)),h.getMarketingCloudVisitorID(),h.getAudienceManagerLocationHint(),h.getAudienceManagerBlob(),h._mergeServerState(h.serverState)}else h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl()}(),function(){if(!h.idSyncDisableSyncs&&!h.disableIdSyncs){x.checkDPIframeSrc();b.addEventListener("load",(function(){E.windowLoaded=!0,function(){var e=x;e.readyToAttachIframe()&&e.attachIframe()}()}));try{W((function(e){x.receiveMessage(e.data)}),x.iframeHost)}catch(e){}}}(),h.whitelistIframeDomains&&Q.POST_MESSAGE_ENABLED&&(h.whitelistIframeDomains=h.whitelistIframeDomains instanceof Array?h.whitelistIframeDomains:[h.whitelistIframeDomains],h.whitelistIframeDomains.forEach((function(e){var i=new O(t,e),n=B(h,i);W(n,e)})))}};Ne.config=J,d.Visitor=Ne;var Le=Ne,Re=Ce.OptIn,xe=Ce.IabPlugin;Le.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var i=function(){var t=d.s_c_il;if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===e)return n}}();if(i)return i;var n=function(e){if(C.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]})).reduce((function(t,i){var n="doesOptInApply"!==i?e[i]:J.normalizeConfig(e[i]),a=C.normalizeBoolean(n);return t[i]=a,t}),Object.create(null))}(t);!function(e){d.adobe.optIn=d.adobe.optIn||function(){var t=C.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),i=e.optInCookieDomain||e.cookieDomain;i=(i=i||H())===window.location.hostname?"":i,t.optInCookieDomain=i;var n=new Re(t,{cookies:U});if(t.isIabContext){var a=new xe(window.__cmp);n.registerPlugin(a)}return n}()}(n||{});var a=e.split("").reverse().join(""),r=new Le(e,null,a);C.isObject(n)&&n.cookieDomain&&(r.cookieDomain=n.cookieDomain),d.s_c_il.splice(--d.s_c_in,1);var o=C.getIeVersion();if("number"==typeof o&&o<10)return r._helpers.replaceMethodsWithFunction(r,(function(){}));var s=function(){try{return d.self!==d.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(r)&&d.parent?new L(e,n,r,d.parent):new Le(e,n,a);return r=null,s.init(),s},function(){function e(){Le.windowLoaded=!0}d.addEventListener?d.addEventListener("load",e):d.attachEvent&&d.attachEvent("onload",e),Le.codeLoadEnd=(new Date).getTime()}()}();function b(e){var t=this;t.version="2.17.0";var i=window;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),t._il=i.s_c_il,t._in=i.s_c_in,t._il[t._in]=t,i.s_c_in++,t._c="s_c";var n=i.AppMeasurement.ec;n||(n=null);var a,r,o,s=i;try{for(a=s.parent,r=s.location;a&&a.location&&r&&""+a.location!=""+r&&s.location&&""+a.location!=""+s.location&&a.location.host==r.host;)a=(s=a).parent}catch(e){}t.C=function(e){try{console.log(e)}catch(e){}},t.Pa=function(e){return""+parseInt(e)==""+e},t.replace=function(e,t,i){return!e||0>e.indexOf(t)?e:e.split(t).join(i)},t.escape=function(e){var i,n;if(!e)return e;for(e=encodeURIComponent(e),i=0;7>i;i++)n="+~!*()'".substring(i,i+1),0<=e.indexOf(n)&&(e=t.replace(e,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return e},t.unescape=function(e){if(!e)return e;e=0<=e.indexOf("+")?t.replace(e,"+"," "):e;try{return decodeURIComponent(e)}catch(e){}return unescape(e)},t.Kb=function(){var e,n=i.location.hostname,a=t.fpCookieDomainPeriods;if(a||(a=t.cookieDomainPeriods),n&&!t.Ia&&!/^[0-9.]+$/.test(n)&&(a=2<(a=a?parseInt(a):2)?a:2,0<=(e=n.lastIndexOf(".")))){for(;0<=e&&1<a;)e=n.lastIndexOf(".",e-1),a--;t.Ia=0<e?n.substring(e):n}return t.Ia},t.c_r=t.cookieRead=function(e){e=t.escape(e);var i=" "+t.d.cookie,n=i.indexOf(" "+e+"="),a=0>n?n:i.indexOf(";",n);return"[[B]]"!=(e=0>n?"":t.unescape(i.substring(n+2+e.length,0>a?i.length:a)))?e:""},t.c_w=t.cookieWrite=function(e,i,n){var a,r=t.Kb(),o=t.cookieLifetime;return i=""+i,o=o?(""+o).toUpperCase():"",n&&"SESSION"!=o&&"NONE"!=o&&((a=""!=i?parseInt(o||0):-60)?(n=new Date).setTime(n.getTime()+1e3*a):1===n&&(a=(n=new Date).getYear(),n.setYear(a+2+(1900>a?1900:0)))),e&&"NONE"!=o?(t.d.cookie=t.escape(e)+"="+t.escape(""!=i?i:"[[B]]")+"; path=/;"+(n&&"SESSION"!=o?" expires="+n.toUTCString()+";":"")+(r?" domain="+r+";":""),t.cookieRead(e)==i):0},t.Hb=function(){var e=t.Util.getIeVersion();"number"==typeof e&&10>e&&(t.unsupportedBrowser=!0,t.ub(t,(function(){})))},t.ub=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"function"==typeof e[i]&&(e[i]=t)},t.K=[],t.ea=function(e,i,n){if(t.Ja)return 0;t.maxDelay||(t.maxDelay=250);var a=0,r=(new Date).getTime()+t.maxDelay,o=t.d.visibilityState,s=["webkitvisibilitychange","visibilitychange"];if(o||(o=t.d.webkitVisibilityState),o&&"prerender"==o){if(!t.fa)for(t.fa=1,n=0;n<s.length;n++)t.d.addEventListener(s[n],(function(){var e=t.d.visibilityState;e||(e=t.d.webkitVisibilityState),"visible"==e&&(t.fa=0,t.delayReady())}));a=1,r=0}else n||t.u("_d")&&(a=1);return a&&(t.K.push({m:e,a:i,t:r}),t.fa||setTimeout(t.delayReady,t.maxDelay)),a},t.delayReady=function(){var e,i=(new Date).getTime(),n=0;for(t.u("_d")?n=1:t.ya();0<t.K.length;){if(e=t.K.shift(),n&&!e.t&&e.t>i){t.K.unshift(e),setTimeout(t.delayReady,parseInt(t.maxDelay/2));break}t.Ja=1,t[e.m].apply(t,e.a),t.Ja=0}},t.setAccount=t.sa=function(e){var i,n;if(!t.ea("setAccount",arguments))if(t.account=e,t.allAccounts)for(i=t.allAccounts.concat(e.split(",")),t.allAccounts=[],i.sort(),n=0;n<i.length;n++)0!=n&&i[n-1]==i[n]||t.allAccounts.push(i[n]);else t.allAccounts=e.split(",")},t.foreachVar=function(e,i){var n,a,r,o,s="";for(r=a="",t.lightProfileID?(n=t.O,(s=t.lightTrackVars)&&(s=","+s+","+t.ka.join(",")+",")):(n=t.g,(t.pe||t.linkType)&&(s=t.linkTrackVars,a=t.linkTrackEvents,t.pe&&(r=t.pe.substring(0,1).toUpperCase()+t.pe.substring(1),t[r]&&(s=t[r].ac,a=t[r].$b))),s&&(s=","+s+","+t.F.join(",")+","),a&&s&&(s+=",events,")),i&&(i=","+i+","),a=0;a<n.length;a++)r=n[a],(o=t[r])&&(!s||0<=s.indexOf(","+r+","))&&(!i||0<=i.indexOf(","+r+","))&&e(r,o)},t.o=function(e,i,n,a,r){var o,s,l,c,d="",u=0;if("contextData"==e&&(e="c"),i){for(o in i)if(!(Object.prototype[o]||r&&o.substring(0,r.length)!=r)&&i[o]&&(!n||0<=n.indexOf(","+(a?a+".":"")+o+","))){if(l=!1,u)for(s=0;s<u.length;s++)if(o.substring(0,u[s].length)==u[s]){l=!0;break}if(!l&&(""==d&&(d+="&"+e+"."),s=i[o],r&&(o=o.substring(r.length)),0<o.length))if(0<(l=o.indexOf(".")))l=(r||"")+(s=o.substring(0,l))+".",u||(u=[]),u.push(l),d+=t.o(s,i,n,a,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==a&&0>r.indexOf(".contextData."))switch(l=o.substring(0,4),c=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:t.Pa(c)&&("prop"==l?o="c"+c:"eVar"==l?o="v"+c:"list"==l?o="l"+c:"hier"==l&&(o="h"+c,s=s.substring(0,255)))}d+="&"+t.escape(o)+"="+t.escape(s)}}""!=d&&(d+="&."+e)}return d},t.usePostbacks=0,t.Nb=function(){var e,i,a,r,o,s,l,c,d="",u="",h="",p=r="",f=t.T();if(t.lightProfileID?(e=t.O,(u=t.lightTrackVars)&&(u=","+u+","+t.ka.join(",")+",")):(e=t.g,(t.pe||t.linkType)&&(u=t.linkTrackVars,h=t.linkTrackEvents,t.pe&&(r=t.pe.substring(0,1).toUpperCase()+t.pe.substring(1),t[r]&&(u=t[r].ac,h=t[r].$b))),u&&(u=","+u+","+t.F.join(",")+","),h&&(h=","+h+",",u&&(u+=",events,")),t.events2&&(p+=(""!=p?",":"")+t.events2)),f&&f.getCustomerIDs){if(r=n,o=f.getCustomerIDs())for(i in o)Object.prototype[i]||"object"==typeof(a=o[i])&&(r||(r={}),a.id&&(r[i+".id"]=a.id),a.authState&&(r[i+".as"]=a.authState));r&&(d+=t.o("cid",r))}for(t.AudienceManagement&&t.AudienceManagement.isReady()&&(d+=t.o("d",t.AudienceManagement.getEventCallConfigParams())),i=0;i<e.length;i++){if(r=e[i],o=t[r],a=r.substring(0,4),s=r.substring(4),o||("events"==r&&p?(o=p,p=""):"marketingCloudOrgID"==r&&f&&t.V("ECID")&&(o=f.marketingCloudOrgID)),o&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"customerPerspective":r="cp";break;case"marketingCloudOrgID":r="mcorgid";break;case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<o.length&&(t.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",t.ssl&&t.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!t.ssl&&t.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(o+=(""!=o?",":"")+p),h)for(s=o.split(","),o="",a=0;a<s.length;a++)0<=(c=(l=s[a]).indexOf("="))&&(l=l.substring(0,c)),0<=(c=l.indexOf(":"))&&(l=l.substring(0,c)),0<=h.indexOf(","+l+",")&&(o+=(o?",":"")+s[a]);break;case"events2":o="";break;case"contextData":d+=t.o("c",t[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",t.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",t.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":t.retrieveLightProfiles&&(d+=t.o("mts",t[r],u,r)),o="";break;default:t.Pa(s)&&("prop"==a?r="c"+s:"eVar"==a?r="v"+s:"list"==a?r="l"+s:"hier"==a&&(r="h"+s,o=o.substring(0,255)))}o&&(d+="&"+r+"="+("pev"!=r.substring(0,3)?t.escape(o):o))}"pev3"==r&&t.e&&(d+=t.e)}return t.ja&&(d+="&lrt="+t.ja,t.ja=null),d},t.B=function(e){var t=e.tagName;return"undefined"!=""+e.hc||"undefined"!=""+e.Wb&&"HTML"!=(""+e.Wb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},t.La=function(e){var t,n,a,r=i.location,o=e.href?e.href:"";return t=o.indexOf(":"),n=o.indexOf("?"),a=o.indexOf("/"),o&&(0>t||0<=n&&t>n||0<=a&&t>a)&&(n=e.protocol&&1<e.protocol.length?e.protocol:r.protocol?r.protocol:"",t=r.pathname.lastIndexOf("/"),o=(n?n+"//":"")+(e.host?e.host:r.host?r.host:"")+("/"!=o.substring(0,1)?r.pathname.substring(0,0>t?0:t)+"/":"")+o),o},t.L=function(e){var i,n,a=t.B(e),r="",o=0;return a&&(i=e.protocol,n=e.onclick,!e.href||"A"!=a&&"AREA"!=a||n&&i&&!(0>i.toLowerCase().indexOf("javascript"))?n?(r=t.replace(t.replace(t.replace(t.replace(""+n,"\r",""),"\n",""),"\t","")," ",""),o=2):"INPUT"==a||"SUBMIT"==a?(e.value?r=e.value:e.innerText?r=e.innerText:e.textContent&&(r=e.textContent),o=3):"IMAGE"==a&&e.src&&(r=e.src):r=t.La(e),r)?{id:r.substring(0,100),type:o}:0},t.fc=function(e){for(var i=t.B(e),n=t.L(e);e&&!n&&"BODY"!=i;)(e=e.parentElement?e.parentElement:e.parentNode)&&(i=t.B(e),n=t.L(e));return n&&"BODY"!=i||(e=0),e&&(0<=(i=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=i.indexOf(".trackLink("))&&(e=0),e},t.Vb=function(){var e,n,a,r,o=t.linkObject,s=t.linkType,l=t.linkURL;if(t.la=1,o||(t.la=0,o=t.clickObject),o){for(e=t.B(o),n=t.L(o);o&&!n&&"BODY"!=e;)(o=o.parentElement?o.parentElement:o.parentNode)&&(e=t.B(o),n=t.L(o));if(n&&"BODY"!=e||(o=0),o&&!t.linkObject){var c=o.onclick?""+o.onclick:"";(0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(o=0)}}else t.la=1;if(!l&&o&&(l=t.La(o)),l&&!t.linkLeaveQueryString&&(0<=(a=l.indexOf("?"))&&(l=l.substring(0,a))),!s&&l){var d,u=0,h=0;if(t.trackDownloadLinks&&t.linkDownloadFileTypes)for(a=(c=l.toLowerCase()).indexOf("?"),r=c.indexOf("#"),0<=a?0<=r&&r<a&&(a=r):a=r,0<=a&&(c=c.substring(0,a)),a=t.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<a.length;r++)(d=a[r])&&c.substring(c.length-(d.length+1))=="."+d&&(s="d");if(t.trackExternalLinks&&!s&&(c=l.toLowerCase(),t.Oa(c)&&(t.linkInternalFilters||(t.linkInternalFilters=i.location.hostname),a=0,t.linkExternalFilters?(a=t.linkExternalFilters.toLowerCase().split(","),u=1):t.linkInternalFilters&&(a=t.linkInternalFilters.toLowerCase().split(",")),a))){for(r=0;r<a.length;r++)d=a[r],0<=c.indexOf(d)&&(h=1);h?u&&(s="e"):u||(s="e")}}t.linkObject=o,t.linkURL=l,t.linkType=s,(t.trackClickMap||t.trackInlineStats)&&(t.e="",o&&(s=t.pageName,l=1,o=o.sourceIndex,s||(s=t.pageURL,l=0),i.s_objectID&&(n.id=i.s_objectID,o=n.type=1),s&&n&&n.id&&e&&(t.e="&pid="+t.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+t.escape(n.id.substring(0,100))+(n.type?"&oidt="+n.type:"")+"&ot="+e+(o?"&oi="+o:""))))},t.Ob=function(){var e=t.la,i=t.linkType,n=t.linkURL,a=t.linkName;if(i&&(n||a)&&("d"!=(i=i.toLowerCase())&&"e"!=i&&(i="o"),t.pe="lnk_"+i,t.pev1=n?t.escape(n):"",t.pev2=a?t.escape(a):"",e=1),t.abort&&(e=0),t.trackClickMap||t.trackInlineStats||t.Rb()){i={},n=0;var r,o,s,l=(c=t.pb())?c.split("&"):0,c=0;if(l)for(r=0;r<l.length;r++)o=l[r].split("="),a=t.unescape(o[0]).split(","),i[o=t.unescape(o[1])]=a;for(s in a=t.account.split(","),r={},t.contextData)s&&!Object.prototype[s]&&"a.activitymap."==s.substring(0,14)&&(r[s]=t.contextData[s],t.contextData[s]="");if(t.e=t.o("c",r)+(t.e?t.e:""),e||t.e){for(o in e&&!t.e&&(c=1),i)if(!Object.prototype[o])for(s=0;s<a.length;s++)for(c&&((l=i[o].join(","))==t.account&&(t.e+=("&"!=o.charAt(0)?"&":"")+o,i[o]=[],n=1)),r=0;r<i[o].length;r++)(l=i[o][r])==a[s]&&(c&&(t.e+="&u="+t.escape(l)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),i[o].splice(r,1),n=1);if(e||(n=1),n){for(o in c="",r=2,!e&&t.e&&(c=t.escape(a.join(","))+"="+t.escape(t.e),r=1),i)!Object.prototype[o]&&0<r&&0<i[o].length&&(c+=(c?"&":"")+t.escape(i[o].join(","))+"="+t.escape(o),r--);t.wb(c)}}}return e},t.pb=function(){return t.useLinkTrackSessionStorage?t.Ca()?i.sessionStorage.getItem(t.P):void 0:t.cookieRead(t.P)},t.Ca=function(){return!!i.sessionStorage},t.wb=function(e){t.useLinkTrackSessionStorage?t.Ca()&&i.sessionStorage.setItem(t.P,e):t.cookieWrite(t.P,e)},t.Pb=function(){if(!t.Zb){var e,i,n,a,r=new Date,o=s.location,l=i=e="",c="1.2",d=t.cookieWrite("s_cc","true",0)?"Y":"N",u="",h="";if(r.setUTCDate&&(c="1.3",(0).toPrecision&&(c="1.5",(r=[]).forEach))){c="1.6",i=0,e={};try{(i=new Iterator(e)).next&&(c="1.7",r.reduce&&((c="1.8").trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(e){}}e=screen.width+"x"+screen.height,l=navigator.javaEnabled()?"Y":"N",i=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,n=t.w.innerWidth?t.w.innerWidth:t.d.documentElement.offsetWidth,a=t.w.innerHeight?t.w.innerHeight:t.d.documentElement.offsetHeight;try{t.b.addBehavior("#default#homePage"),u=t.b.gc(o)?"Y":"N"}catch(e){}try{t.b.addBehavior("#default#clientCaps"),h=t.b.connectionType}catch(e){}t.resolution=e,t.colorDepth=i,t.javascriptVersion=c,t.javaEnabled=l,t.cookiesEnabled=d,t.browserWidth=n,t.browserHeight=a,t.connectionType=h,t.homepage=u,t.Zb=1}},t.Q={},t.loadModule=function(e,n){var a=t.Q[e];if(!a){a=i["AppMeasurement_Module_"+e]?new i["AppMeasurement_Module_"+e](t):{},t.Q[e]=t[e]=a,a.ib=function(){return a.sb},a.xb=function(i){(a.sb=i)&&(t[e+"_onLoad"]=i,t.ea(e+"_onLoad",[t,a],1)||i(t,a))};try{Object.defineProperty?Object.defineProperty(a,"onLoad",{get:a.ib,set:a.xb}):a._olc=1}catch(e){a._olc=1}}n&&(t[e+"_onLoad"]=n,t.ea(e+"_onLoad",[t,a],1)||n(t,a))},t.u=function(e){var i,n;for(i in t.Q)if(!Object.prototype[i]&&(n=t.Q[i])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(t,n)),n[e]&&n[e]()))return 1;return 0},t.Rb=function(){return!(!t.ActivityMap||!t.ActivityMap._c)},t.Sb=function(){var e=Math.floor(1e13*Math.random()),i=t.visitorSampling,n=t.visitorSamplingGroup,a=(n="s_vsn_"+(t.visitorNamespace?t.visitorNamespace:t.account)+(n?"_"+n:""),t.cookieRead(n));if(i){if(i*=100,a&&(a=parseInt(a)),!a){if(!t.cookieWrite(n,e))return 0;a=e}if(a%1e4>i)return 0}return 1},t.S=function(e,i){var n,a,r,o,s,l,c;for(c={},n=0;2>n;n++)for(a=0<n?t.Ea:t.g,r=0;r<a.length;r++)if((s=e[o=a[r]])||e["!"+o]){if(s&&!i&&("contextData"==o||"retrieveLightData"==o)&&t[o])for(l in t[o])s[l]||(s[l]=t[o][l]);t[o]||(c["!"+o]=1),c[o]=t[o],t[o]=s}return c},t.cc=function(e){var i,n,a,r;for(i=0;2>i;i++)for(n=0<i?t.Ea:t.g,a=0;a<n.length;a++)e[r=n[a]]=t[r],e[r]||"prop"!==r.substring(0,4)&&"eVar"!==r.substring(0,4)&&"hier"!==r.substring(0,4)&&"list"!==r.substring(0,4)&&"channel"!==r&&"events"!==r&&"eventList"!==r&&"products"!==r&&"productList"!==r&&"purchaseID"!==r&&"transactionID"!==r&&"state"!==r&&"zip"!==r&&"campaign"!==r&&"events2"!==r&&"latitude"!==r&&"longitude"!==r&&"ms_a"!==r&&"contextData"!==r&&"supplementalDataID"!==r&&"tnt"!==r&&"timestamp"!==r&&"abort"!==r&&"useBeacon"!==r&&"linkObject"!==r&&"clickObject"!==r&&"linkType"!==r&&"linkName"!==r&&"linkURL"!==r&&"bodyClickTarget"!==r&&"bodyClickFunction"!==r||(e["!"+r]=1)},t.Jb=function(e){var t,i,n,a,r,o,s=0,l="",c="";if(e&&255<e.length&&(0<(i=(t=""+e).indexOf("?"))&&(o=t.substring(i+1),n=0,"http://"==(a=(t=t.substring(0,i)).toLowerCase()).substring(0,7)?n+=7:"https://"==a.substring(0,8)&&(n+=8),0<(i=a.indexOf("/",n))&&(a=a.substring(n,i),r=t.substring(i),t=t.substring(0,i),0<=a.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")?s=",p,ei,":0<=a.indexOf("baidu.")&&(s=",wd,word,"),s&&o)))){if((e=o.split("&"))&&1<e.length){for(n=0;n<e.length;n++)0<(i=(a=e[n]).indexOf("="))&&0<=s.indexOf(","+a.substring(0,i)+",")?l+=(l?"&":"")+a:c+=(c?"&":"")+a;l&&c?o=l+"&"+c:c=""}e=t+(0<(i=253-(o.length-c.length)-t.length)?r.substring(0,i):"")+"?"+o}return e},t.bb=function(e){var i=t.d.visibilityState,n=["webkitvisibilitychange","visibilitychange"];if(i||(i=t.d.webkitVisibilityState),i&&"prerender"==i){if(e)for(i=0;i<n.length;i++)t.d.addEventListener(n[i],(function(){var i=t.d.visibilityState;i||(i=t.d.webkitVisibilityState),"visible"==i&&e()}));return!1}return!0},t.ba=!1,t.H=!1,t.zb=function(){t.H=!0,t.p()},t.I=!1,t.Ab=function(e){t.marketingCloudVisitorID=e.MCMID,t.visitorOptedOut=e.MCOPTOUT,t.analyticsVisitorID=e.MCAID,t.audienceManagerLocationHint=e.MCAAMLH,t.audienceManagerBlob=e.MCAAMB,t.I=!1,t.p()},t.ab=function(e){return t.maxDelay||(t.maxDelay=250),!t.u("_d")||(e&&setTimeout((function(){e()}),t.maxDelay),!1)},t.Z=!1,t.G=!1,t.ya=function(){t.G=!0,t.p()},t.isReadyToTrack=function(){var e=!0;return!(!t.mb()||!t.kb())&&(t.ob()||(e=!1),t.rb()||(e=!1),e)},t.mb=function(){return t.ba||t.H||(t.bb(t.zb)?t.H=!0:t.ba=!0),!(t.ba&&!t.H)},t.kb=function(){var e=t.va();if(e){if(!t.ra&&!t.aa)return e.fetchPermissions(t.tb,!0),t.aa=!0,!1;if(!t.ra)return!1;if(!e.isApproved(e.Categories.ANALYTICS))return!1}return!0},t.V=function(e){var i=t.va();return!(i&&!i.isApproved(i.Categories[e]))},t.va=function(){return i.adobe&&i.adobe.optIn?i.adobe.optIn:null},t.Y=!0,t.ob=function(){var e=t.T();return!e||!e.getVisitorValues||(t.Y&&(t.Y=!1,t.I||(t.I=!0,e.getVisitorValues(t.Ab))),!t.I)},t.T=function(){var e=t.visitor;return e&&!e.isAllowed()&&(e=null),e},t.rb=function(){return t.Z||t.G||(t.ab(t.ya)?t.G=!0:t.Z=!0),!(t.Z&&!t.G)},t.aa=!1,t.tb=function(){t.aa=!1,t.ra=!0},t.j=n,t.q=0,t.callbackWhenReadyToTrack=function(e,i,a){var r;(r={}).Eb=e,r.Db=i,r.Bb=a,t.j==n&&(t.j=[]),t.j.push(r),0==t.q&&(t.q=setInterval(t.p,100))},t.p=function(){var e;if(t.isReadyToTrack()&&(t.yb(),t.j!=n))for(;0<t.j.length;)(e=t.j.shift()).Db.apply(e.Eb,e.Bb)},t.yb=function(){t.q&&(clearInterval(t.q),t.q=0)},t.ta=function(e){var i,a={};if(t.cc(a),e!=n)for(i in e)a[i]=e[i];t.callbackWhenReadyToTrack(t,t.Da,[a]),t.Ba()},t.Lb=function(){var e,i=t.cookieRead("s_fid"),n="",a="";e=8;var r=4;if(!i||0>i.indexOf("-")){for(i=0;16>i;i++)e=Math.floor(Math.random()*e),n+="0123456789ABCDEF".substring(e,e+1),e=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(e,e+1),e=r=16;i=n+"-"+a}return t.cookieWrite("s_fid",i,1)||(i=0),i},t.Da=function(e){var n,a=new Date,r="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),o=a.getYear(),l=(o="t="+t.escape(a.getDate()+"/"+a.getMonth()+"/"+(1900>o?o+1900:o)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset()),t.T());e&&(n=t.S(e,1)),t.Sb()&&!t.visitorOptedOut&&(t.wa()||(t.fid=t.Lb()),t.Vb(),t.usePlugins&&t.doPlugins&&t.doPlugins(t),t.account&&(t.abort||(t.trackOffline&&!t.timestamp&&(t.timestamp=Math.floor(a.getTime()/1e3)),e=i.location,t.pageURL||(t.pageURL=e.href?e.href:e),t.referrer||t.Za||(e=t.Util.getQueryParam("adobe_mc_ref",null,null,!0),t.referrer=e||void 0===e?void 0===e?"":e:s.document.referrer),t.Za=1,t.referrer=t.Jb(t.referrer),t.u("_g")),t.Ob()&&!t.abort&&(l&&t.V("TARGET")&&!t.supplementalDataID&&l.getSupplementalDataID&&(t.supplementalDataID=l.getSupplementalDataID("AppMeasurement:"+t._in,!t.expectSupplementalData)),t.V("AAM")||(t.contextData["cm.ssf"]=1),t.Pb(),o+=t.Nb(),t.qb(r,o),t.u("_t"),t.referrer=""))),t.Ba(),n&&t.S(n,1)},t.t=t.track=function(e,i){i&&t.S(i),t.Y=!0,t.isReadyToTrack()?null!=t.j&&0<t.j.length?(t.ta(e),t.p()):t.Da(e):t.ta(e)},t.Ba=function(){t.abort=t.supplementalDataID=t.timestamp=t.pageURLRest=t.linkObject=t.clickObject=t.linkURL=t.linkName=t.linkType=i.s_objectID=t.pe=t.pev1=t.pev2=t.pev3=t.e=t.lightProfileID=t.useBeacon=t.referrer=0},t.Aa=[],t.registerPreTrackCallback=function(e){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof e?t.Aa.push([e,i]):t.debugTracking&&t.C("DEBUG: Non function type passed to registerPreTrackCallback")},t.fb=function(e){t.ua(t.Aa,e)},t.za=[],t.registerPostTrackCallback=function(e){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);"function"==typeof e?t.za.push([e,i]):t.debugTracking&&t.C("DEBUG: Non function type passed to registerPostTrackCallback")},t.eb=function(e){t.ua(t.za,e)},t.ua=function(e,i){if("object"==typeof e)for(var n=0;n<e.length;n++){var a=e[n][0],r=e[n][1].slice();if(r.unshift(i),"function"==typeof a)try{a.apply(null,r)}catch(e){t.debugTracking&&t.C(e.message)}}},t.tl=t.trackLink=function(e,i,n,a,r){return t.linkObject=e,t.linkType=i,t.linkName=n,r&&(t.bodyClickTarget=e,t.bodyClickFunction=r),t.track(a)},t.trackLight=function(e,i,n,a){return t.lightProfileID=e,t.lightStoreForSeconds=i,t.lightIncrementBy=n,t.track(a)},t.clearVars=function(){var e,i;for(e=0;e<t.g.length;e++)("prop"==(i=t.g[e]).substring(0,4)||"eVar"==i.substring(0,4)||"hier"==i.substring(0,4)||"list"==i.substring(0,4)||"channel"==i||"events"==i||"eventList"==i||"products"==i||"productList"==i||"purchaseID"==i||"transactionID"==i||"state"==i||"zip"==i||"campaign"==i)&&(t[i]=void 0)},t.tagContainerMarker="",t.qb=function(e,i){var n=t.gb()+"/"+e+"?AQB=1&ndh=1&pf=1&"+(t.xa()?"callback=s_c_il["+t._in+"].doPostbacks&et=1&":"")+i+"&AQE=1";t.fb(n),t.cb(n),t.U()},t.gb=function(){var e=t.hb();return"http"+(t.ssl?"s":"")+"://"+e+"/b/ss/"+t.account+"/"+(t.mobile?"5.":"")+(t.xa()?"10":"1")+"/JS-"+t.version+(t.Yb?"T":"")+(t.tagContainerMarker?"-"+t.tagContainerMarker:"")},t.xa=function(){return t.AudienceManagement&&t.AudienceManagement.isReady()||0!=t.usePostbacks},t.hb=function(){var e=t.dc,i=t.trackingServer;return i?t.trackingServerSecure&&t.ssl&&(i=t.trackingServerSecure):("d1"==(e=e?(""+e).toLowerCase():"d1")?e="112":"d2"==e&&(e="122"),i=t.jb()+"."+e+".2o7.net"),i},t.jb=function(){var e=t.visitorNamespace;return e||(e=(e=t.account.split(",")[0]).replace(/[^0-9a-z]/gi,"")),e},t.Ya=/{(%?)(.*?)(%?)}/,t.bc=RegExp(t.Ya.source,"g"),t.Ib=function(e){if("object"==typeof e.dests)for(var i=0;i<e.dests.length;++i){var n=e.dests[i];if("string"==typeof n.c&&"aa."==n.id.substr(0,3))for(var a=n.c.match(t.bc),r=0;r<a.length;++r){var o=a[r],s=o.match(t.Ya),l="";"%"==s[1]&&"timezone_offset"==s[2]?l=(new Date).getTimezoneOffset():"%"==s[1]&&"timestampz"==s[2]&&(l=t.Mb()),n.c=n.c.replace(o,t.escape(l))}}},t.Mb=function(){var e=new Date,i=new Date(6e4*Math.abs(e.getTimezoneOffset()));return t.k(4,e.getFullYear())+"-"+t.k(2,e.getMonth()+1)+"-"+t.k(2,e.getDate())+"T"+t.k(2,e.getHours())+":"+t.k(2,e.getMinutes())+":"+t.k(2,e.getSeconds())+(0<e.getTimezoneOffset()?"-":"+")+t.k(2,i.getUTCHours())+":"+t.k(2,i.getUTCMinutes())},t.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},t.pa={},t.doPostbacks=function(e){if("object"==typeof e)if(t.Ib(e),"object"==typeof t.AudienceManagement&&"function"==typeof t.AudienceManagement.isReady&&t.AudienceManagement.isReady()&&"function"==typeof t.AudienceManagement.passData)t.AudienceManagement.passData(e);else if("object"==typeof e&&"object"==typeof e.dests)for(var i=0;i<e.dests.length;++i){var n=e.dests[i];"object"==typeof n&&"string"==typeof n.c&&"string"==typeof n.id&&"aa."==n.id.substr(0,3)&&(t.pa[n.id]=new Image,t.pa[n.id].alt="",t.pa[n.id].src=n.c)}},t.cb=function(e){t.i||t.Qb(),t.i.push(e),t.ia=t.A(),t.Wa()},t.Qb=function(){t.i=t.Tb(),t.i||(t.i=[])},t.Tb=function(){var e,n;if(t.oa()){try{(n=i.localStorage.getItem(t.ma()))&&(e=i.JSON.parse(n))}catch(e){}return e}},t.oa=function(){var e=!0;return t.trackOffline&&t.offlineFilename&&i.localStorage&&i.JSON||(e=!1),e},t.Ma=function(){var e=0;return t.i&&(e=t.i.length),t.l&&e++,e},t.U=function(){if(!t.l||(t.v&&t.v.complete&&t.v.D&&t.v.R(),!t.l))if(t.Na=n,t.na)t.ia>t.N&&t.Ua(t.i),t.qa(500);else{var e=t.Cb();0<e?t.qa(e):(e=t.Ka())&&(t.l=1,t.Ub(e),t.Xb(e))}},t.qa=function(e){t.Na||(e||(e=0),t.Na=setTimeout(t.U,e))},t.Cb=function(){var e;return!t.trackOffline||0>=t.offlineThrottleDelay?0:(e=t.A()-t.Sa,t.offlineThrottleDelay<e?0:t.offlineThrottleDelay-e)},t.Ka=function(){if(0<t.i.length)return t.i.shift()},t.Ub=function(e){if(t.debugTracking){var i,n="AppMeasurement Debug: "+e;for(e=e.split("&"),i=0;i<e.length;i++)n+="\n\t"+t.unescape(e[i]);t.C(n)}},t.wa=function(){return t.marketingCloudVisitorID||t.analyticsVisitorID},t.X=!1;try{o=JSON.parse('{"x":"y"}')}catch(e){o=null}for(o&&"y"==o.x?(t.X=!0,t.W=function(e){return JSON.parse(e)}):i.$&&i.$.parseJSON?(t.W=function(e){return i.$.parseJSON(e)},t.X=!0):t.W=function(){return null},t.Xb=function(e){var a,r,o;if(t.lb(e)&&(r=1,a={send:function(e){t.useBeacon=!1,navigator.sendBeacon(e)?a.R():a.ga()}}),!a&&t.wa()&&2047<e.length&&(t.$a()&&(r=2,a=new XMLHttpRequest),a&&(t.AudienceManagement&&t.AudienceManagement.isReady()||0!=t.usePostbacks)&&(t.X?a.Fa=!0:a=0)),!a&&t.Xa&&(e=e.substring(0,2047)),!a&&t.d.createElement&&(0!=t.usePostbacks||t.AudienceManagement&&t.AudienceManagement.isReady())&&(a=t.d.createElement("SCRIPT"))&&"async"in a&&((o=(o=t.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:t.d.body)?(a.type="text/javascript",a.setAttribute("async","async"),r=3):a=0),a||((a=new Image).alt="",a.abort||void 0===i.InstallTrigger||(a.abort=function(){a.src=n})),a.Ta=Date.now(),a.Ha=function(){try{a.D&&(clearTimeout(a.D),a.D=0)}catch(e){}},a.onload=a.R=function(){if(a.Ta&&(t.ja=Date.now()-a.Ta),t.eb(e),a.Ha(),t.Gb(),t.ca(),t.l=0,t.U(),a.Fa){a.Fa=!1;try{t.doPostbacks(t.W(a.responseText))}catch(e){}}},a.onabort=a.onerror=a.ga=function(){a.Ha(),(t.trackOffline||t.na)&&t.l&&t.i.unshift(t.Fb),t.l=0,t.ia>t.N&&t.Ua(t.i),t.ca(),t.qa(500)},a.onreadystatechange=function(){4==a.readyState&&(200==a.status?a.R():a.ga())},t.Sa=t.A(),1===r)a.send(e);else if(2===r)o=e.indexOf("?"),r=e.substring(0,o),o=(o=e.substring(o+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),a.open("POST",r,!0),a.withCredentials=!0,a.send(o);else if(a.src=e,3===r){if(t.Qa)try{o.removeChild(t.Qa)}catch(e){}o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),t.Qa=t.v}a.D=setTimeout((function(){a.D&&(a.complete?a.R():(t.trackOffline&&a.abort&&a.abort(),a.ga()))}),5e3),t.Fb=e,t.v=i["s_i_"+t.replace(t.account,",","_")]=a,(t.useForcedLinkTracking&&t.J||t.bodyClickFunction)&&(t.forcedLinkTrackingTimeout||(t.forcedLinkTrackingTimeout=250),t.da=setTimeout(t.ca,t.forcedLinkTrackingTimeout))},t.lb=function(e){var i=!1;return navigator.sendBeacon&&(t.nb(e)||t.useBeacon)&&(i=!0),t.vb(e)&&(i=!1),i},t.nb=function(e){return!!(e&&0<e.indexOf("pe=lnk_e"))},t.vb=function(e){return 64e3<=e.length},t.$a=function(){return"undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},t.Gb=function(){if(t.oa()&&!(t.Ra>t.N))try{i.localStorage.removeItem(t.ma()),t.Ra=t.A()}catch(e){}},t.Ua=function(e){if(t.oa()){t.Wa();try{i.localStorage.setItem(t.ma(),i.JSON.stringify(e)),t.N=t.A()}catch(e){}}},t.Wa=function(){if(t.trackOffline)for((!t.offlineLimit||0>=t.offlineLimit)&&(t.offlineLimit=10);t.i.length>t.offlineLimit;)t.Ka()},t.forceOffline=function(){t.na=!0},t.forceOnline=function(){t.na=!1},t.ma=function(){return t.offlineFilename+"-"+t.visitorNamespace+t.account},t.A=function(){return(new Date).getTime()},t.Oa=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},t.setTagContainer=function(e){var i,n,a;for(t.Yb=e,i=0;i<t._il.length;i++)if((n=t._il[i])&&"s_l"==n._c&&n.tagContainerName==e){if(t.S(n),n.lmq)for(i=0;i<n.lmq.length;i++)a=n.lmq[i],t.loadModule(a.n);if(n.ml)for(a in n.ml)if(t[a])for(i in e=t[a],a=n.ml[a])!Object.prototype[i]&&("function"!=typeof a[i]||0>(""+a[i]).indexOf("s_c_il"))&&(e[i]=a[i]);if(n.mmq)for(i=0;i<n.mmq.length;i++)a=n.mmq[i],t[a.m]&&((e=t[a.m])[a.f]&&"function"==typeof e[a.f]&&(a.a?e[a.f].apply(e,a.a):e[a.f].apply(e)));if(n.tq)for(i=0;i<n.tq.length;i++)t.track(n.tq[i]);n.s=t;break}},t.Util={urlEncode:t.escape,urlDecode:t.unescape,cookieRead:t.cookieRead,cookieWrite:t.cookieWrite,getQueryParam:function(e,n,a,r){var o,s="";return n||(n=t.pageURL?t.pageURL:i.location),a=a||"&",e&&n?0>(o=(n=""+n).indexOf("?"))?s:(n=a+n.substring(o+1)+a,r&&(0<=n.indexOf(a+e+a)||0<=n.indexOf(a+e+"="+a))?void 0:(0<=(o=n.indexOf("#"))&&(n=n.substr(0,o)+a),0>(o=n.indexOf(a+e+"="))||(0<=(o=(n=n.substring(o+a.length+e.length+1)).indexOf(a))&&(n=n.substring(0,o)),0<n.length&&(s=t.unescape(n))),s)):s},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return e}return null}},t.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),t.g=t.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),t.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),t.O=t.ka.slice(0),t.Ea="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" "),a=0;250>=a;a++)76>a&&(t.g.push("prop"+a),t.O.push("prop"+a)),t.g.push("eVar"+a),t.O.push("eVar"+a),6>a&&t.g.push("hier"+a),4>a&&t.g.push("list"+a);a="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" "),t.g=t.g.concat(a),t.F=t.F.concat(a),t.ssl=0<=i.location.protocol.toLowerCase().indexOf("https"),t.charSet="UTF-8",t.contextData={},t.offlineThrottleDelay=0,t.offlineFilename="AppMeasurement.offline",t.P="s_sq",t.Sa=0,t.ia=0,t.N=0,t.Ra=0,t.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",t.w=i,t.d=i.document;try{if(t.Xa=!1,navigator){var l=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=l.indexOf("MSIE ")||0<=l.indexOf("Trident/")&&0<=l.indexOf("Windows NT 6"))&&(t.Xa=!0)}}catch(e){}t.ca=function(){t.da&&(i.clearTimeout(t.da),t.da=n),t.bodyClickTarget&&t.J&&t.bodyClickTarget.dispatchEvent(t.J),t.bodyClickFunction&&("function"==typeof t.bodyClickFunction?t.bodyClickFunction():t.bodyClickTarget&&t.bodyClickTarget.href&&(t.d.location=t.bodyClickTarget.href)),t.bodyClickTarget=t.J=t.bodyClickFunction=0},t.Va=function(){t.b=t.d.body,t.b?(t.r=function(e){var n,a,r,o,s;if(!(t.d&&t.d.getElementById("cppXYctnr")||e&&e["s_fe_"+t._in])){if(t.Ga){if(!t.useForcedLinkTracking)return t.b.removeEventListener("click",t.r,!0),void(t.Ga=t.useForcedLinkTracking=0);t.b.removeEventListener("click",t.r,!1)}else t.useForcedLinkTracking=0;t.clickObject=e.srcElement?e.srcElement:e.target;try{if(!t.clickObject||t.M&&t.M==t.clickObject||!(t.clickObject.tagName||t.clickObject.parentElement||t.clickObject.parentNode))t.clickObject=0;else{var l=t.M=t.clickObject;if(t.ha&&(clearTimeout(t.ha),t.ha=0),t.ha=setTimeout((function(){t.M==l&&(t.M=0)}),1e4),r=t.Ma(),t.track(),r<t.Ma()&&t.useForcedLinkTracking&&e.target){for(o=e.target;o&&o!=t.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(s=o.href,t.Oa(s)||(s=0),a=o.target,e.target.dispatchEvent&&s&&(!a||"_self"==a||"_top"==a||"_parent"==a||i.name&&a==i.name))){try{n=t.d.createEvent("MouseEvents")}catch(e){n=new i.MouseEvent}if(n){try{n.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){n=0}n&&(n["s_fe_"+t._in]=n.s_fe=1,e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),t.bodyClickTarget=e.target,t.J=n)}}}}}catch(e){t.clickObject=0}}},t.b&&t.b.attachEvent?t.b.attachEvent("onclick",t.r):t.b&&t.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&t.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&i.MouseEvent)&&(t.Ga=1,t.useForcedLinkTracking=1,t.b.addEventListener("click",t.r,!0)),t.b.addEventListener("click",t.r,!1))):setTimeout(t.Va,30)},t.Hb(),t.ic||(e?t.setAccount(e):t.C("Error, missing Report Suite ID in AppMeasurement initialization"),t.Va(),t.loadModule("ActivityMap"))}function E(e){var t,i,n,a,r,o=window.s_c_il,s=e.split(","),l=0;if(o)for(i=0;!l&&i<o.length;){if("s_c"==(t=o[i])._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(n=t.account?t.account:t.oun,n=t.allAccounts?t.allAccounts:n.split(","),a=0;a<s.length;a++)for(r=0;r<n.length;r++)s[a]==n[r]&&(l=1);i++}return l?t.setAccount&&t.setAccount(e):t=new b(e),t}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}b.getInstance=E,window.s_objectID||(window.s_objectID=0),function(){var e,t,i,n=window,a=n.s_giq;if(a)for(e=0;e<a.length;e++)(i=E((t=a[e]).oun)).setAccount(t.un),i.setTagContainer(t.tagContainerName);n.s_giq=0}(),window.AppMeasurement=b;var k="function"==typeof Symbol&&Symbol.observable||"@@observable",C=function(){return Math.random().toString(36).substring(7).split("").join(".")},P={INIT:"@@redux/INIT"+C(),REPLACE:"@@redux/REPLACE"+C(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+C()}};function D(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function M(e,t,i){var n;if("function"==typeof t&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(I(0));if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error(I(1));return i(M)(e,t)}if("function"!=typeof e)throw new Error(I(2));var a=e,r=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function d(){if(l)throw new Error(I(3));return r}function u(e){if("function"!=typeof e)throw new Error(I(4));if(l)throw new Error(I(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(I(6));t=!1,c();var i=s.indexOf(e);s.splice(i,1),o=null}}}function h(e){if(!D(e))throw new Error(I(7));if(void 0===e.type)throw new Error(I(8));if(l)throw new Error(I(9));try{l=!0,r=a(r,e)}finally{l=!1}for(var t=o=s,i=0;i<t.length;i++){(0,t[i])()}return e}function p(e){if("function"!=typeof e)throw new Error(I(10));a=e,h({type:P.REPLACE})}function f(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(I(11));function i(){e.next&&e.next(d())}return i(),{unsubscribe:t(i)}}})[k]=function(){return this},e}return h({type:P.INIT}),(n={dispatch:h,subscribe:u,getState:d,replaceReducer:p})[k]=f,n}function O(e,t){return function(){return t(e.apply(this,arguments))}}function N(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var L,R,x,V,F,B,U,H={},j=[],K=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Y(e,t){for(var i in t)e[i]=t[i];return e}function q(e){var t=e.parentNode;t&&t.removeChild(e)}function W(e,t,i){var n,a,r,o={};for(r in t)"key"==r?n=t[r]:"ref"==r?a=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?L.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return G(e,o,n,a,null)}function G(e,t,i,n,a){var r={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++x:a};return null==a&&null!=R.vnode&&R.vnode(r),r}function z(){return{current:null}}function Q(e){return e.children}function X(e,t){this.props=e,this.context=t}function J(e,t){if(null==t)return e.__?J(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?J(e):null}function Z(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return Z(e)}}function $(e){(!e.__d&&(e.__d=!0)&&V.push(e)&&!ee.__r++||B!==R.debounceRendering)&&((B=R.debounceRendering)||F)(ee)}function ee(){for(var e;ee.__r=V.length;)e=V.sort((function(e,t){return e.__v.__b-t.__v.__b})),V=[],e.some((function(e){var t,i,n,a,r,o;e.__d&&(r=(a=(t=e).__v).__e,(o=t.__P)&&(i=[],(n=Y({},a)).__v=a.__v+1,ce(o,a,n,t.__n,void 0!==o.ownerSVGElement,null!=a.__h?[r]:null,i,null==r?J(a):r,a.__h),de(i,a),a.__e!=r&&Z(a)))}))}function te(e,t,i,n,a,r,o,s,l,c){var d,u,h,p,f,_,g,v=n&&n.__k||j,m=v.length;for(i.__k=[],d=0;d<t.length;d++)if(null!=(p=i.__k[d]=null==(p=t[d])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?G(null,p,null,null,p):Array.isArray(p)?G(Q,{children:p},null,null,null):p.__b>0?G(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(h=v[d])||h&&p.key==h.key&&p.type===h.type)v[d]=void 0;else for(u=0;u<m;u++){if((h=v[u])&&p.key==h.key&&p.type===h.type){v[u]=void 0;break}h=null}ce(e,p,h=h||H,a,r,o,s,l,c),f=p.__e,(u=p.ref)&&h.ref!=u&&(g||(g=[]),h.ref&&g.push(h.ref,null,p),g.push(u,p.__c||f,p)),null!=f?(null==_&&(_=f),"function"==typeof p.type&&p.__k===h.__k?p.__d=l=ie(p,l,e):l=ae(e,p,h,v,f,l),"function"==typeof i.type&&(i.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=J(h))}for(i.__e=_,d=m;d--;)null!=v[d]&&("function"==typeof i.type&&null!=v[d].__e&&v[d].__e==i.__d&&(i.__d=J(n,d+1)),pe(v[d],v[d]));if(g)for(d=0;d<g.length;d++)he(g[d],g[++d],g[++d])}function ie(e,t,i){for(var n,a=e.__k,r=0;a&&r<a.length;r++)(n=a[r])&&(n.__=e,t="function"==typeof n.type?ie(n,t,i):ae(i,n,n,a,n.__e,t));return t}function ne(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){ne(e,t)})):t.push(e)),t}function ae(e,t,i,n,a,r){var o,s,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==i||a!=r||null==a.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(a),o=null;else{for(s=r,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==a)break e;e.insertBefore(a,r),o=r}return void 0!==o?o:a.nextSibling}function re(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||K.test(t)?i:i+"px"}function oe(e,t,i,n,a){var r;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||re(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||re(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=i,i?n||e.addEventListener(t,r?le:se,r):e.removeEventListener(t,r?le:se,r);else if("dangerouslySetInnerHTML"!==t){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function se(e){this.l[e.type+!1](R.event?R.event(e):e)}function le(e){this.l[e.type+!0](R.event?R.event(e):e)}function ce(e,t,i,n,a,r,o,s,l){var c,d,u,h,p,f,_,g,v,m,y,b=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,s=t.__e=i.__e,t.__h=null,r=[s]),(c=R.__b)&&c(t);try{e:if("function"==typeof b){if(g=t.props,v=(c=b.contextType)&&n[c.__c],m=c?v?v.props.value:c.__:n,i.__c?_=(d=t.__c=i.__c).__=d.__E:("prototype"in b&&b.prototype.render?t.__c=d=new b(g,m):(t.__c=d=new X(g,m),d.constructor=b,d.render=fe),v&&v.sub(d),d.props=g,d.state||(d.state={}),d.context=m,d.__n=n,u=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=b.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Y({},d.__s)),Y(d.__s,b.getDerivedStateFromProps(g,d.__s))),h=d.props,p=d.state,u)null==b.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==b.getDerivedStateFromProps&&g!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,m),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,m)||t.__v===i.__v){d.props=g,d.state=d.__s,t.__v!==i.__v&&(d.__d=!1),d.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,m),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,p,f)}))}d.context=m,d.props=g,d.state=d.__s,(c=R.__r)&&c(t),d.__d=!1,d.__v=t,d.__P=e,c=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(n=Y(Y({},n),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(f=d.getSnapshotBeforeUpdate(h,p)),y=null!=c&&c.type===Q&&null==c.key?c.props.children:c,te(e,Array.isArray(y)?y:[y],t,i,n,a,r,o,s,l),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),_&&(d.__E=d.__=null),d.__e=!1}else null==r&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=ue(i.__e,t,i,n,a,r,o,l);(c=R.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=r)&&(t.__e=s,t.__h=!!l,r[r.indexOf(s)]=null),R.__e(e,t,i)}}function de(e,t){R.__c&&R.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){R.__e(e,t.__v)}}))}function ue(e,t,i,n,a,r,o,s){var l,c,d,u=i.props,h=t.props,p=t.type,f=0;if("svg"===p&&(a=!0),null!=r)for(;f<r.length;f++)if((l=r[f])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,r[f]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=a?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),r=null,s=!1}if(null===p)u===h||s&&e.data===h||(e.data=h);else{if(r=r&&L.call(e.childNodes),c=(u=i.props||H).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!s){if(null!=r)for(u={},f=0;f<e.attributes.length;f++)u[e.attributes[f].name]=e.attributes[f].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,i,n,a){var r;for(r in i)"children"===r||"key"===r||r in t||oe(e,r,null,i[r],n);for(r in t)a&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||i[r]===t[r]||oe(e,r,t[r],i[r],n)}(e,h,u,a,s),d)t.__k=[];else if(f=t.props.children,te(e,Array.isArray(f)?f:[f],t,i,n,a&&"foreignObject"!==p,r,o,r?r[0]:i.__k&&J(i,0),s),null!=r)for(f=r.length;f--;)null!=r[f]&&q(r[f]);s||("value"in h&&void 0!==(f=h.value)&&(f!==e.value||"progress"===p&&!f||"option"===p&&f!==u.value)&&oe(e,"value",f,u.value,!1),"checked"in h&&void 0!==(f=h.checked)&&f!==e.checked&&oe(e,"checked",f,u.checked,!1))}return e}function he(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){R.__e(e,i)}}function pe(e,t,i){var n,a;if(R.unmount&&R.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||he(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){R.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&pe(n[a],t,"function"!=typeof e.type);i||null==e.__e||q(e.__e),e.__e=e.__d=void 0}function fe(e,t,i){return this.constructor(e,i)}function _e(e,t,i){var n,a,r;R.__&&R.__(e,t),a=(n="function"==typeof i)?null:i&&i.__k||t.__k,r=[],ce(t,e=(!n&&i||t).__k=W(Q,null,[e]),a||H,H,void 0!==t.ownerSVGElement,!n&&i?[i]:a?null:t.firstChild?L.call(t.childNodes):null,r,!n&&i?i:a?a.__e:t.firstChild,n),de(r,e)}function ge(e,t){_e(e,t,ge)}function ve(e,t,i){var n,a,r,o=Y({},e.props);for(r in t)"key"==r?n=t[r]:"ref"==r?a=t[r]:o[r]=t[r];return arguments.length>2&&(o.children=arguments.length>3?L.call(arguments,2):i),G(e.type,o,n||e.key,a||e.ref,null)}function me(e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),i=Math.floor(e-60*t)<10?"0"+Math.floor(e-60*t):Math.floor(e-60*t);return isNaN(i)?"00:00":t+":"+i}function ye(e){void 0!==performance.mark&&performance.mark(e)}function be(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function Ee(e){let t;return t="0"===e.slice(0,1)?e.slice(1,e.length):e,t}function Se(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(t))return a.substring(t.length,a.length)}return""}function Ae(e,t,i,n){var a="";t.useHttps&&(a="&https=1");var r="";r=null!==i.column?"&type=column&query="+encodeURIComponent(i.column):"&type="+t.suggestionsType+"&query=news";try{t.suggestionsDoctype?r="&doctype="+t.suggestionsDoctype:""!==t.suggestionsQuery?r="&type="+t.suggestionsType+"&query="+t.suggestionsQuery.replace("&","%26"):i.column||(i["wsj-subsection"]?r="&type=wsj-subsection&query="+i["wsj-subsection"].replace("&","%26").replace(" ","%20"):i["wsj-section"]&&(r="&type=wsj-section&query="+i["wsj-section"].replace("&","%26"))),""!=t.suggestionsGroupId?r+="&groupid="+t.suggestionsGroupId:i.doctypeID?r+="&groupid=".concat(i.doctypeID):-1!==document.location.href.indexOf("www.wsj.com")&&(r+="&groupid=4276")}catch(e){}return function(e){return fetch(e).then((e=>{if(!e.ok)throw new Error("".concat(e.status," ").concat(e.statusText));return e.json()})).then((e=>{if(!e.items||0===e.items.length)return null;const t=e.items[0];if(t.error)throw new Error(t.error);return e.items}))}(e+"legacy/find-all-videos?count=15"+a+r+"&fields="+n)}function we(e){return-1!==(e="string"==typeof e?e:e.host).indexOf("cwsj.com")||-1!==e.indexOf("cn.wsj.com")?"WSJ China":-1!==e.indexOf("jwsj.com")?"WSJ Japan":-1!==e.indexOf("kr.wsj.com")?"WSJ Korea":-1!==e.indexOf("indo.wsj.com")?"WSJ Indonesia":-1!==e.indexOf("wsj.com")?"WSJ":-1!==e.indexOf("marketwatch.com")?"MarketWatch":-1!==e.indexOf("barrons.com")?"Barrons Online":-1!==e.indexOf("wsj.de")?"WSJ Germany":-1!==e.indexOf("allthingsd.com")?"AllThingsD":-1!==e.indexOf("smartmoney.com")?"SmartMoney":-1!==e.indexOf("fxtrader")?"DJFXTrader":-1!==e.indexOf("fins.com")?"FINS":-1!==e.indexOf("mansionglobal.com")?"Mansion Global":-1!==e.indexOf("moneyish.com")?"Moneyish":"WSJ"}function Te(){try{var e,t;let i=null===(e=window)||void 0===e||null===(t=e.utag_data)||void 0===t?void 0:t.user_type;if(!i){const e=document.querySelector('meta[name="user.type"]');null!==e&&(i=e.getAttribute("content"))}return void 0!==i&&"nonsubscriber"!==i}catch(e){return!1}}function Ie(){try{const e=window.location.hostname,t="https://www.";return-1!==e.indexOf("wsj.com")?"".concat(t,"wsj.com/user/personalization/svc/saved-content"):-1!==e.indexOf("marketwatch.com")?"https://www.marketwatch.com/user/personalization/svc/saved-content":-1!==e.indexOf("barrons.com")?"".concat(t,"barrons.com/user/personalization/svc/saved-content"):null}catch(e){return null}}function ke(e){return new URL(window.location).searchParams.get(e)}function Ce(){return ke("wsjVideoApi")}function Pe(){return(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream}function De(e){return e>=1260?"16U":e>=860?"12U":e>=620?"8U":e>350?"4U":"tiny"}L=j.slice,R={__e:function(e,t,i,n){for(var a,r,o;t=t.__;)if((a=t.__c)&&!a.__)try{if((r=a.constructor)&&null!=r.getDerivedStateFromError&&(a.setState(r.getDerivedStateFromError(e)),o=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,n||{}),o=a.__d),o)return a.__E=a}catch(t){e=t}throw e}},x=0,X.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Y({},this.state),"function"==typeof e&&(e=e(Y({},i),this.props)),e&&Y(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),$(this))},X.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$(this))},X.prototype.render=Q,V=[],F="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ee.__r=0,U=0;var Me,Oe,Ne,Le=0,Re=[],xe=R.__b,Ve=R.__r,Fe=R.diffed,Be=R.__c,Ue=R.unmount;function He(e,t){R.__h&&R.__h(Oe,e,Le||t),Le=0;var i=Oe.__H||(Oe.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function je(e){return Le=1,Ke(it,e)}function Ke(e,t,i){var n=He(Me++,2);return n.t=e,n.__c||(n.__=[i?i(t):it(void 0,t),function(e){var t=n.t(n.__[0],e);n.__[0]!==t&&(n.__=[t,n.__[1]],n.__c.setState({}))}],n.__c=Oe),n.__}function Ye(e,t){var i=He(Me++,3);!R.__s&&tt(i.__H,t)&&(i.__=e,i.__H=t,Oe.__H.__h.push(i))}function qe(e,t){var i=He(Me++,4);!R.__s&&tt(i.__H,t)&&(i.__=e,i.__H=t,Oe.__h.push(i))}function We(e){return Le=5,Ge((function(){return{current:e}}),[])}function Ge(e,t){var i=He(Me++,7);return tt(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function ze(e,t){return Le=8,Ge((function(){return e}),t)}function Qe(e){var t=Oe.context[e.__c],i=He(Me++,9);return i.c=e,t?(null==i.__&&(i.__=!0,t.sub(Oe)),t.props.value):e.__}function Xe(e,t){R.useDebugValue&&R.useDebugValue(t?t(e):e)}function Je(){for(var e;e=Re.shift();)if(e.__P)try{e.__H.__h.forEach($e),e.__H.__h.forEach(et),e.__H.__h=[]}catch(t){e.__H.__h=[],R.__e(t,e.__v)}}R.__b=function(e){Oe=null,xe&&xe(e)},R.__r=function(e){Ve&&Ve(e),Me=0;var t=(Oe=e.__c).__H;t&&(t.__h.forEach($e),t.__h.forEach(et),t.__h=[])},R.diffed=function(e){Fe&&Fe(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Re.push(t)&&Ne===R.requestAnimationFrame||((Ne=R.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(n),Ze&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);Ze&&(t=requestAnimationFrame(i))})(Je)),Oe=null},R.__c=function(e,t){t.some((function(e){try{e.__h.forEach($e),e.__h=e.__h.filter((function(e){return!e.__||et(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],R.__e(i,e.__v)}})),Be&&Be(e,t)},R.unmount=function(e){Ue&&Ue(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach((function(e){try{$e(e)}catch(e){t=e}})),t&&R.__e(t,i.__v))};var Ze="function"==typeof requestAnimationFrame;function $e(e){var t=Oe,i=e.__c;"function"==typeof i&&(e.__c=void 0,i()),Oe=t}function et(e){var t=Oe;e.__c=e.__(),Oe=t}function tt(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function it(e,t){return"function"==typeof t?t(e):t}function nt(e,t){for(var i in t)e[i]=t[i];return e}function at(e,t){for(var i in e)if("__source"!==i&&!(i in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function rt(e){this.props=e}(rt.prototype=new X).isPureReactComponent=!0,rt.prototype.shouldComponentUpdate=function(e,t){return at(this.props,e)||at(this.state,t)};var ot=R.__b;R.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ot&&ot(e)};var st="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var lt=function(e,t){return null==e?null:ne(ne(e).map(t))},ct={map:lt,forEach:lt,count:function(e){return e?ne(e).length:0},only:function(e){var t=ne(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:ne},dt=R.__e;R.__e=function(e,t,i,n){if(e.then)for(var a,r=t;r=r.__;)if((a=r.__c)&&a.__c)return null==t.__e&&(t.__e=i.__e,t.__k=i.__k),a.__c(e,t);dt(e,t,i,n)};var ut=R.unmount;function ht(){this.__u=0,this.t=null,this.__b=null}function pt(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function ft(){this.u=null,this.o=null}R.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),ut&&ut(e)},(ht.prototype=new X).__c=function(e,t){var i=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(i);var a=pt(n.__v),r=!1,o=function(){r||(r=!0,i.__R=null,a?a(s):s())};i.__R=o;var s=function(){if(!--n.__u){if(n.state.__e){var e=n.state.__e;n.__v.__k[0]=function e(t,i,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,i,n)})),t.__c&&t.__c.__P===i&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__e:n.__b=null});t=n.t.pop();)t.forceUpdate()}},l=!0===t.__h;n.__u++||l||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(o,o)},ht.prototype.componentWillUnmount=function(){this.t=[]},ht.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,i,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=nt({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=i),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,i,n)}))),t}(this.__b,i,n.__O=n.__P)}this.__b=null}var a=t.__e&&W(Q,null,e.fallback);return a&&(a.__h=null),[W(Q,null,t.__e?null:e.children),a]};var _t=function(e,t,i){if(++i[1]===i[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(i=e.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.u=i=i[2]}};function gt(e){return this.getChildContext=function(){return e.context},e.children}function vt(e){var t=this,i=e.i;t.componentWillUnmount=function(){_e(null,t.l),t.l=null,t.i=null},t.i&&t.i!==i&&t.componentWillUnmount(),e.__v?(t.l||(t.i=i,t.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,i){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),_e(W(gt,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(ft.prototype=new X).__e=function(e){var t=this,i=pt(t.__v),n=t.o.get(e);return n[0]++,function(a){var r=function(){t.props.revealOrder?(n.push(a),_t(t,e,n)):a()};i?i(r):r()}},ft.prototype.render=function(e){this.u=null,this.o=new Map;var t=ne(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var i=t.length;i--;)this.o.set(t[i],this.u=[1,0,this.u]);return e.children},ft.prototype.componentDidUpdate=ft.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,i){_t(e,i,t)}))};var mt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,yt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,bt="undefined"!=typeof document,Et=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};X.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(X.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var St=R.event;function At(){}function wt(){return this.cancelBubble}function Tt(){return this.defaultPrevented}R.event=function(e){return St&&(e=St(e)),e.persist=At,e.isPropagationStopped=wt,e.isDefaultPrevented=Tt,e.nativeEvent=e};var It,kt={configurable:!0,get:function(){return this.class}},Ct=R.vnode;R.vnode=function(e){var t=e.type,i=e.props,n=i;if("string"==typeof t){var a=-1===t.indexOf("-");for(var r in n={},i){var o=i[r];bt&&"children"===r&&"noscript"===t||"value"===r&&"defaultValue"in i&&null==o||("defaultValue"===r&&"value"in i&&null==i.value?r="value":"download"===r&&!0===o?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!Et(i.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():a&&yt.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),n[r]=o)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=ne(i.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=ne(i.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n,i.class!=i.className&&(kt.enumerable="className"in i,null!=i.className&&(n.class=i.className),Object.defineProperty(n,"className",kt))}e.$$typeof=mt,Ct&&Ct(e)};var Pt=R.__r;R.__r=function(e){Pt&&Pt(e),It=e.__c};var Dt={ReactCurrentDispatcher:{current:{readContext:function(e){return It.__n[e.__c].props.value}}}};function Mt(e){return!!e&&e.$$typeof===mt}var Ot=function(e,t){return e(t)};const Nt={useState:je,useReducer:Ke,useEffect:Ye,useLayoutEffect:qe,useRef:We,useImperativeHandle:function(e,t,i){Le=6,qe((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==i?i:i.concat(e))},useMemo:Ge,useCallback:ze,useContext:Qe,useDebugValue:Xe,version:"17.0.2",Children:ct,render:function(e,t,i){return null==t.__k&&(t.textContent=""),_e(e,t),"function"==typeof i&&i(),e?e.__c:null},hydrate:function(e,t,i){return ge(e,t),"function"==typeof i&&i(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(_e(null,e),!0)},createPortal:function(e,t){return W(vt,{__v:e,i:t})},createElement:W,createContext:function(e,t){var i={__c:t="__cC"+U++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,n;return this.getChildContext||(i=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some($)},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Provider.__=i.Consumer.contextType=i},createFactory:function(e){return W.bind(null,e)},cloneElement:function(e){return Mt(e)?ve.apply(null,arguments):e},createRef:z,Fragment:Q,isValidElement:Mt,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:X,PureComponent:rt,memo:function(e,t){function i(e){var i=this.props.ref,n=i==e.ref;return!n&&i&&(i.call?i(null):i.current=null),t?!t(this.props,e)||!n:at(this.props,e)}function n(t){return this.shouldComponentUpdate=i,W(e,t)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n},forwardRef:function(e){function t(t){var i=nt({},t);return delete i.ref,e(i,t.ref||null)}return t.$$typeof=st,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:Ot,StrictMode:Q,Suspense:ht,SuspenseList:ft,lazy:function(e){var t,i,n;function a(a){if(t||(t=e()).then((function(e){i=e.default||e}),(function(e){n=e})),n)throw n;if(!i)throw t;return W(i,a)}return a.displayName="Lazy",a.__f=!0,a},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Dt};var Lt=Nt.createContext(null);var Rt=function(e){e()},xt=function(){return Rt};var Vt={notify:function(){},get:function(){return[]}};function Ft(e,t){var i,n=Vt;function a(){o.onStateChange&&o.onStateChange()}function r(){i||(i=t?t.addNestedSub(a):e.subscribe(a),n=function(){var e=xt(),t=null,i=null;return{clear:function(){t=null,i=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],i=t;i;)e.push(i),i=i.next;return e},subscribe:function(e){var n=!0,a=i={callback:e,next:null,prev:i};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:i=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var o={addNestedSub:function(e){return r(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(i)},trySubscribe:r,tryUnsubscribe:function(){i&&(i(),i=void 0,n.clear(),n=Vt)},getListeners:function(){return n}};return o}var Bt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?qe:Ye;const Ut=function(e){var t=e.store,i=e.context,n=e.children,a=Ge((function(){var e=Ft(t);return{store:t,subscription:e}}),[t]),r=Ge((function(){return t.getState()}),[t]);Bt((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),r!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,r]);var o=i||Lt;return Nt.createElement(o.Provider,{value:a},n)};function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ht.apply(this,arguments)}function jt(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}var Kt=r(8679),Yt=r.n(Kt),qt=r(72973),Wt=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Gt=["reactReduxForwardedRef"],zt=[],Qt=[null,null];function Xt(e,t){var i=e[1];return[t.payload,i+1]}function Jt(e,t,i){Bt((function(){return e.apply(void 0,t)}),i)}function Zt(e,t,i,n,a,r,o){e.current=n,t.current=a,i.current=!1,r.current&&(r.current=null,o())}function $t(e,t,i,n,a,r,o,s,l,c){if(e){var d=!1,u=null,h=function(){if(!d){var e,i,h=t.getState();try{e=n(h,a.current)}catch(e){i=e,u=e}i||(u=null),e===r.current?o.current||l():(r.current=e,s.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:i}}))}};i.onStateChange=h,i.trySubscribe(),h();return function(){if(d=!0,i.tryUnsubscribe(),i.onStateChange=null,u)throw u}}}var ei=function(){return[null,0]};function ti(e,t){void 0===t&&(t={});var i=t,n=i.getDisplayName,a=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,r=i.methodName,o=void 0===r?"connectAdvanced":r,s=i.renderCountProp,l=void 0===s?void 0:s,c=i.shouldHandleStateChanges,d=void 0===c||c,u=i.storeKey,h=void 0===u?"store":u,p=(i.withRef,i.forwardRef),f=void 0!==p&&p,_=i.context,g=void 0===_?Lt:_,v=jt(i,Wt),m=g;return function(t){var i=t.displayName||t.name||"Component",n=a(i),r=Ht({},v,{getDisplayName:a,methodName:o,renderCountProp:l,shouldHandleStateChanges:d,storeKey:h,displayName:n,wrappedComponentName:i,WrappedComponent:t}),s=v.pure;var c=s?Ge:function(e){return e()};function u(i){var n=Ge((function(){var e=i.reactReduxForwardedRef,t=jt(i,Gt);return[i.context,e,t]}),[i]),a=n[0],o=n[1],s=n[2],l=Ge((function(){return a&&a.Consumer&&(0,qt.isContextConsumer)(Nt.createElement(a.Consumer,null))?a:m}),[a,m]),u=Qe(l),h=Boolean(i.store)&&Boolean(i.store.getState)&&Boolean(i.store.dispatch);Boolean(u)&&Boolean(u.store);var p=h?i.store:u.store,f=Ge((function(){return function(t){return e(t.dispatch,r)}(p)}),[p]),_=Ge((function(){if(!d)return Qt;var e=Ft(p,h?null:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,h,u]),g=_[0],v=_[1],y=Ge((function(){return h?u:Ht({},u,{subscription:g})}),[h,u,g]),b=Ke(Xt,zt,ei),E=b[0][0],S=b[1];if(E&&E.error)throw E.error;var A=We(),w=We(s),T=We(),I=We(!1),k=c((function(){return T.current&&s===w.current?T.current:f(p.getState(),s)}),[p,E,s]);Jt(Zt,[w,A,I,s,k,T,v]),Jt($t,[d,p,g,f,w,A,I,T,v,S],[p,g,f]);var C=Ge((function(){return Nt.createElement(t,Ht({},k,{ref:o}))}),[o,t,k]);return Ge((function(){return d?Nt.createElement(l.Provider,{value:y},C):C}),[l,C,y])}var p=s?Nt.memo(u):u;if(p.WrappedComponent=t,p.displayName=u.displayName=n,f){var _=Nt.forwardRef((function(e,t){return Nt.createElement(p,Ht({},e,{reactReduxForwardedRef:t}))}));return _.displayName=n,_.WrappedComponent=t,Yt()(_,t)}return Yt()(p,t)}}function ii(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function ni(e,t){if(ii(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var a=0;a<i.length;a++)if(!Object.prototype.hasOwnProperty.call(t,i[a])||!ii(e[i[a]],t[i[a]]))return!1;return!0}function ai(e){return function(t,i){var n=e(t,i);function a(){return n}return a.dependsOnOwnProps=!1,a}}function ri(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function oi(e,t){return function(t,i){i.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,i){n.mapToProps=e,n.dependsOnOwnProps=ri(e);var a=n(t,i);return"function"==typeof a&&(n.mapToProps=a,n.dependsOnOwnProps=ri(a),a=n(t,i)),a},n}}const si=[function(e){return"function"==typeof e?oi(e):void 0},function(e){return e?void 0:ai((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?ai((function(t){return function(e,t){var i={},n=function(n){var a=e[n];"function"==typeof a&&(i[n]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)n(a);return i}(e,t)})):void 0}];const li=[function(e){return"function"==typeof e?oi(e):void 0},function(e){return e?void 0:ai((function(){return{}}))}];function ci(e,t,i){return Ht({},i,e,t)}const di=[function(e){return"function"==typeof e?function(e){return function(t,i){i.displayName;var n,a=i.pure,r=i.areMergedPropsEqual,o=!1;return function(t,i,s){var l=e(t,i,s);return o?a&&r(l,n)||(n=l):(o=!0,n=l),n}}}(e):void 0},function(e){return e?void 0:function(){return ci}}];var ui=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function hi(e,t,i,n){return function(a,r){return i(e(a,r),t(n,r),r)}}function pi(e,t,i,n,a){var r,o,s,l,c,d=a.areStatesEqual,u=a.areOwnPropsEqual,h=a.areStatePropsEqual,p=!1;function f(a,p){var f,_,g=!u(p,o),v=!d(a,r);return r=a,o=p,g&&v?(s=e(r,o),t.dependsOnOwnProps&&(l=t(n,o)),c=i(s,l,o)):g?(e.dependsOnOwnProps&&(s=e(r,o)),t.dependsOnOwnProps&&(l=t(n,o)),c=i(s,l,o)):v?(f=e(r,o),_=!h(f,s),s=f,_&&(c=i(s,l,o)),c):c}return function(a,d){return p?f(a,d):(s=e(r=a,o=d),l=t(n,o),c=i(s,l,o),p=!0,c)}}function fi(e,t){var i=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,r=jt(t,ui),o=i(e,r),s=n(e,r),l=a(e,r);return(r.pure?pi:hi)(o,s,l,e,r)}var _i=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gi(e,t,i){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+i+" argument when connecting component "+n.wrappedComponentName+".")}}function vi(e,t){return e===t}function mi(e){var t=void 0===e?{}:e,i=t.connectHOC,n=void 0===i?ti:i,a=t.mapStateToPropsFactories,r=void 0===a?li:a,o=t.mapDispatchToPropsFactories,s=void 0===o?si:o,l=t.mergePropsFactories,c=void 0===l?di:l,d=t.selectorFactory,u=void 0===d?fi:d;return function(e,t,i,a){void 0===a&&(a={});var o=a,l=o.pure,d=void 0===l||l,h=o.areStatesEqual,p=void 0===h?vi:h,f=o.areOwnPropsEqual,_=void 0===f?ni:f,g=o.areStatePropsEqual,v=void 0===g?ni:g,m=o.areMergedPropsEqual,y=void 0===m?ni:m,b=jt(o,_i),E=gi(e,r,"mapStateToProps"),S=gi(t,s,"mapDispatchToProps"),A=gi(i,c,"mergeProps");return n(u,Ht({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:A,pure:d,areStatesEqual:p,areOwnPropsEqual:_,areStatePropsEqual:v,areMergedPropsEqual:y},b))}}const yi=mi();function bi(){return Qe(Lt)}function Ei(e){void 0===e&&(e=Lt);var t=e===Lt?bi:function(){return Qe(e)};return function(){return t().store}}var Si=Ei();function Ai(e){void 0===e&&(e=Lt);var t=e===Lt?Si:Ei(e);return function(){return t().dispatch}}var wi=Ai(),Ti=function(e,t){return e===t};function Ii(e){void 0===e&&(e=Lt);var t=e===Lt?bi:function(){return Qe(e)};return function(e,i){void 0===i&&(i=Ti);var n=t(),a=function(e,t,i,n){var a,r=Ke((function(e){return e+1}),0)[1],o=Ge((function(){return Ft(i,n)}),[i,n]),s=We(),l=We(),c=We(),d=We(),u=i.getState();try{if(e!==l.current||u!==c.current||s.current){var h=e(u);a=void 0!==d.current&&t(h,d.current)?d.current:h}else a=d.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return Bt((function(){l.current=e,c.current=u,d.current=a,s.current=void 0})),Bt((function(){function e(){try{var e=i.getState();if(e===c.current)return;var n=l.current(e);if(t(n,d.current))return;d.current=n,c.current=e}catch(e){s.current=e}r()}return o.onStateChange=e,o.trySubscribe(),e(),function(){return o.tryUnsubscribe()}}),[i,o]),a}(e,i,n.store,n.subscription);return Xe(a),a}}var ki=Ii();Rt=Ot;var Ci=r(94184),Pi=r.n(Ci);const Di="NONE",Mi="STARTED",Oi="FINISHED",Ni="FAILED";var Li=r(16595),Ri=r.n(Li),xi=r(60368),Vi=r.n(xi),Fi=0;function Bi(e,t,i,n,a){var r,o,s={};for(o in t)"ref"==o?r=t[o]:s[o]=t[o];var l={type:e,props:s,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Fi,__source:a,__self:n};if("function"==typeof e&&(r=e.defaultProps))for(o in r)void 0===s[o]&&(s[o]=r[o]);return R.vnode&&R.vnode(l),l}const Ui=yi((function(e){return{isPlaying:e.isPlaying,isAdPlaying:e.isAdPlaying,isAdMode:e.isAdMode,isPlaybackInitializing:e.isPlaybackInitializing,focusElement:e.focusElement,isBtnDisabled:e.isPlaybackInitializing||e.adInitState===Mi||e.videoApiLoadState===Mi||e.imaLoadState===Mi||e.hlsJsLoadState===Mi}}))(class extends X{constructor(e){super(e),this._pickIcon=this._pickIcon.bind(this),this._playButton={current:null}}componentDidUpdate(e,t){"play-button"==this.props.focusElement&&this.props.focusElement!==e.focusElement&&this._playButton&&this._playButton.current.focus()}_pickIcon(){const{isPlaying:e,isAdPlaying:t,isAdMode:i,isPlaybackInitializing:n}=this.props;return n?Ri():i?t?Vi():Ri():e?Vi():Ri()}shouldComponentUpdate(e){return this.props.isPlaying!==e.isPlaying||this.props.isAdPlaying!==e.isAdPlaying||this.props.isAdMode!==e.isAdMode||this.props.isPlaybackInitializing!==e.isPlaybackInitializing||this.props.focusElement!==e.focusElement||this.props.isBtnDisabled!==e.isBtnDisabled}onClickEvent(e){this.props.isBtnDisabled||this.props.onPlayPause(e)}render(){const{onPlayPause:e,isBtnDisabled:t,focusElement:i,isPlaying:n}=this.props;return Bi(Q,{children:[Bi("button",{ref:this._playButton,type:"button","aria-label":n?"Pause":"Play",onClick:e=>{this.onClickEvent(e)},className:Pi()("f-l",{"disabled-btn":t}),dangerouslySetInnerHTML:{__html:this._pickIcon()}}),Bi("div",{class:"playback-status visually-hidden","aria-live":"polite",children:n?"Playing":"Paused"})]})}}),Hi=Ui;var ji=r(89631),Ki=r.n(ji),Yi=r(28589),qi=r.n(Yi);const Wi=yi((function(e){return{isMuted:e.isMuted,volume:e.volume}}))((e=>{const{videoId:t,isMuted:i,volume:n,onMuteUnMute:a,onSetVolume:r,onVolumeControlVisible:o}=e,s=i?qi():Ki(),[l,c]=je(0),d=We(null),u=e=>{o("focus"===e.type)},h=e=>{e.currentTarget.blur()};return Ye((()=>{var e=d.current.offsetWidth;0==e&&(e=80),c(Math.round(e*n))}),[n]),Bi("div",{className:"video-volume f-l",id:"video-volume-".concat(t),children:[Bi("button",{className:"video-volume-g-videoplayer","aria-label":"Mute","aria-pressed":i,type:"button",id:"video-volume-g-".concat(t),"data-space":"false",dangerouslySetInnerHTML:{__html:s},onClick:a,onFocus:u,onBlur:u,onMouseLeave:h}),Bi("div",{className:"video-volume-slider",id:"video-volume-slider-".concat(t),ref:d,onMouseUp:e=>{let t=n,i=e.currentTarget.getBoundingClientRect();t=(e.pageX-i.left)/e.currentTarget.offsetWidth,r(t,!0)},onFocus:u,onBlur:u,onKeyDown:e=>{let t=n;"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.stopPropagation(),t=e.shiftKey?n-.2:n-.1,r(t,!0)):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.stopPropagation(),t=e.shiftKey?n+.2:n+.1,r(t,!0))},onMouseLeave:h,"aria-label":"Volume up down","aria-valuenow":parseInt(100*n),"aria-valuetext":"Volume ".concat(parseInt(100*n),"%"),tabindex:"0",role:"slider","aria-valuemin":"0","aria-valuemax":"100",children:[Bi("div",{id:"video-volume-b-".concat(t),className:"video-volume-b"}),Bi("div",{id:"video-volume-v-".concat(t),style:{width:l+"px"},className:"video-volume-v"}),Bi("div",{id:"video-volume-h-".concat(t),style:{left:l+"px"},className:"video-volume-h"})]})]})})),Gi=Wi;const zi=yi((function(e){return{isFullScreen:e.isFullScreen}}))(class extends X{shouldComponentUpdate(e){return this.props.isFullScreen!==e.isFullScreen}onKeyDown(e){" "===e.key&&(e.stopPropagation(),this.props.onToggleFullScreen())}render(){const{isFullScreen:e,onToggleFullScreen:t}=this.props,i=e?'<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Full-Screen/Active" fill="#FFFFFF" fill-rule="nonzero"><path d="M8.33333333,6.55555556 L11,3.88888889 L11,11 L3.88888889,11 L6.55555556,8.33333333 L3,4.77777778 L4.77777778,3 L8.33333333,6.55555556 Z M6.55555556,19.6666667 L3.88888889,17 L11,17 L11,24.1111111 L8.33333333,21.4444444 L4.77777778,25 L3,23.2222222 L6.55555556,19.6666667 Z M21.4444444,8.33333333 L24.1111111,11 L17,11 L17,3.88888889 L19.6666667,6.55555556 L23.2222222,3 L25,4.77777778 L21.4444444,8.33333333 Z M19.6666667,21.4444444 L17,24.1111111 L17,17 L24.1111111,17 L21.4444444,19.6666667 L25,23.2222222 L23.2222222,25 L19.6666667,21.4444444 Z" id="Full-Screen"></path></g></g></svg>':'<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Full-Screen/Inactive" fill="#FFFFFF" fill-rule="nonzero"><path d="M21.3333333,19.5555556 L24,16.8888889 L24,24 L16.8888889,24 L19.5555556,21.3333333 L16,17.7777778 L17.7777778,16 L21.3333333,19.5555556 Z M19.5555556,6.66666667 L16.8888889,4 L24,4 L24,11.1111111 L21.3333333,8.44444444 L17.7777778,12 L16,10.2222222 L19.5555556,6.66666667 Z M8.44444444,21.3333333 L11.1111111,24 L4,24 L4,16.8888889 L6.66666667,19.5555556 L10.2222222,16 L12,17.7777778 L8.44444444,21.3333333 Z M6.66666667,8.44444444 L4,11.1111111 L4,4 L11.1111111,4 L8.44444444,6.66666667 L12,10.2222222 L10.2222222,12 L6.66666667,8.44444444 Z" id="Full-Screen"></path></g></g></svg>';return Bi("button",{className:"video-fullscreen f-r",id:"video-fullscreen-".concat(this.props.videoId),"aria-pressed":e,"aria-label":"Fullscreen",dangerouslySetInnerHTML:{__html:i},onKeyDown:this.onKeyDown.bind(this),onClick:t})}}),Qi=zi,Xi=Ie();function Ji(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(i.length?" "+i.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zi(e){return!!e&&!!e[Hn]}function $i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return i===Object||"function"==typeof i&&Function.toString.call(i)===jn}(e)||Array.isArray(e)||!!e[Un]||!!e.constructor[Un]||sn(e)||ln(e))}function en(e,t,i){void 0===i&&(i=!1),0===tn(e)?(i?Object.keys:Kn)(e).forEach((function(n){i&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(i,n){return t(n,i,e)}))}function tn(e){var t=e[Hn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:sn(e)?2:ln(e)?3:0}function nn(e,t){return 2===tn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function an(e,t){return 2===tn(e)?e.get(t):e[t]}function rn(e,t,i){var n=tn(e);2===n?e.set(t,i):3===n?(e.delete(t),e.add(i)):e[t]=i}function on(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function sn(e){return xn&&e instanceof Map}function ln(e){return Vn&&e instanceof Set}function cn(e){return e.o||e.t}function dn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Yn(e);delete t[Hn];for(var i=Kn(t),n=0;n<i.length;n++){var a=i[n],r=t[a];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[a]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function un(e,t){return void 0===t&&(t=!1),pn(e)||Zi(e)||!$i(e)||(tn(e)>1&&(e.set=e.add=e.clear=e.delete=hn),Object.freeze(e),t&&en(e,(function(e,t){return un(t,!0)}),!0)),e}function hn(){Ji(2)}function pn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function fn(e){var t=qn[e];return t||Ji(18,e),t}function _n(e,t){qn[e]||(qn[e]=t)}function gn(){return Ln}function vn(e,t){t&&(fn("Patches"),e.u=[],e.s=[],e.v=t)}function mn(e){yn(e),e.p.forEach(En),e.p=null}function yn(e){e===Ln&&(Ln=e.l)}function bn(e){return Ln={p:[],l:Ln,h:e,m:!0,_:0}}function En(e){var t=e[Hn];0===t.i||1===t.i?t.j():t.O=!0}function Sn(e,t){t._=t.p.length;var i=t.p[0],n=void 0!==e&&e!==i;return t.h.g||fn("ES5").S(t,e,n),n?(i[Hn].P&&(mn(t),Ji(4)),$i(e)&&(e=An(t,e),t.l||Tn(t,e)),t.u&&fn("Patches").M(i[Hn].t,e,t.u,t.s)):e=An(t,i,[]),mn(t),t.u&&t.v(t.u,t.s),e!==Bn?e:void 0}function An(e,t,i){if(pn(t))return t;var n=t[Hn];if(!n)return en(t,(function(a,r){return wn(e,n,t,a,r,i)}),!0),t;if(n.A!==e)return t;if(!n.P)return Tn(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=dn(n.k):n.o;en(3===n.i?new Set(a):a,(function(t,r){return wn(e,n,a,t,r,i)})),Tn(e,a,!1),i&&e.u&&fn("Patches").R(n,i,e.u,e.s)}return n.o}function wn(e,t,i,n,a,r){if(Zi(a)){var o=An(e,a,r&&t&&3!==t.i&&!nn(t.D,n)?r.concat(n):void 0);if(rn(i,n,o),!Zi(o))return;e.m=!1}if($i(a)&&!pn(a)){if(!e.h.F&&e._<1)return;An(e,a),t&&t.A.l||Tn(e,a)}}function Tn(e,t,i){void 0===i&&(i=!1),e.h.F&&e.m&&un(t,i)}function In(e,t){var i=e[Hn];return(i?cn(i):e)[t]}function kn(e,t){if(t in e)for(var i=Object.getPrototypeOf(e);i;){var n=Object.getOwnPropertyDescriptor(i,t);if(n)return n;i=Object.getPrototypeOf(i)}}function Cn(e){e.P||(e.P=!0,e.l&&Cn(e.l))}function Pn(e){e.o||(e.o=dn(e.t))}function Dn(e,t,i){var n=sn(t)?fn("MapSet").N(t,i):ln(t)?fn("MapSet").T(t,i):e.g?function(e,t){var i=Array.isArray(e),n={i:i?1:0,A:t?t.A:gn(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=n,r=Wn;i&&(a=[n],r=Gn);var o=Proxy.revocable(a,r),s=o.revoke,l=o.proxy;return n.k=l,n.j=s,l}(t,i):fn("ES5").J(t,i);return(i?i.A:gn()).p.push(n),n}function Mn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return dn(e)}function On(){function e(e,t){var i=a[e];return i?i.enumerable=t:a[e]=i={configurable:!0,enumerable:t,get:function(){var t=this[Hn];return Wn.get(t,e)},set:function(t){var i=this[Hn];Wn.set(i,e,t)}},i}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][Hn];if(!a.P)switch(a.i){case 5:n(a)&&Cn(a);break;case 4:i(a)&&Cn(a)}}}function i(e){for(var t=e.t,i=e.k,n=Kn(i),a=n.length-1;a>=0;a--){var r=n[a];if(r!==Hn){var o=t[r];if(void 0===o&&!nn(t,r))return!0;var s=i[r],l=s&&s[Hn];if(l?l.t!==o:!on(s,o))return!0}}var c=!!t[Hn];return n.length!==Kn(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var i=Object.getOwnPropertyDescriptor(t,t.length-1);if(i&&!i.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var a={};_n("ES5",{J:function(t,i){var n=Array.isArray(t),a=function(t,i){if(t){for(var n=Array(i.length),a=0;a<i.length;a++)Object.defineProperty(n,""+a,e(a,!0));return n}var r=Yn(i);delete r[Hn];for(var o=Kn(r),s=0;s<o.length;s++){var l=o[s];r[l]=e(l,t||!!r[l].enumerable)}return Object.create(Object.getPrototypeOf(i),r)}(n,t),r={i:n?5:4,A:i?i.A:gn(),P:!1,I:!1,D:{},l:i,t,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,Hn,{value:r,writable:!0}),a},S:function(e,i,a){a?Zi(i)&&i[Hn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var i=t[Hn];if(i){var a=i.t,r=i.k,o=i.D,s=i.i;if(4===s)en(r,(function(t){t!==Hn&&(void 0!==a[t]||nn(a,t)?o[t]||e(r[t]):(o[t]=!0,Cn(i)))})),en(a,(function(e){void 0!==r[e]||nn(r,e)||(o[e]=!1,Cn(i))}));else if(5===s){if(n(i)&&(Cn(i),o.length=!0),r.length<a.length)for(var l=r.length;l<a.length;l++)o[l]=!1;else for(var c=a.length;c<r.length;c++)o[c]=!0;for(var d=Math.min(r.length,a.length),u=0;u<d;u++)r.hasOwnProperty(u)||(o[u]=!0),void 0===o[u]&&e(r[u])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?i(e):n(e)}})}var Nn,Ln,Rn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),xn="undefined"!=typeof Map,Vn="undefined"!=typeof Set,Fn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Bn=Rn?Symbol.for("immer-nothing"):((Nn={})["immer-nothing"]=!0,Nn),Un=Rn?Symbol.for("immer-draftable"):"__$immer_draftable",Hn=Rn?Symbol.for("immer-state"):"__$immer_state",jn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Kn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Yn=Object.getOwnPropertyDescriptors||function(e){var t={};return Kn(e).forEach((function(i){t[i]=Object.getOwnPropertyDescriptor(e,i)})),t},qn={},Wn={get:function(e,t){if(t===Hn)return e;var i=cn(e);if(!nn(i,t))return function(e,t,i){var n,a=kn(t,i);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.k):void 0}(e,i,t);var n=i[t];return e.I||!$i(n)?n:n===In(e.t,t)?(Pn(e),e.o[t]=Dn(e.A.h,n,e)):n},has:function(e,t){return t in cn(e)},ownKeys:function(e){return Reflect.ownKeys(cn(e))},set:function(e,t,i){var n=kn(cn(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,i),!0;if(!e.P){var a=In(cn(e),t),r=null==a?void 0:a[Hn];if(r&&r.t===i)return e.o[t]=i,e.D[t]=!1,!0;if(on(i,a)&&(void 0!==i||nn(e.t,t)))return!0;Pn(e),Cn(e)}return e.o[t]===i&&"number"!=typeof i&&(void 0!==i||t in e.o)||(e.o[t]=i,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==In(e.t,t)||t in e.t?(e.D[t]=!1,Pn(e),Cn(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var i=cn(e),n=Reflect.getOwnPropertyDescriptor(i,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:i[t]}:n},defineProperty:function(){Ji(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ji(12)}},Gn={};en(Wn,(function(e,t){Gn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Gn.deleteProperty=function(e,t){return Gn.set.call(this,e,t,void 0)},Gn.set=function(e,t,i){return Wn.set.call(this,e[0],t,i,e[0])};var zn=function(){function e(e){var t=this;this.g=Fn,this.F=!0,this.produce=function(e,i,n){if("function"==typeof e&&"function"!=typeof i){var a=i;i=e;var r=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return r.produce(e,(function(e){var n;return(n=i).call.apply(n,[t,e].concat(o))}))}}var o;if("function"!=typeof i&&Ji(6),void 0!==n&&"function"!=typeof n&&Ji(7),$i(e)){var s=bn(t),l=Dn(t,e,void 0),c=!0;try{o=i(l),c=!1}finally{c?mn(s):yn(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return vn(s,n),Sn(e,s)}),(function(e){throw mn(s),e})):(vn(s,n),Sn(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=i(e))&&(o=e),o===Bn&&(o=void 0),t.F&&un(o,!0),n){var d=[],u=[];fn("Patches").M(e,o,d,u),n(d,u)}return o}Ji(21,e)},this.produceWithPatches=function(e,i){if("function"==typeof e)return function(i){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.produceWithPatches(i,(function(t){return e.apply(void 0,[t].concat(a))}))};var n,a,r=t.produce(e,i,(function(e,t){n=e,a=t}));return"undefined"!=typeof Promise&&r instanceof Promise?r.then((function(e){return[e,n,a]})):[r,n,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){$i(e)||Ji(8),Zi(e)&&(e=function(e){return Zi(e)||Ji(22,e),function e(t){if(!$i(t))return t;var i,n=t[Hn],a=tn(t);if(n){if(!n.P&&(n.i<4||!fn("ES5").K(n)))return n.t;n.I=!0,i=Mn(t,a),n.I=!1}else i=Mn(t,a);return en(i,(function(t,a){n&&an(n.t,t)===a||rn(i,t,e(a))})),3===a?new Set(i):i}(e)}(e));var t=bn(this),i=Dn(this,e,void 0);return i[Hn].C=!0,yn(t),i},t.finishDraft=function(e,t){var i=(e&&e[Hn]).A;return vn(i,t),Sn(void 0,i)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Fn&&Ji(20),this.g=e},t.applyPatches=function(e,t){var i;for(i=t.length-1;i>=0;i--){var n=t[i];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}i>-1&&(t=t.slice(i+1));var a=fn("Patches").$;return Zi(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),Qn=new zn;Qn.produce,Qn.produceWithPatches.bind(Qn),Qn.setAutoFreeze.bind(Qn),Qn.setUseProxies.bind(Qn),Qn.applyPatches.bind(Qn),Qn.createDraft.bind(Qn),Qn.finishDraft.bind(Qn);var Xn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jn=function(e,t){for(var i=0,n=t.length,a=e.length;i<n;i++,a++)e[a]=t[i];return e},Zn=Object.defineProperty,$n=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),ea=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,ia=function(e,t,i){return t in e?Zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i},na=function(e,t){for(var i in t||(t={}))ea.call(t,i)&&ia(e,i,t[i]);if($n)for(var n=0,a=$n(t);n<a.length;n++){i=a[n];ta.call(t,i)&&ia(e,i,t[i])}return e};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;!function(e){function t(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=e.apply(this,i)||this;return Object.setPrototypeOf(a,t.prototype),a}Xn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Jn([void 0],e[0].concat(this)))):new(t.bind.apply(t,Jn([void 0],e.concat(this))))}}(Array);function aa(e,t){function i(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];if(t){var a=t.apply(void 0,i);if(!a)throw new Error("prepareAction did not return an object");return na(na({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:i[0]}}return i.toString=function(){return""+e},i.type=e,i.match=function(t){return t.type===e},i}Object.assign;var ra="listenerMiddleware";aa(ra+"/add"),aa(ra+"/removeAll"),aa(ra+"/remove");On();const oa="RESIZE",sa="THUMBNAIL_SHOW",la="THUMBNAIL_HIDE",ca="MORE_VIDEOS_SLIDE_SHOW",da="MORE_VIDEOS_SLIDE_HIDE",ua="SHOW_ENDSCREEN",ha="HIDE_ENDSCREEN",pa="SHOW_SHARESCREEN",fa="HIDE_SHARESCREEN",_a="CONTROLS_SHOW",ga="CONTROLS_HIDE",ma="VIDEO_PLAY",ya="VIDEO_PAUSE",ba="VIDEO_PROGRESS",Ea="VIDEO_DURATION",Sa="VIDEO_MUTE",Aa="VIDEO_UNMUTE",wa="VIDEO_ENTER_FULLSCREEN",Ta="VIDEO_EXIT_FULLSCREEN",Ia="VIDEO_START_PLAYBACK_INIT",ka="VIDEO_END_PLAYBACK_INIT",Ca="VIDEO_BUFFERING",Pa="VIDEO_CAN_PLAY",Da="VIDEO_VOLUME",Ma="UPDATE_VIDEO_DATA",Oa="REPLACE_PLAYLIST",Na="DEQUEUE_PLAYLIST",La="SHOW_COUNTDOWN",Ra="HIDE_COUNTDOWN",xa="AD_STARTED",Va="AD_COMPLETE",Fa="AD_PROGRESS",Ba="AD_DURATION",Ua="AD_PLAY",Ha="AD_PAUSE",ja="AD_BUFFERING",Ka="SHOW_CLICK_FOR_SOUND",Ya="HIDE_CLICK_FOR_SOUND",qa="SHOW_LOADING_SPINNER",Wa="HIDE_LOADING_SPINNER",Ga="UPDATE_VIDEO_API_LOAD_STATE",za="UPDATE_AD_ERROR_STATE",Qa="UPDATE_AD_INIT_STATE",Xa="UPDATE_IMA_LOAD_STATE",Ja="UPDATE_HLS_JS_LOAD_STATE",Za="SET_FOCUS",$a="SET_STICKY_MODE",er="SHOW_SAVED_MODAL",tr="HIDE_SAVED_MODAL",ir="ENABLE_LOGGING",nr="SET_VOLUME_CONTROL_VISIBILITY",ar="SHOW_CLOSED_CAPTIONS",rr="HIDE_CLOSED_CAPTIONS";function or(){return{type:_a}}function sr(){return{type:ga}}function lr(){return{type:ma}}function cr(){return{type:ya}}function dr(e){return{type:ba,currentPosition:e}}function ur(e){return"number"!=typeof e&&(e=parseInt(e,10)),{type:Ea,duration:e}}function hr(){return{type:Sa}}function pr(){return{type:Aa}}function fr(e){return{type:Da,volume:e}}function _r(e){return{type:nr,isVolumeControlVisible:e}}function gr(){return{type:wa}}function vr(){return{type:Ta}}function mr(e){return{type:$a,isStickyModeEnabled:e}}const yr=aa(xa),br=aa(Va),Er=aa(Fa),Sr=aa(Ba),Ar=aa(Ua),wr=aa(Ha),Tr=aa(ja);function Ir(e,t){return{type:oa,width:e,height:t}}const kr=aa(sa),Cr=aa(la);function Pr(e){return{type:Ma,videoData:e}}const Dr=aa(ca),Mr=aa(da),Or=aa(ua),Nr=aa(ha),Lr=aa(pa),Rr=aa(fa);function xr(e){return{type:Oa,playlist:e}}const Vr=aa(Na),Fr=aa(La),Br=aa(Ra),Ur=aa(Ka),Hr=aa(Ya),jr=aa(ar),Kr=aa(rr),Yr=aa(Za),qr=aa(qa),Wr=aa(Wa),Gr=aa(Ga),zr=aa(Qa),Qr=aa(Xa),Xr=aa(za),Jr=aa(Ja),Zr=aa(Ia),$r=aa(ka),eo=aa(Ca),to=aa(Pa),io=aa(er),no=aa(tr),ao=aa(ir);var ro=r(72793),oo=r.n(ro),so=r(56904),lo=r.n(so);const co=yi((function(e){return{videoData:e.videoData,isPlaybackInitializing:e.isPlaybackInitializing}}),{showSavedModal:io})(class extends X{constructor(){super(),this.state={isSaved:null,isSaving:!1,isAvailable:!1,isLoaded:!1}}componentDidUpdate(e){var t,i;(e.videoData.guid!==this.props.videoData.guid&&this.setState({isAvailable:!1,isSaved:!1,isLoaded:!1,isSaved:!1}),this.props.isPlaybackInitializing&&!this.state.isLoaded)&&(this.setState({isLoaded:!0}),(t=this.props.videoData.guid,i=this.props.saveApiPublication,null===Xi?Promise.reject(new Error("Invalid save api")):fetch("".concat(Xi,"/").concat(t,"/count?pub=").concat(i),{credentials:"include"}).then((e=>{if(e.ok)return e.json();throw Error("Cannot receive save status")})).then((e=>{let{count:t}=e;return t>0}))).then((e=>{void 0===e?this.setState({isAvailable:!1,isSaved:!1}):this.setState({isAvailable:!0,isSaved:e})})).catch((e=>this.setState({isSaving:!1}))))}saveToQueue(){var e;this.state.isSaved||(this.setState({isSaved:!0,isSaving:!0}),(e={contentId:this.props.videoData.guid,pub:this.props.saveApiPublication,contentType:"video"},null===Xi?Promise.reject(new Error("Invalid save api")):fetch(Xi,{method:"POST",body:JSON.stringify({...e,contentType:"video"}),headers:{"content-type":"application/json"},credentials:"include"}).then((e=>{if(!e.ok)throw new Error("Failed to save video")}))).then((()=>{this.setState({isSaved:!0,isSaving:!1}),this.props.showSavedModal()})).catch((()=>this.setState({isSaving:!1}))))}deleteFromQueue(){var e,t;this.state.isSaved&&(this.setState({isSaved:!1,isSaving:!0}),(e=this.props.videoData.guid,t=this.props.saveApiPublication,null===Xi?Promise.reject(new Error("Invalid save api")):fetch("".concat(Xi,"?id=").concat(e,"&pub=").concat(t),{method:"DELETE",headers:{"content-type":"application/json"},credentials:"include"}).then((e=>{if(!e.ok)throw new Error("Failed to delete video")}))).then((()=>this.setState({isSaved:!1,isSaving:!1}))).catch((()=>this.setState({isSaving:!1}))))}shouldComponentUpdate(e,t){return this.state.isSaved!==t.isSaved||this.props.isPlaybackInitializing!==e.isPlaybackInitializing||this.props.isAvailable!==e.isAvailable}handleClick(){this.state.isSaving||(this.props.onSaveChange(!this.state.isSaved),this.state.isSaved?this.deleteFromQueue():this.saveToQueue())}render(){return this.state.isAvailable?Bi("button",{className:"video-save-queue f-r",dangerouslySetInnerHTML:{__html:!0===this.state.isSaved?lo():oo()},onClick:this.handleClick.bind(this)}):null}});const uo=yi((function(e){return{currentPosition:e.currentPosition,duration:e.duration,isLive:"live"===e.videoData.state||"flive"===e.videoData.state,isVolumeControlVisible:e.isVolumeControlVisible}}))((function(e){let{videoId:t,currentPosition:i=0,duration:n=0,isLive:a,isVolumeControlVisible:r}=e;if(a)return Bi("div",{className:"video-time f-l",id:"video-time-".concat(t),children:"LIVE"});const o=Ee(me(i)),s=Ee(me(n));return Bi("div",{className:"video-time f-l",id:"video-time-".concat(t),children:[o,Bi("span",{style:{opacity:".5"},children:" / "}),s]})})),ho="styles__preview_cmIyaCh2YFl3UOrC06gH",po="styles__hide_T9n75rf02wWtWxhPd_Sf",fo="styles__time_Jg4OYUCMrwnSHea_jsB7",_o="styles__img_Secvf3CnUBFXkvoC14lm";const go=e=>{const t=ki((e=>{var t;return null===(t=e.videoData)||void 0===t?void 0:t.thumbstripURL})),i=ki((e=>e.duration)),n=ki((e=>e.width)),a=ki((e=>e.isAdMode)),r=function(){const e=ki((e=>{var t;return parseInt(null===(t=e.videoData)||void 0===t?void 0:t.doctypeID,10)}));return 134===e?9/16:144===e?1:16/9}(),[o,s]=je(!1),l=We(null),c=We(null);if(Ye((()=>{t?(c.current.src=t,s(!0)):s(!1)}),[t]),!t)return null;const{mouseXCoord:d,scrubBarWidth:u,show:h}=e,p=function(e,t,i){if(!i)return 0;let n=t-i.offsetWidth/2+20;n=n<0?0:n;const a=e-i.offsetWidth;return n>a?a:n}(n,d,l.current),f=Math.min(d/u,1),_={left:"".concat(p,"px")},g={};if(o){const{naturalWidth:e,naturalHeight:t}=c.current,i=t/2,n=i*r;g.left="".concat(Math.round(100*f)*-n,"px"),g.width="".concat(e/2,"px"),g.height="".concat(i,"px"),_.width="".concat(n,"px"),_.height="".concat(i,"px")}const v=!o||!h||a;return Bi("div",{onselectstart:"return false;",ref:l,className:Pi()(ho,{[po]:v}),style:_,children:[Bi("span",{className:fo,children:Ee(me(f*i))}),Bi("img",{ref:c,className:_o,style:g})]})},vo="styles__scrubBar_sK3yUaWMg0CzjHhVutHV",mo="styles__mobile_QBsFn5YI2aVk6f6I15NR",yo="styles__scrubBackground_glWPGE7YF8fwLwli7qhL",bo="styles__scrubPadding_f_H6E3a78WUSy1Smj6cf",Eo="styles__scrubProgress_EAoEl11cAVORVUkkGktQ",So="styles__dot_Wu3aWhYFnwj5onaoCkxS",Ao="styles__scrubLoaded_THBz4OK8tbud7jRxJzzn",wo="styles__adMarkerContainer_T5whM1Ajg4_iurxyfkWw",To={isDragging:!1,showLoadedBar:!1,showPreview:!1,scrubBarWidth:0,mouseXCoord:0,loadedPercent:0},Io="START_DRAG",ko="END_DRAG",Co="SHOW_LOADED_BAR",Po="HIDE_LOADED_BAR",Do="SHOW_PREVIEW",Mo="HIDE_PREVIEW",Oo="UPDATE_SCRUB_BAR_WIDTH",No="UPDATE_SCRUB_X_COORD",Lo=(e,t)=>Math.min(t/e*100,100);function Ro(e,t){switch(t.type){case Io:return{...e,isDragging:!0};case ko:return{...e,isDragging:!1};case Co:return{...e,showLoadedBar:!0};case Po:return{...e,showLoadedBar:!1};case Do:return{...e,showPreview:!0};case Mo:return{...e,showPreview:!1};case Oo:return{...e,scrubBarWidth:t.width,loadedPercent:Lo(t.width,e.mouseXCoord)};case No:return{...e,mouseXCoord:Math.min(Math.max(t.xCoord,0),e.scrubBarWidth),loadedPercent:Lo(e.scrubBarWidth,t.xCoord)};default:return e}}const xo=e=>{const t=ki((e=>e.currentPosition)),i=ki((e=>e.duration)),n=ki((e=>e.width)),[a,r]=Ke(Ro,To),[o,s]=je(!1),l=We(null),{isMobile:c,videoId:d,onSeek:u,showControls:h,enableScrubPreview:p}=e,f=ze((e=>{var t;let{pageX:i,touches:n}=e;const o=null!=i?i:null==n||null===(t=n[0])||void 0===t?void 0:t.pageX;if(!o)return;const s=l.current,c=o-s.getBoundingClientRect().left;a.scrubBarWidth!==s.offsetWidth&&r({type:Oo,width:s.offsetWidth}),r({type:No,xCoord:c})}),[a.scrubBarWidth]);Ye((()=>{const e=l.current,t=()=>{r({type:Co}),c||r({type:Do})};return e.addEventListener("mouseover",t),()=>e.removeEventListener("mouseover",t)}),[]),Ye((()=>{const e=l.current,t=()=>{r({type:Po}),r({type:Mo})};return e.addEventListener("mouseout",t),()=>e.removeEventListener("mouseout",t)}),[]),Ye((()=>{const e=l.current,t=()=>r({type:Io});return e.addEventListener("mousedown",t),c&&e.addEventListener("touchstart",t),()=>{e.removeEventListener("mousedown",t),c&&e.removeEventListener("touchstart",t)}}),[c]),Ye((()=>{if(!c)return;const e=l.current,t=e=>{e.preventDefault(),h(),a.isDragging||r({type:Io}),f(e)};return e.addEventListener("touchmove",t),()=>e.removeEventListener("touchmove",t)}),[c,a.isDragging,h,f]),Ye((()=>(window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f))),[f]),Ye((()=>{const e=l.current,t=()=>{a.isDragging&&u&&u(a.loadedPercent/100),r({type:ko}),r({type:Mo})};return window.addEventListener("mouseup",t),c&&e.addEventListener("touchend",t),()=>{window.removeEventListener("mouseup",t),c&&e.removeEventListener("touchend",t)}}),[a.isDragging,a.loadedPercent,u,c]);const _=e=>{const n=Ee(me(t)),a=Ee(me(i));l.current.setAttribute("aria-valuetext",n+" / "+a),l.current.setAttribute("aria-valuenow",n)},g=a.isDragging?a.loadedPercent:t/i*100;return Bi(Q,{children:[p&&n>=250&&Bi(go,{scrubBarWidth:a.scrubBarWidth,mouseXCoord:a.mouseXCoord,show:a.showPreview||a.isDragging}),Bi("div",{ref:l,className:Pi()(vo,{[mo]:c}),"aria-valuetext":"",tabIndex:0,"aria-label":"video timeline",role:"slider","aria-valuemin":"0","aria-valuemax":i,onFocus:_,onMouseEnter:_,children:[Bi("div",{className:wo,id:"video-ad-marker-container-".concat(d)}),Bi("div",{className:bo}),a.showLoadedBar&&Bi("div",{className:Ao,style:{width:"".concat(a.loadedPercent,"%")}}),Bi("div",{className:yo}),Bi("div",{className:Eo,style:{width:"".concat(g,"%")},children:Bi("span",{className:So})})]})]})};var Vo=r(62269),Fo=r.n(Vo),Bo=r(83185),Uo=r.n(Bo);const Ho=yi((function(e){return{isControlsVisible:e.isControlsVisible,videoData:e.videoData,isAdMode:e.isAdMode,isPlaying:e.isPlaying,isVolumeControlVisible:e.isVolumeControlVisible,isClickForSoundVisible:e.isClickForSoundVisible,isClosedCaptionsVisible:e.isClosedCaptionsVisible,isSharescreenVisible:e.isSharescreenVisible}}))(class extends X{componentDidMount(){document.getElementById("video-cc-".concat(this.props.videoId)).innerHTML=Fo(),document.getElementById("video-share-b-".concat(this.props.videoId)).innerHTML=Uo()}componentDidUpdate(){}render(){const{isMobile:e,videoData:t,isAdMode:i}=this.props,n="live"===t.state||"flive"===t.state||i,a={isMobile:e,videoId:this.props.videoId,onSeek:this.props.onSeek,showControls:this.props.showControls,enableScrubPreview:this.props.enableScrubPreview},r={onSaveChange:this.props.onSaveChange,saveApiPublication:this.props.saveApiPublication,guid:this.props.videoData.guid},o={videoId:this.props.videoId,onSetVolume:this.props.onSetVolume,onMuteUnMute:this.props.onMuteUnMute,onVolumeControlVisible:this.props.onVolumeControlVisible};return Bi("div",{className:"video-controls-background ".concat(this.props.isControlsVisible?"video-fade-in":"video-fade-out"),children:Bi("div",{className:"video-controls",id:"video-controls-".concat(this.props.videoId),children:[!n&&Bi(xo,{...a}),Bi(Hi,{onPlayPause:this.props.onPlayPause}),Bi(Gi,{...o}),Bi(uo,{videoId:this.props.videoId}),Bi("div",{class:"filler"}),Bi("div",{className:"captions-list",id:"captions-list-".concat(this.props.videoId),"data-space":"false"}),Bi("button",{className:"video-share-b f-r",id:"video-share-b-".concat(this.props.videoId),"data-space":"false","aria-label":"Sharing","aria-haspopup":"true","aria-controls":"video-share-".concat(this.props.videoId),type:"button"}),Bi("button",{className:"video-cc f-r",id:"video-cc-".concat(this.props.videoId),"data-space":"false","aria-label":"Captions","aria-pressed":this.props.isClosedCaptionsVisible,type:"button"}),this.props.saveToQueueEnabled&&Bi(co,{...r,"data-space":"false"}),Bi(Qi,{videoId:this.props.videoId,onToggleFullScreen:this.props.onToggleFullScreen,"data-space":"false"})]})})}}),jo="styles__modal_Gvq7haU7mcszyJf9EQIA",Ko="styles__fadeOut_VRyEMhVhOQFiYYmoSshC",Yo="styles__closeBtn_R_UihOuFFkHP8sUYKBCQ";var qo=r(1122),Wo=r.n(qo);class Go extends X{constructor(e){super(e),this._setCloseBtnRef=this._setCloseBtnRef.bind(this),this._handleTransitionEnd=this._handleTransitionEnd.bind(this),this._handleClose=this._handleClose.bind(this)}componentWillUnmount(){clearTimeout(this._closeTimer)}_setCloseBtnRef(e){this._closeBtnRef=e}_handleTransitionEnd(){const{onFadeIn:e,onFadeOut:t,isVisible:i}=this.props;i?e():t()}_handleClose(e){e&&e.stopPropagation(),this.props.onClose(e)}componentDidMount(){this._closeBtnRef&&(this._closeBtnRef.innerHTML=Wo()),this.props.hideTimer&&(this._closeTimer=setTimeout((()=>this._handleClose()),this.props.hideTimer,this))}render(){const e=[jo],{isVisible:t}=this.props;this.props.className&&e.push(this.props.className),t||e.push(Ko);const i={className:e.join(" ")};return this.props.onClick&&(i.onClick=this.props.onClick,i.style={cursor:"pointer"}),this.props.style&&"object"==typeof this.props.style&&(i.style=Object.assign({},i.style,this.props.style)),Bi("div",{...i,onTransitionEnd:this._handleTransitionEnd,children:[this.props.children,!this.props.hideCloseButton&&Bi("button",{className:Yo,ref:this._setCloseBtnRef,onClick:this._handleClose,tabIndex:t?"0":"-1"})]})}}Go.defaultProps={onClose(){},onFadeIn(){},onFadeOut(){},isVisible:!0,hideCloseButton:!1};const zo=Go;var Qo=r(54098),Xo=r.n(Qo);const Jo=["adCategory","adTagParams","adZone","adsAllowed","aspectRatio","author","captionsVTT","catastrophic","chapterTimes","column","description","doctypeID","duration","editor","emailURL","episodeNumber","forceClosedCaptions","format","formattedCreationDate","gptCustParams","guid","hls","hlsNoCaptions","isQAEvent","iso8601CreationDate","keywords","keywordsOmni","linkRelativeURL","linkShortURL","linkURL","mediaLiveChannelId","name","omniProgramName","omniPublishDate","omniVideoFormat","provider","rssURL","secondsUntilStartTime","seriesName","seriesHideName","showName","sponsoredVideo","lang","state","thumbnailImageManager","thumbnailList","thumbstripURL","titletag","touchCastID","type","video1264kMP4Url","video174kMP4Url","video1864kMP4Url","video2564kMP4Url","video320kMP4Url","video664kMP4Url","videoMP4List","videoStillURL","wsj-section","wsj-subsection","factiva-subjects","factiva-regions"].join(",");function Zo(e){switch(e){case"prod":return"https://video-api.shdsvc.dowjones.io";case"nonprod":case"dev":return"https://video-api.dev.shdsvc.dowjones.io";default:return null}}async function $o(e){var t,i,n;const a=null!==(t=e.stage)&&void 0!==t?t:globalThis._videoApiEnv,r=new URL("".concat(null!==(i=Zo(a))&&void 0!==i?i:"https://video-api.shdsvc.dowjones.io","/api/legacy/find-all-videos")),o=Array.isArray(e.fields)?e.fields.join(","):"string"==typeof e.fields?e.fields:Jo;r.searchParams.append("type",e.type),r.searchParams.append("fields",o),r.searchParams.append("count","1"),e.query&&r.searchParams.append("query",e.query),e.groupid&&r.searchParams.append("groupid",e.groupid),e.userid&&r.searchParams.append("userid",e.userid),e.fb&&r.searchParams.append("fb","1");const s={};if(e.timeout){const t=new AbortController;s.signal=t.signal,setTimeout((()=>t.abort()),e.timeout)}const l=await Xo()(r.toString(),s),c=await l.json();return null!==(n=null==c?void 0:c.items)&&void 0!==n?n:[]}const es="styles__slide_WdCwwLJ66laCpCGzMVZm",ts="styles__slideIn_S2pQLw2i7xDlhbY7YZZM",is="styles__thumbnail_FUCqAnjmaNBqNNp7UN5U",ns="styles__textContainer_BLADdRlz18GBHiCo6GHC",as="styles__headerText_Nch0hXRCxOSqXYaQ8J2Q",rs="styles__videoTitle_svBYZiCjNhtzssT6pC7o";function os(e,t,i){const n=[1.5,2,3];if(e.thumbnailImageManager){const i="".concat(e.thumbnailImageManager,"?width=").concat(t);return{default:i,ratios:n.map((e=>({ratio:e,src:"".concat(i,"&pixel_ratio=").concat(e)})))}}if(!e.thumbnailList)return e.thumbnailURL?{default:e.thumbnailURL}:null;const{thumbnailList:a}=e,r=t/i>1?1:0;let o=a.findIndex((e=>!(1==r&&e.aspectRatio<1||0==r&&e.aspectRatio>1)&&e.width>=t));if(-1===o)return{default:a[a.length-1].url};const s={default:a[o].url,ratios:[]};let l=0;for(o+=1;o<a.length;o++){const e=a[o];1==r&&e.aspectRatio<1||0==r&&e.aspectRatio>1||e.width>=t*n[l]&&(s.ratios.push({ratio:n[l],src:e.url}),l++)}return s}function ss(e){switch(e){case"16U":case"12U":return 1260;case"8U":return 860;case"4U":return 620;case"tiny":return 350}}const ls=e=>{let{componentRef:t,height:i,highPriority:n,override:a,videoData:r,width:o,...s}=e;const l=Ge((()=>{var e;if(a)return{default:a};if(!r)return null;const t=os(r,o,i);return t?{src:t.default,srcSet:null===(e=t.ratios)||void 0===e?void 0:e.map((e=>{let{ratio:t,src:i}=e;return"".concat(i," ").concat(t,"x")})).join(", ")}:null}),[i,a,r,o]);return null!=l&&l.src?Bi("img",{...s,...l,alt:r.name,fetchpriority:n?"high":null,ref:t,"data-width":o,"data-height":i}):null};class cs extends X{constructor(e){super(e),this.state={recommendations:null},this._hasShown=!1,this._isLoading=!1,this._positionShown=null,this._setThumbnailRef=this._setThumbnailRef.bind(this),this._handleSlideClick=this._handleSlideClick.bind(this),this._hideSlide=this._hideSlide.bind(this)}_setThumbnailRef(e){this._thumbnailRef=e}_hideSlide(){this.props.hideMoreVideosSlide(),this._positionShown=null}_handleSlideClick(){this._hideSlide(),this.props.playVideo(this.state.recommendations.guid)}async _fetchRecommendedVideo(){const e={fields:"guid,thumbnailList,name,thumbnailImageManager,thumbnailURL"};if(this.props.hasCMPConsent){e.count=1,e.type="recommended",e.userid=Se("vidoraUserId");return(await $o(e))[0]}{e.count=20,e.type="playlist",e.query="Most Viewed WSJ Videos";const t=await $o(e);return t[Math.floor(Math.random()*t.length)]}}componentDidUpdate(e){var t,i;const{width:n,isMoreVideosSlideVisible:a,currentPosition:r,duration:o,showMoreVideosSlide:s,isEndscreenVisible:l,videoData:c,isAdMode:d,isPlaybackInitializing:u}=this.props;if(n<485||"vod"!==(null==c?void 0:c.state)||"469"===(null==c?void 0:c.doctypeID)&&0===(null!==(t=null==c||null===(i=c.column)||void 0===i?void 0:i.length)&&void 0!==t?t:0)||isNaN(r)||isNaN(o)||0===o)return void(a&&this._hideSlide());const{guid:h}=this.props.videoData;if(e.videoData.guid!==h&&this._hasShown)return a&&this._hideSlide(),this._hasShown=!1,void(this._positionShown=null);if(!(r/o>=.6)||l||d||u||a||this._hasShown||this._isLoading)null!==this._positionShown&&(this._positionShown+7<=r||l)&&this._hideSlide();else{this._isLoading=!0;const{onSlideShowing:e}=this.props;this._fetchRecommendedVideo().then((t=>{this._hasShown=!0,this._isLoading=!1,t&&!t.error&&(this.setState({recommendations:t}),s(),e(),this._positionShown=r)})).catch((e=>{console.error("Failed to fetch recommendations",e),this._hasShown=!0,this._isLoading=!1}))}}render(){var e,t,i,n,a,r,o;const{isMoreVideosSlideVisible:s}=this.props;let{recommendations:l}=this.state;l||(l={});const c=s&&this.props.width>=485&&"vod"===(null===(e=this.props.videoData)||void 0===e?void 0:e.state)&&("469"!==(null===(t=this.props.videoData)||void 0===t?void 0:t.doctypeID)||(null===(i=this.props.videoData)||void 0===i||null===(n=i.column)||void 0===n?void 0:n.length)>0),d=[es];return c&&d.push(ts),Bi(zo,{className:d.join(" "),isVisible:c,onClick:this._handleSlideClick,onClose:this._hideSlide,children:[l.thumbnailList&&Bi(ls,{className:is,height:null!==(a=null===(r=this._thumbnailRef)||void 0===r?void 0:r.offsetWidth)&&void 0!==a?a:0,componentRef:this._setThumbnailRef,videoData:l,width:null===(o=this._thumbnailRef)||void 0===o?void 0:o.offsetWidth}),Bi("div",{className:ns,children:[Bi("div",{className:as,children:"You may also like"}),Bi("div",{className:rs,children:l.name})]})]})}}const ds=yi((function(e){return{currentPosition:e.currentPosition,videoData:e.videoData,duration:e.duration,isMoreVideosSlideVisible:e.isMoreVideosSlideVisible,width:e.width,isEndscreenVisible:e.isEndscreenVisible,isAdMode:e.isAdMode,isPlaybackInitializing:e.isPlaybackInitializing}}),{showMoreVideosSlide:Dr,hideMoreVideosSlide:Mr})(cs),us="styles__container_Qrcg9zfSV5I72gILbGA8",hs="styles__controlsVisible_Flb2JoAtOFr7PjOPjH3Q",ps="styles__fullscreen_nyRqj5mA39OeLLwSnJY8",fs="styles__fadeIn_5srb2a0nyLAx7hKNTmUQ",_s="styles__headerText_CTCtwSxyabHj_ASQIP1P",gs="styles__row_oFcsfy0nXgj0nlpILko0",vs="styles__thumbnail_zM8vPnzNeiT6MHU7cpw1",ms="styles__textContainer__kJk0OZtsaUEx1Wrrk7g",ys="styles__videoTitle_thrxxgqrryyv0ajD73VC",bs="styles__countdownText_pQqGC6LLBHIVQOgSH_xQ";class Es extends X{constructor(e){super(e)}_renderCountdown(){const{duration:e,currentPosition:t}=this.props,i=Math.max(Math.floor(e)-Math.floor(t),0),n=1===i?"second":"seconds";return Bi("div",{className:bs,"data-testid":"countdown",children:["Starting in ",Bi("strong",{children:i})," ",n]})}render(){const{videoData:e,showCountdown:t,currentBreakpoint:i}=this.props;if(!e)return null;let n=220;return"8U"===i?n=150:"4U"===i?n=120:"tiny"===i&&(n=70),Bi("div",{className:gs,onClick:this.props.onClick,tabIndex:0,onKeyUp:e=>{"Enter"===e.key&&this.props.onClick()},children:[Bi(ls,{className:vs,height:.5625*n,videoData:e,width:n}),Bi("div",{className:ms,children:[Bi("div",{className:ys,children:e.name}),t&&this._renderCountdown()]})]})}}Es.defaultProps={showCountdown:!1,onClick(){}};const Ss=Es;class As extends X{constructor(e){super(e),this.state={visiblePlaylist:[]},this._isLoading=!1,this._hasShown=!1,this._hadError=!1,this._hideTime=-1,this._handleFadeOut=this._handleFadeOut.bind(this)}_syncVisiblePlaylist(){this.state.visiblePlaylist!==this.props.playlist&&this.props.playlist.length>0&&this.setState({visiblePlaylist:this.props.playlist})}_handleFadeOut(){this._syncVisiblePlaylist()}componentDidUpdate(e){var t,i;const{currentPosition:n,duration:a,videoData:r}=this.props;if(isNaN(n)||isNaN(a)||0===a||"vod"!==(null==r?void 0:r.state)||"469"===(null==r?void 0:r.doctypeID)&&0===(null!==(t=null==r||null===(i=r.column)||void 0===i?void 0:i.length)&&void 0!==t?t:0))return;const{isEndscreenVisible:o,hideEndscreen:s}=this.props;if(e.videoData.guid!==r.guid)return o&&(this._hideTime=Date.now(),s()),void(this._hasShown=!1);const{showEndscreen:l,replacePlaylist:c,playlist:d,onEndsceenShown:u}=this.props;if(!o&&!this._isLoading&&0===d.length&&Math.floor(n)>Math.max(Math.floor(a)-20,0)&&!this._hadError){this._isLoading=!0;const{videoApiUrl:e,fields:t,playerSettings:i}=this.props;Ae(e,i,r,t).then((e=>{var t;!e||1===e.length&&(null==e||null===(t=e[0])||void 0===t?void 0:t.guid)===r.guid?(this._hadError=!0,this._isLoading=!1):(c(e),this.setState({visiblePlaylist:e},(()=>this._isLoading=!1)))})).catch((e=>{console.error("Failed to load playlist for endscreen",e),this._isLoading=!1}))}!o&&!this._isLoading&&d.length>0&&!this._hasShown&&Math.floor(n)>Math.max(Math.floor(a)-7,0)&&Date.now()-2e3>this._hideTime&&(u(),this._syncVisiblePlaylist(),this._hasShown=!0,l())}render(){var e;const t=[us],{currentPosition:i,isEndscreenVisible:n,isControlsVisible:a,width:r,videoData:o,duration:s}=this.props,l=n&&s>0&&"vod"===(null==o?void 0:o.state)&&Math.floor(i)>Math.max(Math.floor(s)-7,0)&&("469"!==(null==o?void 0:o.doctypeID)||(null==o||null===(e=o.column)||void 0===e?void 0:e.length)>0);l&&t.push(fs),a&&t.push(hs),r<440&&t.push(ps);const c={className:t.join(" "),isVisible:l},{currentBreakpoint:d,playVideo:u}=this.props,h=this.state.visiblePlaylist;if(null===h)return;const p="16U"===d||"full"===d,f={currentBreakpoint:d};return Bi(zo,{tabIndex:n?0:-1,style:{display:n?"block":"none"},...c,onFadeOut:this._handleFadeOut,onClose:this.props.hideEndscreen,children:[Bi("div",{className:_s,children:"Up Next"}),Bi(Ss,{videoData:h[0],showCountdown:n,duration:s,currentPosition:i,onClick:()=>u(h[0]),tabIndex:0,...f}),p&&Bi(Ss,{videoData:h[1],onClick:()=>u(h[1]),...f})]})}}const ws=yi((function(e){return{width:e.width,currentPosition:e.currentPosition,videoData:e.videoData,duration:e.duration,isEndscreenVisible:e.isEndscreenVisible,currentBreakpoint:e.currentBreakpoint,isControlsVisible:e.isControlsVisible,playlist:e.playlist}}),{showEndscreen:Or,hideEndscreen:Nr,replacePlaylist:xr})(As),Ts="styles__preview_wnPmyASEMFAa1oEPsWMU",Is="styles__show_OWSMaY0IXBpWmB7oiU5V",ks="styles__hoverText_JhTXfUHnIdk7_taetqkF",Cs=e=>{switch(e){case"zh-cn":return"鼠标在视频上停留即可预览";case"zh-tw":return"滑鼠在影片上停留即可預覽";default:return"Keep hovering to play"}},Ps=e=>{const{onClick:t,onHoverChange:i}=e,[n,a]=je(!1),[r,o]=je(!1),[s,l]=je(!1),c=ki((e=>e.videoData)),d=ki((e=>e.hlsJsLoadState)),u=We(null),h=We(null),p=Ge((()=>Pe()),[]);Ye((()=>{if(p&&u.current)return void(u.current.src=c.hlsNoCaptions);if(d!==Oi)return;if(!window.Hls.isSupported()&&u.current)return void(u.current.src=c.video174kMP4Url);const e=new window.Hls({capLevelToPlayerSize:!0,maxMaxBufferLength:5});return e.loadSource(c.hlsNoCaptions),e.attachMedia(u.current),()=>e.destroy()}),[d,p,c]);const f=Ge((()=>{var e,t;const i=null!==(e=c.captionsVTT)&&void 0!==e?e:[];let n=null!==(t=Se("djvideolang"))&&void 0!==t?t:"";return 0===n.length&&(n="English"),i.find((e=>e.label===n))}),[c.captionsVTT]);Ye((()=>{var e,t,a,r;n?null===(a=u.current)||void 0===a||a.play().catch((e=>console.error("Thumbnail preview failed to play",e))):null===(r=u.current)||void 0===r||r.pause();const o=null!==(e=null===(t=u.current)||void 0===t?void 0:t.currentTime)&&void 0!==e?e:0;i(n,Math.round(o))}),[n]);const _=ze((e=>{var i;e.stopPropagation();const n=e.target,a=parseInt(null!==(i=n.currentTime)&&void 0!==i?i:0);n.pause(),n.currentTime=0,t(a)}),[t]),g=ze((e=>{const t=e.target;t.currentTime>=5&&(t.currentTime=0)}),[]),v=ze((()=>{l(!0),h.current=setTimeout((()=>a(!0)),750)}),[]),m=ze((()=>{l(!1),clearTimeout(h.current),a(!1)}),[]);if(!p&&d!==Oi)return null;const y=n&&r;return Bi("div",{className:Ts,onMouseEnter:v,onTouchStart:v,onTouchEnd:m,onMouseLeave:m,children:[Bi("video",{ref:u,className:Pi()({[Is]:y}),muted:!0,loop:!0,onClick:_,crossOrigin:"anonymous",preload:"none",playsInline:!0,onCanPlay:()=>o(!0),onLoadStart:()=>o(!1),onTimeUpdate:g,children:f&&Bi("track",{kind:"captions",src:f.url,srcLang:f.lang,label:f.label,default:!0})}),Bi("div",{className:Pi()(ks,{[Is]:s&&!y}),children:Cs(c.lang)})]})};var Ds=r(62431),Ms=r.n(Ds);const Os={vidThumb:"base__vidThumb_J2Ig01mRQcFyN8dpXVG4",videoThumbContent:"base__videoThumbContent__W29K99ikxMDZHdwBv_G",videoHint:"base__videoHint_qqM8mqaB1e13KXjxbt5Y",videoThumbImg:"base__videoThumbImg_t6sp3fpsHJ4V_N88NY06",videoThumbFlashLine:"base__videoThumbFlashLine_Q3tuSnxEXDLPeX6SdR1H",videoThumbText:"base__videoThumbText_rwV2lcvnQLeFrtVhRBYZ",videoTitle:"base__videoTitle_Hv79AV2Yh_FZvzzvAGHO",visuallyHidden:"base__visuallyHidden_SLUviDjoFe03jYgs8vzE",hide:"base__hide_MfzHDcOZAgLvuGLnGagg"},Ns={videoThumbContent:"foe__videoThumbContent_QCjFoUb6FqxfQM4mWoV2",videoHint:"foe__videoHint_VPGRBKGBfgu6PMsdK7Z4",gradient:"foe__gradient_QnuQdNaO223wIbaGtt5g",gradientTop:"foe__gradientTop__nbrweMqtHy2IpkL9CV8",videoThumbText:"foe__videoThumbText__OThZ_lADeuZvqtjMRS4",videoTitle:"foe__videoTitle_KtPFAeTl0iAVbftGpGzq",videoThumbCta:"foe__videoThumbCta_WiqAbR1iY0gc37hnIxL4"},Ls={gradient:"wsj-article__gradient_V1YOw7ejAbwOYXAUT4M_ mobile__gradient_pVZokpyG40pf3SgQ3Ev2",gradientTop:"wsj-article__gradientTop_gp7jfACAoOaopascqbE6 mobile__gradientTop_H3y64xDfKv9ySrkFHN0A",videoThumbContent:"wsj-article__videoThumbContent_smIls8sxT0_s7Z4CKqSE base__videoThumbContent__W29K99ikxMDZHdwBv_G",videoHint:"wsj-article__videoHint_yIhtZW7OIF0DLQNh__BR mobile__videoHint_bpneb7rBVctrE7WgY3Nz",videoThumbFlashLine:"wsj-article__videoThumbFlashLine_Yijm8CPlgABOJfYdUtww",videoThumbCta:"wsj-article__videoThumbCta_jaQvYOEZtmgb6v0Tcq9L mobile__videoThumbCta_QV2HqVgSDtwbfnvpBnzZ"},Rs={gradient:"mobile__gradient_pVZokpyG40pf3SgQ3Ev2",gradientTop:"mobile__gradientTop_H3y64xDfKv9ySrkFHN0A",videoThumbContent:"mobile__videoThumbContent_qFNUGR71qbvIniRwbSLu base__videoThumbContent__W29K99ikxMDZHdwBv_G",videoHint:"mobile__videoHint_bpneb7rBVctrE7WgY3Nz",videoThumbFlashLine:"mobile__videoThumbFlashLine_v9HWDr2ekmc40cumxtRG",videoThumbCta:"mobile__videoThumbCta_QV2HqVgSDtwbfnvpBnzZ"},xs={},Vs={videoTitle:"barrons-next__videoTitle_hsZpLFcdpw1vLINSV5VA"},Fs=()=>ye("playerDisplayed");const Bs=yi((function(e){return{currentBreakpoint:e.currentBreakpoint,width:e.width,height:e.height,isThumbnailVisible:e.isThumbnailVisible,videoData:e.videoData}}))(class extends X{constructor(e){super(e);let t={};switch(e.layout){case"foe":t=Ns;break;case"wsj-article":t=Ls;break;case"mobile":t=Rs;break;case"barrons-next":t=Vs;break;case"barrons-video-center":t=xs}this.theme=Object.assign({},Os,t),this.thumbId="".concat(e.videoId,"-video-thumbnail");{var i;const e=document.getElementById(this.thumbId),{width:t,height:n}=null!==(i=null==e?void 0:e.dataset)&&void 0!==i?i:{};isNaN(t)||(this.origWidth=parseFloat(t)),isNaN(n)||(this.origHeight=parseFloat(n))}}_renderGradient(e){const{layout:t,suppressHeadline:i}=this.props;return"mobile"!==t&&"wsj-article"!==t&&"foe"!==t||"foe"===t&&i?null:Bi("div",{className:e?this.theme.gradientTop:this.theme.gradient})}_renderHeadline(){const{suppressHeadline:e,layout:t,width:i,videoId:n}=this.props;if(e||"mobile"===t||"wsj-article"===t)return null;const a={};i<=470&&(a.fontSize="15px",a.lineHeight="22px");const r="barrons-next"===t?"h4":"span";return Bi("div",{className:this.theme.videoThumbText,style:a,children:[Bi(r,{className:this.theme.videoTitle,id:"video-thumb-text-".concat(n),children:this.props.videoData.name}),Bi("span",{id:"video-thumb-text-hidden-".concat(n),className:this.theme.visuallyHidden,children:"Play video: ".concat(this.props.videoData.name)})]})}_renderFlashLine(){const{layout:e,videoData:t,showFlashLine:i}=this.props;let n="";if("mobile"===e&&"string"==typeof t.seriesName&&!0!==t.seriesHideName)n=t.seriesName;else if("wsj-article"===e&&"string"==typeof t.name)n=t.name;else{if(!i||"string"!=typeof t.seriesName)return null;n="Video | ".concat(t.seriesName)}return Bi("div",{className:this.theme.videoThumbFlashLine,children:n})}_renderCTA(){const{layout:e,videoData:t}=this.props;if("wsj-article"===e){let e=null;return"live"!==t.state&&0!=t.duration&&(e=Bi("span",{children:["| ",me(t.duration)]})),Bi("div",{className:this.theme.videoThumbCta,children:["Play Video ",e]})}return"mobile"===e?Bi("div",{className:this.theme.videoThumbCta,children:"Play Video"}):"foe"===e&&"string"==typeof t.seriesName?Bi("div",{className:this.theme.videoThumbCta,children:t.seriesName}):null}render(){var e,t;if(!this.props.isThumbnailVisible)return null;const{videoData:i,onClick:n,onHoverChange:a,currentBreakpoint:r,height:o}=this.props,s=this._renderFlashLine(),l=null!==s;return Bi("div",{className:this.theme.vidThumb,children:Bi("div",{className:this.theme.videoThumbContent,onKeyDown:e=>{" "===e.key&&(e.stopPropagation(),e.preventDefault(),n())},onClick:n,children:[this._renderGradient(l),Bi("button",{"aria-label":"Play video",className:this.theme.videoHint,dangerouslySetInnerHTML:{__html:Ms()}}),Bi(ls,{id:this.thumbId,className:this.theme.videoThumbImg,height:null!==(e=this.origHeight)&&void 0!==e?e:o,highPriority:!0,onLoad:Fs,videoData:i,width:null!==(t=this.origWidth)&&void 0!==t?t:ss(r)}),this._renderHeadline(),s,this._renderCTA(),this.props.thumbPreviewEnabled&&Bi(Ps,{onClick:n,onHoverChange:a})]})})}}),Us=Bs,Hs="styles__videoTitleContainer_MVI4TH1CpYWF7DvSQaYA",js="styles__videoTitle_MU8JRVssXCHNkhbVAaNH";const Ks=yi((function(e){return{isControlsVisible:e.isControlsVisible,name:e.videoData.name,isCountdownVisible:e.isCountdownVisible,isAdMode:e.isAdMode,isLive:"live"==e.videoData.state,isClickForSoundVisible:e.isClickForSoundVisible}}))(class extends X{render(){const{isControlsVisible:e,isCountdownVisible:t,isAdMode:i,isLive:n,isClickForSoundVisible:a}=this.props;if(a)return;const r=[Hs,!e||t||i?"video-fade-out":"video-fade-in"];return Bi("div",{id:"video-title-".concat(this.props.videoId),className:r.join(" "),children:Bi("div",{className:js,children:this.props.name})})}}),Ys={videoSavedQueueModalContainer:"styles__videoSavedQueueModalContainer_m4C3lQ6B0xs8is0sVvvG",videoSavedQueueModalText:"styles__videoSavedQueueModalText_fPNgIPs33M2Qj8wYjOvE",videoSavedQueueModalButton:"styles__videoSavedQueueModalButton_pu65hCkFQZvEd5vzmXep"};const qs=yi((function(e){return{width:e.width,isSavedQueueModalVisible:e.isSavedQueueModalVisible}}),{hideSavedModal:no})(class extends X{constructor(e){super(e),this._hasShown=!1,this._hideSavedModal=this._hideSavedModal.bind(this),this._savedContentPage="https://www.wsj.com/user/personalization/saved-content"}_hideSavedModal(){this.props.hideSavedModal()}shouldComponentUpdate(e){return this.props.isSavedQueueModalVisible!==e.isSavedQueueModalVisible}componentDidUpdate(e){const{hideSavedModal:t,isSavedQueueModalVisible:i}=this.props;!i&&!this._hasShown&&(this._hasShown=!0)}render(){if(!this.props.isSavedQueueModalVisible)return null;const{isSavedQueueModalVisible:e,width:t}=this.props,i=e;i&&[Ys.videoTitleContainer,e?"video-fade-in":"video-fade-out"].push(Ys.fadeIn);return Bi(zo,{...{className:Ys.videoSavedQueueModalContainer,hideCloseButton:!0,hideTimer:5e3,isVisible:i},onClose:this._hideSavedModal,children:[Bi("div",{className:Ys.videoSavedQueueModalText,children:["Added ",t>450?"to your saved content":"to saved"]}),Bi("a",{target:"_blank",href:this._savedContentPage,children:Bi("button",{className:Ys.videoSavedQueueModalButton,children:"View saved content"})})]})}}),Ws="styles__countdownContainer_v9iOnfB7PvXYSNrAIwpg",Gs="styles__thumbnail_GCd2xIfxMfcjaKWStXX1",zs="styles__countdown_Ac_7rWU916xOtmJhAXC9",Qs="styles__countdownSquare_CBburZwBsI7SG4YcnQ6Q",Xs="styles__squareNumber_tTlljFQiG4QgezhyRsvR",Js="styles__squareTime_LE3AjZczsD_SnCc4PHYm",Zs="styles__title_KgyaFogaK3xTscLfKl5O",$s=e=>e.toString().padStart(2,"0"),el=e=>Bi("div",{className:Qs,children:[Bi("div",{className:Xs,children:e.value}),Bi("div",{className:Js,children:e.time})]});const tl=yi((function(e){var t;return{videoData:e.videoData,currentBreakpoint:e.currentBreakpoint,height:e.height,isQAEvent:null===(t=e.videoData)||void 0===t?void 0:t.isQAEvent,isCountdownVisible:e.isCountdownVisible}}),{showCountdown:Fr,hideCountdown:Br})(class extends X{constructor(e){super(e),this.state={timerStarted:!1,secondsRemaining:null,endCountdown:!1,serverTime:null},this.interval=null}componentDidMount(){var e;this.props.videoData&&(e=this.props.videoApiUrl+"time",fetch(e).then((e=>{if(!e.ok)throw new Error("".concat(e.status," ").concat(e.statusText));return e.json()}))).then((e=>{this.setState({serverTime:e.time})})).catch((e=>{console.error("Failed to fetch server time",e),this.setState({serverTime:Date.now()})}))}componentDidUpdate(e){if(null!==this.state.serverTime&&!this.state.timerStarted&&this.props.videoData&&this.props.videoData.formattedCreationDate&&"future"===this.props.videoData.state){const e=new Date(this.state.serverTime),t=new Date(this.props.videoData.iso8601CreationDate),i=t.getTime()-e.getTime(),n=Date.now()-e.getTime();if(i>0){const e=()=>(t.getTime()-Date.now()+n)/1e3;this.setState({serverTime:null,secondsRemaining:e(),timerStarted:!0}),this.interval=setInterval((()=>this.setState({secondsRemaining:e()})),250),this.props.showCountdown()}}this.state.timerStarted&&this.state.secondsRemaining<1&&this.props.isCountdownVisible&&(clearInterval(this.interval),this.props.hideCountdown(),this.props.onCountdownComplete())}componentWillUnmount(){clearInterval(this.interval)}_getThumbnail(){if(this.props.thumbnailOverride)return this.props.thumbnailOverride;const{videoData:e,currentBreakpoint:t,height:i}=this.props,n=os(e,ss(t),i);return null==n?void 0:n.default}render(){if(!this.props.isCountdownVisible||"future"!==this.props.videoData.state)return null;let e,t,i,n;return this.state.secondsRemaining&&(n=parseInt(this.state.secondsRemaining,10),e=Math.floor(n/86400),e>0&&(n-=3600*e*24),t=Math.floor(n/3600),n-=3600*t,i=Math.floor(n/60),n-=60*i),Bi("div",{className:Ws,children:[Bi("div",{style:{backgroundImage:"linear-gradient(-180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.8) 100%), url(".concat(this._getThumbnail(),")")},className:Gs}),Bi("div",{className:zs,children:[Bi("div",{className:Zs,children:this.state.secondsRemaining?this.props.isQAEvent?"LIVE Q&A BEGINS IN":"LIVE STREAM BEGINS IN":""}),null!==this.state.secondsRemaining&&null!==e&&Bi("div",{children:[e>0&&Bi(el,{value:$s(e),time:1===e?"DAY":"DAYS"}),Bi(el,{value:$s(t),time:1===t?"HOUR":"HOURS"}),Bi(el,{value:$s(i),time:1===i?"MINUTE":"MINUTES"}),e<1&&Bi(el,{value:$s(n),time:1===n?"SECOND":"SECONDS"})]})]})]})}}),il="styles__clickForSoundWrapper__CNP2wNjpm1tovhk6x8N",nl="styles__clickForSoundWrapperWithLive_cyZZ16bC2qRMqk3K9cUe",al="styles__clickForSoundWrapperWithAdvertisment_vabwqRqMBK9NoKuzFhc2";var rl=r(5773);const ol={__html:r.n(rl)()+"Tap For Sound"},sl=e=>{const t=ki((e=>e.isAdMode)),i=ki((e=>e.isCountdownVisible)),n=ki((e=>e.isClickForSoundVisible)),a=ki((e=>e.isThumbnailVisible)),r=ki((e=>"live"===e.videoData.state)),o=ki((e=>e.isControlsVisible)),s=ki((e=>e.isMuted)),l=ki((e=>e.isStickyModeEnabled)),c=wi(),d=ze((()=>{var t;c(Hr()),null==e||null===(t=e.onClicked)||void 0===t||t.call(e)}),[e.onClicked]);if(i||!n||a||!s)return null;const u=[il];return r&&!o&&e.isLiveButtonVisible&&u.push(nl),t&&!l&&u.push(al),console.log(),Bi("button",{onClick:d,id:"video-sound-".concat(e.videoId),className:u.join(" "),"aria-label":"Click For Sound",dangerouslySetInnerHTML:ol})};sl.defaultProps={onClicked(){},isLiveButtonVisible:!1};const ll=sl,cl="styles__liveIndicatorWrapper_thWYsr7OVtAa3E8T_vZm",dl="styles__liveButton_xeEHqZeaRSTaNffybwqa";const ul=yi((function(e){return{isCountdownVisible:e.isCountdownVisible,isClickForSoundVisible:e.isClickForSoundVisible,isThumbnailVisible:e.isThumbnailVisible,isLive:"live"==e.videoData.state,isControlsVisible:e.isControlsVisible,isAdMode:e.isAdMode}}))(class extends X{render(){const{isCountdownVisible:e,isClickForSoundVisible:t,isThumbnailVisible:i,isLive:n}=this.props;return this.props.isAdMode||!this.props.isLive||this.props.isCountdownVisible||this.props.isControlsVisible&&!this.props.isClickForSoundVisible?null:Bi("div",{id:"video-live-".concat(this.props.videoId),className:cl,children:Bi("span",{className:dl,children:"LIVE"})})}}),hl="styles__loader_vu3aiFolUpQ0NQhbWc0m";var pl=r(11107);const fl={__html:r.n(pl)()};function _l(e){return!e.isThumbnailVisible&&(e.isBuffering||e.isAdBuffering||e.isPlaybackInitializing||e.isLoadingSpinnerVisible||e.adInitState===Mi||e.videoApiLoadState===Mi||e.imaLoadState===Mi||e.hlsJsLoadState===Mi)}const gl=()=>ki(_l)?Bi("div",{className:Pi()("video-loading",hl),dangerouslySetInnerHTML:fl}):null,vl="styles__videoSkipIcon_OVk3BUswAMdhVUNCV4YG",ml="styles__adSkip_L6o530LrhsHuqyrTXXJO",yl="styles__skipTxt_X1lrmHSeI_ikhGcOWMGS",bl="styles__videoSkipCountdown_Il9n1CZyYb_GJJ1aOCAr";const El=e=>{const{videoId:t,onSkip:i}=e,n=ki((e=>e.currentAdPosition)),a=ki((e=>e.currentAdDuration));if(!ki((e=>e.isAdMode))||a<=15)return null;const r=Math.round(15-n),o=n>15||r<=0;return Bi("button",{"aria-label":"Skip ad in 15 seconds",className:ml,onClick:i,children:[Bi("div",{className:yl,children:"Skip Ad"}),o&&Bi("div",{className:vl}),!o&&Bi("div",{className:bl,children:" in ".concat(r)})]})};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Sl=function(e,t){return Sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Sl(e,t)};function Al(e){var t=e.className,i=e.counterClockwise,n=e.dashRatio,a=e.pathRadius,r=e.strokeWidth,o=e.style;return W("path",{className:t,style:Object.assign({},o,Tl({pathRadius:a,dashRatio:n,counterClockwise:i})),d:wl({pathRadius:a,counterClockwise:i}),strokeWidth:r,fillOpacity:0})}function wl(e){var t=e.pathRadius,i=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+i+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+i+" 1 1 0,-"+2*t+"\n    "}function Tl(e){var t=e.counterClockwise,i=e.dashRatio,n=e.pathRadius,a=2*Math.PI*n,r=(1-i)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(t?-r:r)+"px"}}var Il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function i(){this.constructor=e}Sl(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,i=e.minValue,n=e.maxValue;return(Math.min(Math.max(t,i),n)-i)/(n-i)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,i=e.className,n=e.classes,a=e.counterClockwise,r=e.styles,o=e.strokeWidth,s=e.text,l=this.getPathRadius(),c=this.getPathRatio();return W("svg",{className:n.root+" "+i,style:r.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?W("circle",{className:n.background,style:r.background,cx:50,cy:50,r:50}):null,W(Al,{className:n.trail,counterClockwise:a,dashRatio:t,pathRadius:l,strokeWidth:o,style:r.trail}),W(Al,{className:n.path,counterClockwise:a,dashRatio:c*t,pathRadius:l,strokeWidth:o,style:r.path}),s?W("text",{className:n.text,style:r.text,x:50,y:50},s):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(X);const kl="styles__adCirlce_s6sIwEsk_XmZbXeZdv88",Cl="styles__adText_KobNYSrCrHgpjtY8fDw4",Pl="styles__adContent_wkYQEmAfm4OfWpwbDhAw",Dl=e=>{const t=ki((e=>e.currentAdPosition)),i=ki((e=>e.currentAdDuration)),n=ki((e=>e.width));return Bi("div",{className:kl,children:[Bi("div",{className:Cl,children:me(Math.floor(i-t)).slice(1)}),Bi(Il,{value:Math.floor(t/i*100),counterClockwise:!0}),Bi("div",{className:Pl,children:n>350?"ADVERTISEMENT":"AD"})]})},Ml={width:"100%",height:"100%",position:"absolute"},Ol=e=>{var t;const i=ki((e=>e.currentBreakpoint)),n=ki((e=>e.isThumbnailVisible)),a=ki((e=>e.isStickyModeEnabled)),{videoId:r,videoProps:o,controlsProps:s,thumbProps:l,countdownProps:c,moreVideosSlideProps:d,endscreenProps:u,clickForSoundProps:h,disableTitle:p,liveButtonEnabled:f,saveToQueueEnabled:_,adProps:g}=(ki((e=>e.currentAdPosition)),ki((e=>e.currentAdDuration)),e);return Bi("div",{className:"video-wrapper player-".concat(i),id:"wrapper-".concat(r),"data-server-state":null!==(t=e.serverState)&&void 0!==t?t:"",children:[Bi(tl,{...c}),!p&&!a&&Bi(Ks,{videoId:r}),!a&&Bi(El,{videoId:r,...g}),d&&!a&&Bi(ds,{videoId:r,...d}),u&&!a&&Bi(ws,{...u}),Bi("div",{class:"video-share",id:"video-share-".concat(r),tabIndex:-1,role:"menu","aria-expanded":"false","aria-labelledby":"video-share-b-".concat(r)}),Bi("video",{src:"",id:"videoplayer-".concat(r),style:n?{...Ml,display:"none"}:Ml,preload:"none",...o,crossOrigin:"anonymous",controls:!0,children:"Your browser does not support HTML5 video."}),Bi("div",{class:"video-play-overlay",id:"video-play-overlay-".concat(r)}),Bi(gl,{}),Bi("div",{class:"video-adContainer",id:"adContainer-".concat(r),style:a?{pointerEvents:"none"}:void 0,children:[Bi("div",{class:"ad-top-background"}),!a&&Bi(Dl,{videoId:r})]}),Bi("div",{id:"video-controls-container-".concat(r),class:"video-controls-container",style:n||a?{display:"none"}:void 0,children:s&&Bi(Ho,{videoId:r,...s})}),_&&Bi(qs,{}),h&&Bi(ll,{videoId:r,...h}),f&&!p&&Bi(ul,{videoId:r}),Bi(Us,{videoId:r,...l})]})};var Nl=r(94500);const Ll={width:0,height:0,adInitState:Di,isControlsVisible:!1,isEndscreenVisible:!1,isSharescreenVisible:!1,hlsJsLoadState:Di,imaAdErrorState:!1,imaLoadState:Di,isLoadingSpinnerVisible:!1,videoApiLoadState:Di,isMoreVideosSlideVisible:!1,isPlaying:!1,isThumbnailVisible:!1,isVolumeControlVisible:!1,isClosedCaptionsVisible:!1,currentPosition:0,currentAdPosition:0,currentAdDuration:0,duration:0,videoData:{secondsUntilStartTime:0},isMuted:!1,isFullScreen:!1,currentBreakpoint:"16U",playlist:[],isCountdownVisible:!1,isAdMode:!1,isAdPlaying:!1,isAdBuffering:!1,isAdsBlocked:!1,isClickForSoundVisible:!1,isPlaybackInitializing:!1,isBuffering:!1,isSavedQueueModalVisible:!1,loggingEnabled:!1,focusElement:null,volume:1,isStickyModeEnabled:!1};function Rl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ll,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ir:return{...e,enableLogging:!0};case oa:return{...e,width:t.width,height:t.height,currentBreakpoint:e.isFullScreen?"full":De(t.width)};case sa:return{...e,isThumbnailVisible:!0};case la:return{...e,isThumbnailVisible:!1};case ca:return{...e,isMoreVideosSlideVisible:!0};case da:return{...e,isMoreVideosSlideVisible:!1};case _a:return{...e,isControlsVisible:!0};case ga:return{...e,isControlsVisible:!1};case ua:return{...e,isEndscreenVisible:!0};case ha:return{...e,isEndscreenVisible:!1};case pa:return{...e,isSharescreenVisible:!0};case fa:return{...e,isSharescreenVisible:!1};case ma:return{...e,isPlaying:!0};case ya:return{...e,isPlaying:!1};case ba:return{...e,currentPosition:t.currentPosition};case Ea:return{...e,duration:t.duration};case Sa:return{...e,isMuted:!0};case Aa:return{...e,isMuted:!1};case Da:return{...e,volume:t.volume};case nr:return{...e,isVolumeControlVisible:t.isVolumeControlVisible};case wa:return{...e,isFullScreen:!0,currentBreakpoint:"full"};case Ta:return{...e,isFullScreen:!1,currentBreakpoint:De(e.width)};case er:return{...e,isSavedQueueModalVisible:!0};case tr:return{...e,isSavedQueueModalVisible:!1};case Ma:return{...e,videoData:t.videoData,currentPosition:0,duration:t.videoData&&t.videoData.duration?parseInt(t.videoData.duration,10):Ll.duration,playlist:e.playlist.length>0?xl(e.playlist,t.videoData.guid):e.playlist};case Oa:{if(!t.playlist||0===t.playlist.length)return e;const i=xl(t.playlist,e.videoData.guid);return{...e,playlist:i}}case Na:{const{playlist:t}=e;if(0===t.length)return e;const[,...i]=t;return{...e,playlist:i}}case Za:return{...e,focusElement:t.payload};case La:return{...e,isCountdownVisible:!0,isControlsVisible:!1};case Ra:return{...e,isCountdownVisible:!1};case Ka:return{...e,isClickForSoundVisible:!0};case Ya:return{...e,isClickForSoundVisible:!1};case ar:return{...e,isClosedCaptionsVisible:!0};case rr:return{...e,isClosedCaptionsVisible:!1};case qa:return{...e,isLoadingSpinnerVisible:!0};case Wa:return{...e,isLoadingSpinnerVisible:!1};case Ga:return{...e,videoApiLoadState:t.payload};case Qa:return{...e,adInitState:t.payload,isAdsBlocked:t.payload===Ni};case Xa:return{...e,imaLoadState:t.payload,isAdsBlocked:t.payload===Ni};case za:return{...e,imaAdErrorState:t.payload};case Ja:return{...e,hlsJsLoadState:t.payload};case Ia:return{...e,isPlaybackInitializing:!0,currentPosition:0};case ka:return{...e,isPlaybackInitializing:!1};case Ca:return{...e,isBuffering:!0};case Pa:return{...e,isBuffering:!1};case xa:return{...e,isAdMode:!0};case Va:return{...e,isAdMode:!1,isPlaybackInitializing:!1,isAdBuffering:!1,isAdPlaying:!1,currentAdPosition:0,currentAdDuration:0};case Fa:return{...e,currentAdPosition:t.payload,isAdBuffering:!1};case Ba:return{...e,currentAdDuration:t.payload};case Ua:return{...e,isAdPlaying:!0};case Ha:return{...e,isAdPlaying:!1};case ja:return{...e,isAdBuffering:!0};case $a:return{...e,isStickyModeEnabled:t.isStickyModeEnabled};default:return e}}function xl(e,t){const i=[...e],n=i.findIndex((e=>e.guid===t));return-1!==n&&i.splice(n,1),i}function Vl(e){const t={...Ll,...e};if(window.location.search.includes("wsjVideoLogger")){const e=[ba],i=M(Rl,t,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(){var i=e.apply(void 0,arguments),n=function(){throw new Error(I(15))},a={getState:i.getState,dispatch:function(){return n.apply(void 0,arguments)}},r=t.map((function(e){return e(a)}));return n=N.apply(void 0,r)(i.dispatch),T(T({},i),{},{dispatch:n})}}}((0,Nl.createLogger)({predicate:(t,i)=>-1===e.indexOf(i.type),diff:!0,collapsed:!0})));return i.dispatch(ao()),i}return M(Rl,t)}const Fl=class{constructor(e){let{adsManager:t,onAdDisconnect:i,reduxStore:n}=e;this._adsManager=t,this._onAdDisconnect=i,this._store=n,this._observing=!1,this._isHealthy=!0,this._clearAllTimeouts=this._clearAllTimeouts.bind(this),this._handleAdProgress=this._handleAdProgress.bind(this)}_isAdPlaying(){return this._store.getState().isAdMode}_isAdBuffering(){return this._store.getState().isAdBuffering}_clearAllTimeouts(){clearTimeout(this._adDelayTimeout),clearTimeout(this._adDestroyTimeout)}_handleAdProgress(){this._isAdPlaying()&&!this._isAdBuffering()&&(this._adRemainder=this._adsManager.getRemainingTime(),this._clearAllTimeouts(),this._adDelayTimeout=setTimeout((()=>{if(!this._isAdPlaying()||this._isAdBuffering())return;const e=1e3*Math.max(this._adRemainder-2,0);this._adDestroyTimeout=setTimeout((()=>{this._isHealthy=!1,this._onAdDisconnect()}),e)}),2e3))}isHealthy(){return this._isHealthy}observe(){this._observing||(this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this._clearAllTimeouts),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._clearAllTimeouts),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this._handleAdProgress),this._observing=!0)}disconnect(){this._observing&&(this._clearAllTimeouts(),this._adsManager.removeEventListener(google.ima.AdEvent.Type.PAUSED,this._clearAllTimeouts),this._adsManager.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._clearAllTimeouts),this._adsManager.removeEventListener(google.ima.AdEvent.Type.AD_PROGRESS,this._handleAdProgress),this._observing=!1)}},Bl="https://seshat.".concat("","shdsvc.dowjones.io");let Ul,Hl;const jl="video_history";var Kl=function(e,t){var i,n,a,r;globalThis._videoApiEnv=null!==(i=null!==(n=Ce())&&void 0!==n?n:t.videoApiEnv)&&void 0!==i?i:"prod",this._self=this,this._version="3.49.25",this._time=Date.now(),this._adPlaybackTime=0,this._uaParser=new(p()),this.createMark("playerLoadStart"),this._container=e,this._container.setAttribute("aria-label","video player"),this._height=this._container.offsetHeight,this._width=this._container.offsetWidth,this._isVertical=this._width/this._height<1,this._videoId=this._container.getAttribute("id"),this._video,this._captionsShowing=!1,this._hlsPlayer,this._wrapper,this._controls,this._context,this._videodata,this._hlsAvailable=!1,this._isFullScreen=!1,this._currentTime=0,this._sizeTimer,this._volume=1,this._hlsLoadAttempted=!1,this._availableCaptions=[],this._setMuted=!1,this._fields="fields=isQAEvent,type,video174kMP4Url,video320kMP4Url,video664kMP4Url,video1264kMP4Url,video1864kMP4Url,video2564kMP4Url,hls,videoMP4List,adZone,thumbnailList,guid,state,secondsUntilStartTime,author,description,name,linkURL,videoStillURL,duration,videoURL,adCategory,adsAllowed,chapterTimes,catastrophic,linkShortURL,doctypeID,youtubeID,titletag,rssURL,wsj-section,wsj-subsection,allthingsd-section,allthingsd-subsection,sm-section,sm-subsection,provider,formattedCreationDate,iso8601CreationDate,keywords,keywordsOmni,column,editor,emailURL,emailPartnerID,showName,omniProgramName,omniVideoFormat,linkRelativeURL,touchCastID,omniPublishDate,adTagParams,gptCustParams,format,forceClosedCaptions,captionsVTT,hlsNoCaptions,episodeNumber,seriesName,seriesHideName,thumbstripURL,thumbnailImageManager,ads_allowed,mediaLiveChannelId,sponsoredVideo,lang,factiva-subjects,factiva-regions",this._isSafariMac="Safari"==this._uaParser.getBrowser().name,this._isIphone=this._uaParser.getUA().toLowerCase().includes("iphone"),this._iOS=Pe(),this._isMobile="mobile"==this._uaParser.getDevice().type||"tablet"==this._uaParser.getDevice().type,this._isCrawlerBot=this._uaParser.getUA().includes("Googlebot"),this._playOverlay,this._timeDisplay,this._fullscreenBtn,this._ccBtn,this._ccList,this._langSelected="",this._currentTrack,this._bitList,this._volumeSlider,this._adLoadingScreen,this._startClick,this._shareScreen,this._endScreen,this._endScreenStatus,this._configLoaded=!("playerid"in t),this._futureTimer,this._startTime,this._videoMsg,this._isStalled=!1,this._endScreenShowing=!1,this._endScreenLoading=!1,this._adMarkerContainer,this._currentThumbstripURL,this._adStarted=!1,this._adsManager,this._adsLoader,this._adContainer,this._adDisplayContainer,this._adDuration=0,this._adPlayNumber=1,this._adTimer,this._adTimeoutTimer,this._adTimeoutFail=!1,this._adResponseTimeout=8e3,this._currentAd,this._midRolls=[],this._midrollRequested=!1,this._adInfo,this._adId,this._adTagUsed="none",this._captionsLangs={eng:"English",spa:"Spanish",jap:"Japanese",por:"Portuguese"},this.BUCKET_HASH_MAP=["2qgQ1WCa3A","ixi4E5ylqa","830nwKog3K","K8ZnHJ5Uyn","91GjW1q7Zg","rGgki1wrhs","q85AaJVP78","1p6sdUNJWD","63L1D4y2F9","HY0f8Of9M1"],this._skipAvailable=!1,this._skipToTime=0,this._saveProgressEnabled=Te()&&null!==Ie(),this._lastSaveProgressTimestamp=0,this._formatOverride="",this._trackingMilestones=[!1,!1,!1,!1],this._trackingMilestonesAdvertisment=[!1,!1,!1,!1],this._mediaHeartbeat,this._mediaHeartbeatConfig,this._mediaHeartbeatDelegate,this._mediaObjectHeartbeat,this._pingMilestone=-1,this._isChained=!1,this._isLive=!1,this._contentStartTracked=!1,this._sessionStarted=!1,this._comscoreC3="13047035",this._comscoreMeta={ns_st_ci:"",c3:this._comscoreC3,c4:"*null",c6:"*null"},this._comscoreTag=new(g().StreamingTag)({customerC2:"6035148"}),this._retryLoadAttempts=0,this._retryLoadAttemptsMax=2,this._trackInViewListenerReference,this._autoplayed,this._adErrorTracked=!0,this._adErrorEvent=!1,this._tObject={},this._pageEvents="",this._currentEvents=["event136","event40","event41","event42","event46","event67","event73","event74","event96","event97","event98","event99","event100","event113","event115","event116","event117","event141"],this._convivaTestCustomerKey="91abd0ef71098758bbe88e3043ae97927d127fd1",this._convivaProdCustomerKey="445b2eba1211f043d37dc4994c50112384f41204",this._convivaTestServiceURL="https://wsj.testonly.conviva.com",this._testingEnvironment=!0,this.convivaVideoAnalytics,this.convivaAdAnalytics,this._contentInitialized=!1,this._adsRequestPending=!1,this._playRequested=!1,this._bucket="";var o={autoplay:!1,loop:!1,adsEnabled:!0,vpaidEnabled:!0,shareEnabled:!0,allowPlayerPopup:!1,chainVideos:!1,disableHtmlControls:!1,enableLiveButton:!1,shareDomain:null,useAllesseh:!1,api:"https://video-api.wsj.com/api-video/",api2:"https://video-api.shdsvc.dowjones.io/api/",saveApiPublication:null,clickForSound:!1,resetOnComplete:!0,type:"",query:"",contentType:"article",enableEndScreen:!1,enableMoreVideosSlide:!1,disableTitle:!1,noThumb:!1,thumbFlashLine:!1,thumbLayout:"",larsId:"91",larsAdId:"1259",trackInView:!1,channel:null,enableScrubPreview:!0,allowFullScreen:!0,adTag:"",useHttps:!0,count:1,moduleId:"",adZone:"",lnid:"",plid:"",msrc:null,collapseable:!1,disableDVR:null,maxBitrateIndex:null,enableCaptions:!0,loaderThumb:!1,adSkipTime:15,playlist:{},suggestionsType:"wsj-section",suggestionsQuery:"",suggestionsGroupId:"",sAccount:!1,imaLibrary:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",site:"",directLinks:!1,playlistQuery:"",touchCastID:null,relativeLinks:!1,disableChainPlay:!1,thumb:null,callback:null,fireTv:!1,useHLS:!0,playInline:!this._isVertical&&this._isIphone,suppressHeadline:!1,startLevel:!1,startPosition:-1,hasCMPPermutiveConsent:!0,hasCMPAdobeConsent:!0};try{this._domain=window.location!=window.parent.location?document.referrer:document.location}catch(e){this._domain=document.domain}this._isIphone&&!o.playInline&&(o.disableHtmlControls=!0);const s=null===(a=this._container.querySelector("#wrapper-".concat(this._videoId)))||void 0===a?void 0:a.dataset.serverState;if("string"==typeof s&&s.length>0)try{this._serverState=JSON.parse(s)}catch(e){console.error("Failed to parse server state attribute",e)}this._settings={...o,...null===(r=this._serverState)||void 0===r?void 0:r.settings,...t};const l=parseInt(ke("startPosition"),10);isNaN(l)||-1!==this._settings.startPosition||(this._settings.startPosition=l),this.hlsConfig={autoStartLoad:!0,startPosition:this._settings.startPosition,capLevelToPlayerSize:!1,enableWebVTT:!0,maxMaxBufferLength:30},-1!=navigator.userAgent.indexOf("amazon-fireos")?(this._settings.useHLS=!1,this._isMobile=!1):this._settings.fireTv=!1,this._isCrawlerBot&&(this._settings.autoplay=!1),!0!==this._settings.clickForSound&&"mobile"!=this._settings.autoplay||(this._settings.autoplay="muted"),(this._iOS||this._isSafariMac)&&(this._settings.useHLS=!1),this._isMobile&&(this._settings.vpaidEnabled=!1),!1!==this._settings.startLevel&&(this.hlsConfig.startLevel=this._settings.startLevel),this._settings.hasCMPConsent="undefined"==typeof djcmp||void 0===djcmp.customVendorIsEnabled||djcmp.customVendorIsEnabled("5fa5a010e954e249a3afd700"),"undefined"!=typeof __ace&&__ace("djcmp","djcmp",["onReady",this.onLoadDjcmp.bind(this)]);const c=function(){switch(Ce()){case"prod":return"https://video-api.shdsvc.dowjones.io/api/";case"dev":return"https://video-api.dev.shdsvc.dowjones.io/api/";default:return null}}();c&&(this._settings.api2=c),this._graphics={},this._graphics.pause='<svg width="16px" height="22px" viewBox="0 0 20 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Pause</title><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Play/Pause" fill="#FFFFFF" fill-rule="nonzero"><path d="M0,25 L0,3 L6,3 L6,25 L0,25 Z M11,25 L11,3 L17,3 L17,25 L11,25 Z" id="Combined-Shape"></path></g></g></svg>',this._graphics.play='<svg width="16px" height="22px" viewBox="0 0 20 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Play</title><desc>Created with sketchtool.</desc><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/Play/Play" fill="#FFFFFF" fill-rule="nonzero"><polyline id="Play" points="0 2 0 26 20 13.4528 0 2"></polyline></g></g></svg>',this._graphics.cc='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/CC/Inactive" fill="#FFFFFF" fill-rule="nonzero"><path d="M26,4 L2,4 L2,22 L7,22 L7,26 L12,22 L26,22 L26,4 Z M24,20 L4,20 L4,6 L24,6 L24,20 Z M20,17 C19.77858,17 19.4452467,17 19,17 C16,17 15,15 15,13 C15,11 16,9 19,9 C19.5054152,9 19.8387485,9 20,9 L20,11 C19,11 17,11 17,13 C17,15 19,15 20,15 L20,17 Z M13,17 C12.77858,17 12.4452467,17 12,17 C9,17 8,15 8,13 C8,11 9,9 12,9 C12.5054152,9 12.8387485,9 13,9 L13,11 C12,11 10,11 10,13 C10,15 12,15 13,15 L13,17 Z" id="CC"></path></g></g></svg>',this._graphics["cc-active"]='<svg width="22px" height="22px" viewBox="0 0 28 28" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Icons/CC/Active" fill="#FFFFFF" fill-rule="nonzero"><path d="M26,4 L2,4 L2,22 L7,22 L7,26 L12,22 L26,22 L26,4 Z M20,17 C19.77858,17 19.4452467,17 19,17 C16,17 15,15 15,13 C15,11 16,9 19,9 C19.5054152,9 19.8387485,9 20,9 L20,11 C19,11 17,11 17,13 C17,15 19,15 20,15 L20,17 Z M13,17 C12.77858,17 12.4452467,17 12,17 C9,17 8,15 8,13 C8,11 9,9 12,9 C12.5054152,9 12.8387485,9 13,9 L13,11 C12,11 10,11 10,13 C10,15 12,15 13,15 L13,17 Z" id="CC"></path></g></g></svg>',this._graphics["share-fb"]='<a id="share-link-fb-'+this._videoId+'"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="-19.5 60.5 32 32" enable-background="new -19.5 60.5 32 32" xml:space="preserve"><g id="Page-1"><g id="facebook"><path id="Path" fill="#FFFFFF" d="M1.166,76.504h-2.714V86h-4.034v-9.496H-7.5v-3.349h1.918v-2.176c0-1.551,0.758-3.979,4.064-3.979h2.987v3.267h-2.183c-0.452-0.024-0.838,0.313-0.864,0.755c-0.003,0.055,0,0.107,0.008,0.158v1.976H1.5L1.166,76.504z"/></g></g></svg></a>',this._graphics["share-twitter"]='<a id="share-link-twitter-'+this._videoId+'" target="_blank"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g id="Logo__x2014__FIXED"><g><path fill="#FFFFFF" d="M12.837,25.5c7.613,0,11.776-7.313,11.776-13.642c0-0.206,0-0.411-0.006-0.618c0.807-0.673,1.51-1.523,2.065-2.486c-0.742,0.384-1.542,0.635-2.382,0.757c0.855-0.59,1.511-1.533,1.824-2.655c-0.799,0.553-1.687,0.944-2.632,1.159C22.726,7.08,21.652,6.5,20.464,6.5c-2.284,0-4.141,2.15-4.141,4.796c0,0.375,0.042,0.739,0.106,1.095c-3.439-0.196-6.49-2.113-8.533-5.011C7.542,8.09,7.34,8.912,7.34,9.792c0,1.664,0.734,3.132,1.841,3.991c-0.679-0.027-1.315-0.243-1.874-0.598c0,0.019,0,0.038,0,0.065c0,2.318,1.429,4.264,3.318,4.703c-0.347,0.111-0.71,0.168-1.089,0.168c-0.266,0-0.525-0.025-0.775-0.084c0.525,1.908,2.059,3.292,3.867,3.33c-1.421,1.29-3.206,2.056-5.142,2.056c-0.331,0-0.663-0.021-0.985-0.065C8.324,24.705,10.504,25.5,12.837,25.5"/></g></g></svg></a>',this._graphics["share-email"]='<a id="share-link-twitter-'+this._videoId+'" target="_blank"><svg version="1.1" id="svg2439" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 439.371 331.469" enable-background="new 0 0 439.371 331.469" xml:space="preserve"><g id="g2449" transform="translate(-145.3305,-145.3305)"><path fill="#FFFFFF" d="M516.516,426.799H216.331V200.334h300.186V426.799z M237.275,405.856h258.298V221.279H237.275V405.856z"/><path id="path2453" fill="#FFFFFF" stroke="#000000" stroke-width="30.655" d="M226.803,210.807"/><path fill="#FFFFFF" d="M366.882,352.684c-9.349,0.001-18.261-3.576-24.451-9.815L221.946,220.78l14.907-14.711l120.465,122.068c2.265,2.283,5.757,3.603,9.563,3.603c3.784,0,7.233-1.29,9.466-3.54l120.388-121.173l14.857,14.761L391.209,342.956C385.079,349.135,376.209,352.684,366.882,352.684z"/><rect x="269.215" y="296.385" transform="matrix(0.7149 0.6993 -0.6993 0.7149 333.1573 -92.2456)" fill="#FFFFFF" width="20.944" height="131.993"/><rect x="389.075" y="352.02" transform="matrix(0.6987 0.7154 -0.7154 0.6987 395.928 -215.1116)" fill="#FFFFFF" width="128.542" height="20.945"/></g></svg></a>'};Kl.prototype={log:function(){this._store.getState().enableLogging&&console.log(...arguments)},init:async function(){var t,i;if(!this._configLoaded)try{const e=await async function(e){var t,i;const n="".concat("https://video-api.wsj.com","/api-video/player/v3/config/").concat(e,".json"),a=await Xo()(n);if(!a.ok)throw new Error("".concat(a.status," ").concat(a.statusText));const r=await a.json();return null!==(t=null==r||null===(i=r.items)||void 0===i?void 0:i[0])&&void 0!==t?t:{}}(this._settings.playerid);this._settings={...this._settings,...e}}catch(e){this.log("Failed to fetch player config",e.message)}finally{this._configLoaded=!0}this._bucket="",console.log("v "+this._version+this._bucket);const n=null!==(t=null===(i=this._serverState)||void 0===i?void 0:i.initialState)&&void 0!==t?t:{isThumbnailVisible:!this._settings.autoplay};this._store=Vl({...n,currentBreakpoint:De(this._width),width:this._width,height:this._height}),this._actions=function(e,t){if("function"==typeof e)return O(e,t);if("object"!=typeof e||null===e)throw new Error(I(16));var i={};for(var n in e){var a=e[n];"function"==typeof a&&(i[n]=O(a,t))}return i}(e,this._store.dispatch),1==this._settings.clickForSound&&(this._actions.mute(),this._actions.showClickForSound()),this.setupPlayer();var a=Se("djadplaynum");""!=a&&(this._adPlayNumber=parseInt(a),isNaN(this._adPlayNumber)&&(this._adPlayNumber=0));var r=Se("djvideovol");""!=r&&this.setVolume(r,!1);var o=Se("djvideolang");""!=o&&(this._langSelected=o),this._iOS&&(this._langSelected="");var s=Se("djvideomute");return""!=s&&1==s&&this._actions.mute(),"function"==typeof this._settings.callback&&this._settings.callback(),this.onHLSMediaAttached=this.onHLSMediaAttached.bind(this),this.onHlsError=this.onHlsError.bind(this),this.onHLSLevelLoaded=this.onHLSLevelLoaded.bind(this),this.onBitrateChange=this.onBitrateChange.bind(this),this.onHLSPlayerBitrateChange=this.onHLSPlayerBitrateChange.bind(this),window.onbeforeunload=this.onPageUnload.bind(this),this},setupPlayer:function(){var e=this;this._container.className=this._container.className+" video-player"+(this._isMobile?" mobile-player":"");const t=function(e){const t={clickForSoundProps:{isCountdownVisible:!0,isLiveButtonVisible:e.enableLiveButton},liveButtonEnabled:e.enableLiveButton,saveToQueueEnabled:"string"==typeof e.saveApiPublication&&Te(),thumbProps:{layout:e.thumbLayout,showFlashLine:e.thumbFlashLine,suppressHeadline:e.suppressHeadline,thumbnailOverride:e.thumb,thumbPreviewEnabled:e.enableThumbPreview},videoProps:{}};return e.enableMoreVideosSlide&&(t.moreVideosSlideProps={hasCMPConsent:e.hasCMPConsent}),e.enableEndScreen&&(t.endscreenProps={playerSettings:e}),(e.disableTitle||e.disableHtmlControls)&&(t.disableTitle=!0),e.disableHtmlControls?t.controlsProps=null:t.controlsProps={enableScrubPreview:e.enableScrubPreview,saveApi:e.saveApi,saveApiPublication:e.saveApiPublication,saveToQueueEnabled:"string"==typeof e.saveApiPublication&&Te()&&null!==Ie()},t}(this._settings);var i,n;(t.useHydrate=void 0!==this._serverState,t.videoId=this._videoId,t.thumbProps.onClick=t=>{"number"==typeof t&&e._settings.startPosition<=0&&(e._formatOverride="user initiated thumbnail preview",e._settings.startPosition=t),e._autoplayed=!1,e.startVideo({fetchAds:!0}),e.muteUnMute(!1,!1,!1)},t.thumbProps.onHoverChange=(e,t)=>{this._appMeasurement&&(Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData.action="video.hover",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.action,eVar27",Hl.eVar27=t,Hl.tl(!0,"o",e?"video_hover_start":"video_hover_end"))},t.countdownProps={videoApiUrl:this._settings.api2,onCountdownComplete(){e.onLiveStateChanged("live"),e.handleLiveUpdates(),e.startVideo()}},t.moreVideosSlideProps&&(t.moreVideosSlideProps.onSlideShowing=this.trackMoreVideosSlide.bind(this),t.moreVideosSlideProps.playVideo=e=>{this._formatOverride="user initiated recommendation",this._settings.guid=e,this.loadVideo({autoStart:!0})}),t.clickForSoundProps.onClicked=this.clickForSoundHandler.bind(this),t.endscreenProps&&(t.endscreenProps.videoApiUrl=this._settings.api2,t.endscreenProps.fields=this._fields,t.endscreenProps.playVideo=this.playSuggestion.bind(this),t.endscreenProps.onEndsceenShown=this.trackEndscreenSlide.bind(this)),t.controlsProps&&(t.controlsProps={...t.controlsProps,isMobile:this._isMobile,onPlayPause:this.playPause.bind(this),onMuteUnMute:this.muteUnMute.bind(this,null,!0,!0),onSetVolume:this.onSetVolume.bind(this),onVolumeControlVisible:this.onVolumeControlVisible.bind(this),onToggleFullScreen:this.toggleFullScreen.bind(this),onSeek:this.onSeek.bind(this),showControls:this.showControls.bind(this,3e3),showShareScreen:this.showHideShareScreen.bind(this),onSaveChange:this.onSaveChange.bind(this)}),t.adProps={onSkip:this.skipAd.bind(this)},"muted"!=this._settings.autoplay||!this._isMobile&&1!=this._settings.clickForSound||(t.videoProps.autoplay=!0,t.videoProps.muted=!0),this._settings.playInline&&(t.videoProps.playsinline=!0),this._settings.loop&&(t.videoProps.loop=!0),this._store.getState().isMuted&&(t.videoProps.muted=!0),function(e,t,i){const n=Bi(Ut,{store:t,children:Bi(Ol,{...i})});i.useHydrate?ge(n,e):(be(e),_e(n,e))}(this._container,this._store,t),Object.defineProperties(this,{_videodata:{get:()=>this._store.getState().videoData},_video:{get:()=>{const e=document.getElementById("videoplayer-"+this._videoId);return e&&!e.scope&&(e.scope=this),e}},_wrapper:{get:()=>{const e=document.getElementById("wrapper-"+this._videoId);return e&&!e.scope&&(e.scope=this),e}},_adContainer:{get:()=>document.getElementById("adContainer-"+this._videoId)}}),this._adContainer.style.display="none",this.setupListeners(!0),this._settings.disableHtmlControls?(document.getElementById("video-controls-container-"+this._videoId).style.display="none",this._settings.fireTv?this._video.controls=!1:this._video.controls=!0):(Object.defineProperties(this,{_adMarkerContainer:{get:()=>document.getElementById("video-ad-marker-container-"+this._videoId)},_ccBtn:{get:()=>document.getElementById("video-cc-"+this._videoId)},_ccList:{get:()=>document.getElementById("captions-list-"+this._videoId)},_controls:{get:()=>{const e=document.getElementById("video-controls-container-"+this._videoId);return e&&!e.hideTime&&(e.hideTime=0),e}},_fullscreenBtn:{get:()=>document.getElementById("video-fullscreen-"+this._videoId)},_playOverlay:{get:()=>document.getElementById("video-play-overlay-"+this._videoId)},_shareBtn:{get:()=>document.getElementById("video-share-b-"+this._videoId)},_shareScreen:{get:()=>document.getElementById("video-share-"+this._videoId)},_timeDisplay:{get:()=>document.getElementById("video-time-"+this._videoId)},_volumeSlider:{get:()=>document.getElementById("video-volume-slider-"+this._videoId)}}),this._ccBtn.style.display="none",this._settings.shareEnabled||(this._shareBtn.style.display="none"),this.addUserEventListeners(),this._video.controls=!1),this._height=this._wrapper.offsetHeight,this._width=this._wrapper.offsetWidth,this._container._self=this,this._container.tabIndex="-1",this._container.resumeVideo=this.eResumeVideo.bind(this),this._container.pauseVideo=this.ePauseVideo,this._container.playVideo=this.ePlayVideo.bind(this),this._container.playPauseVideo=this.ePlayPauseVideo,this._container.killVideo=this.eKillVideo,this._container.loadVideo=this.eLoadVideo,this._container.setMute=this.eMute,this._container.updatePlaylist=this.eUpdatePlaylist,this._container.isPlaying=this.eIsPlaying,this._container.getStatus=this.eGetStatus,this._container.vidoraShownList=this.eVidoraShownList,this._container.seek=this.eSeek.bind(this),this._container.setStickyMode=this.setStickyMode.bind(this),this._settings.guid||""!==this._settings.type&&""!==this._settings.query)&&this.loadVideo({autoStart:!1,progressOnly:!(null===(i=this._serverState)||void 0===i||null===(n=i.initialState)||void 0===n||!n.videoData)});this._iOS?(this._video.addEventListener("webkitendfullscreen",(function(t){e.onScreenChange(t)})),this._video.addEventListener("webkitbeginfullscreen",(function(t){e.onScreenChange(t)}))):this._wrapper.addEventListener(y().raw.fullscreenchange,(function(t){e.onScreenChange(t)})),this._settings.trackInView&&(this._trackInViewListenerReference=this.trackInView.bind(this),window.addEventListener("scroll",this._trackInViewListenerReference)),this._video.style.display="none",this.onResize()},initVideo:function(){this.log("initVideo");var e=this;this._contentInitialized=!1;const{isAdsBlocked:t}=this._store.getState();if(this._settings.adsEnabled&&!t){if("undefined"==typeof google)return this._actions.setIMALoadState(Mi),void this.loadScript(this._settings.imaLibrary,(function(){e._actions.setIMALoadState(Oi),e.initVideo()}),(function(){e._actions.setIMALoadState(Ni),e.initVideo()}))}else this._adContainer.style.display="none";if(this._settings.useHLS){if(void 0===Ul)return this._hlsLoadAttempted=!0,this._actions.setHlsJsLoadState(Mi),void r.e(817).then(function(t){e._actions.setHlsJsLoadState(Oi),Ul=r(67631),window.Hls=Ul,e._settings.useHLS=Ul.isSupported(),e.initVideo()}.bind(null,r)).catch((function(t){console.error(t),e._actions.setHlsJsLoadState(Ni),e._settings.useHLS=!1,e.initVideo()}));this._store.getState().hlsJsLoadState===Di&&this._actions.setHlsJsLoadState(Oi)}this.setupTracking(),this._resizeObserver=new ResizeObserver(this.onResize.bind(this)),this._resizeObserver.observe(this._container),"469"==this._videodata.doctypeID&&(this._settings.chainVideos=!1),"future"!==this._videodata.state&&"live"!==this._videodata.state||Promise.all([r.e(191),r.e(797)]).then((e=>{const t=r(14453).Z;this._liveStateController=new t,"live"!==this._videodata.state||this._store.getState().isCountdownVisible||this.handleLiveUpdates()}).bind(null,r)).catch((e=>{console.error(e)})),this._settings.adsEnabled&&!t&&(this.log("Init ads call",this._settings.autoplay),this.initAds({fetchAds:!this._settings.autoplay})),this.trigger(this._wrapper,"onInitialize",this._videodata),this.createMark("playerReady"),this._settings.autoplay?this.startVideo({fetchAds:!0}):"future"!==this._videodata.state?this.setupThumbnail():this._store.getState().isThumbnailVisible&&this._actions.hideThumbnail()},initAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{fetchAds:t=!1}=e;try{this._adDisplayContainer=new google.ima.AdDisplayContainer(this._adContainer,this._video),this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._settings.vpaidEnabled?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>{this.onAdsManagerLoaded(e)}),!1),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>{this.onAdError(e)}),!1),t&&this.requestAds(!1)}catch(e){console.error("Failed to init ads",e),this._settings.adsEnabled=!1}},addHLSEventListeners:function(){this._hlsPlayer.off(Ul.Events.MANIFEST_LOADED,this.onHLSManifestParsed.bind(this)),this._hlsPlayer.off(Ul.Events.MEDIA_ATTACHED,this.onHLSMediaAttached),this._hlsPlayer.off(Ul.Events.ERROR,this.onHlsError),this._hlsPlayer.off(Ul.Events.LEVEL_LOADED,this.onHLSLevelLoaded),this._hlsPlayer.off(Ul.Events.LEVEL_SWITCHED,this.onBitrateChange),this._hlsPlayer.on(Ul.Events.MANIFEST_LOADED,this.onHLSManifestParsed.bind(this)),this._hlsPlayer.on(Ul.Events.MEDIA_ATTACHED,this.onHLSMediaAttached),this._hlsPlayer.on(Ul.Events.ERROR,this.onHlsError),this._hlsPlayer.on(Ul.Events.LEVEL_LOADED,this.onHLSLevelLoaded),this._hlsPlayer.on(Ul.Events.LEVEL_SWITCHED,this.onHLSPlayerBitrateChange)},onHLSMediaAttached:function(e,t){this._hlsPlayer.loadSource(this._videodata.hlsNoCaptions)},onHLSManifestParsed:function(e,t){this._embeddedCaptions=t.subtitles?t.subtitles:[],this._embeddedCaptions.length>0&&(this._ccBtn.style.display="block",this.onCC())},onHLSLevelLoaded:function(e,t){const i=t.details.totalduration;i>0&&i!==this._store.getState().duration&&"live"!==this._store.getState().videoData.state&&this._actions.updateDuration(i)},onHLSPlayerBitrateChange:function(e,t){this.onBitrateChange(e,t)},onHlsError:function(e,t){if(t.fatal||"bufferAppendingError"==t.details)switch(this._retryLoadAttempts>this._retryLoadAttemptsMax&&(t.type=Ul.ErrorTypes.OTHER_ERROR),this._retryLoadAttempts++,t.type){case Ul.ErrorTypes.MEDIA_ERROR:this._hlsPlayer.recoverMediaError();break;case Ul.ErrorTypes.NETWORK_ERROR:this._hlsPlayer.loadSource(this._videodata.hlsNoCaptions),this._hlsPlayer.startLoad();break;default:this.onFatalVideoError(t.details),this._hlsPlayer.destroy()}},onLoadDjcmp:function(e){if("undefined"!=typeof __ace){this._settings.hasCMPPermutiveConsent=__ace("djcmp","customVendorIsEnabled",["5eff0d77969bfa03746427eb"]);const e=__ace("djcmp","customVendorIsEnabled",["5ed7a9a9e0e22001da9d52ad"]);this._settings.hasCMPAdobeConsent=e,!1===e&&(this._mediaHeartbeat=null)}},setupTracking:function(){var e=this;if(this._settings.hasCMPAdobeConsent="undefined"==typeof __ace||!1!==__ace("djcmp","customVendorIsEnabled",["5ed7a9a9e0e22001da9d52ad"]),!this._mediaHeartbeat&&this._settings.hasCMPAdobeConsent){this._account=this.getTrackingAccount();var t=a.va.MediaHeartbeat,i=a.va.MediaHeartbeatConfig,n=a.va.MediaHeartbeatDelegate,r=Visitor.getInstance("CB68E4BA55144CAA0A4C98A5@AdobeOrg",{trackingServer:"om.dowjoneson.com",trackingServerSecure:"oms.dowjoneson.com",marketingCloudServer:"om.dowjoneson.com",marketingCloudServerSecure:"oms.dowjoneson.com"});Hl=E(this._account),Hl.visitor=r,Hl.expectSupplementalData=!1,this._appMeasurement=new b,this._appMeasurement.visitor=r,this._appMeasurement.trackingServer=Hl.trackingServer="om.dowjoneson.com",this._appMeasurement.trackingServerSecure=Hl.trackingServerSecure="oms.dowjoneson.com",this._appMeasurement.account=this._account,this._appMeasurement.expectSupplementalData=!1,this._mediaHeartbeatConfig=new i,this._mediaHeartbeatConfig.trackingServer="dowjones.hb.omtrdc.net",this._mediaHeartbeatConfig.playerName="Web",this._settings.fireTv&&(this._mediaHeartbeatConfig.playerName="Amazon Fire TV"),this._mediaHeartbeatConfig.channel=this.getChannel(),this._mediaHeartbeatConfig.debugLogging=!1,this._mediaHeartbeatConfig.appVersion="v "+this._version,this._mediaHeartbeatConfig.ssl=!0,this._mediaHeartbeatConfig.ovp="Custom Html Player",this._appMeasurement.pageName=this.getPageName(),this._mediaHeartbeatDelegate=new n,this._mediaHeartbeatDelegate.getCurrentPlaybackTime=function(){return e._currentTime},this._mediaHeartbeatDelegate.getQoSObject=function(){var i=e.getQOSData();return t.createQoSObject(i.bitrate,i.startuptime,i.fps,i.droppedframes)},this._mediaHeartbeat=new t(this._mediaHeartbeatDelegate,this._mediaHeartbeatConfig,this._appMeasurement),this._settings.trackInView&&this.trackInView()}this.convivaVideoAnalytics||(c().Analytics.init(this._convivaProdCustomerKey),this.convivaVideoAnalytics=c().Analytics.buildVideoAnalytics(),c().Analytics.setDeviceMetadata(this.getConvivaMetaData().device),this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.RESOLUTION,this._store.getState().width,this._store.getState().height),this.convivaVideoAnalytics.setCallback(function(){this._video&&(this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.BUFFER_LENGTH,this._video.buffered.length),this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAY_HEAD_TIME,this._store.getState().currentPosition),this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.RENDERED_FRAMERATE,30),this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.DROPPED_FRAMES_COUNT,this.getQOSData().droppedframes))}.bind(this)),this.convivaVideoAnalytics.setPlayer(this._video))},getTrackingAccount:function(){let e="djglobal";try{-1!==(window.location!=window.parent.location?document.referrer:document.location.href).indexOf("mansionglobal.com")&&(e="djmansionglobal")}catch(e){this.log("Failed to parse mansion global tracking")}return e},onCCSelected:function(e,t,i){var n,a=this;if(this._langSelected=e,i&&(document.cookie="djvideolang="+this._langSelected+"; path=/"),this._videodata&&this._appMeasurement){var r=""===e?"CC OFF":"CC ON "+e;Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.video.closed.captioning,contextData.action,eVar15",Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData["video.closed.captioning"]=r,Hl.contextData.action="video.closed.captioned",Hl.eVar15=r,Hl.tl(!0,"o",""===e?"heartbeat_video closed captioned off":"heartbeat_video closed captioned on")}for(;this._video.firstChild;)this._video.removeChild(this._video.firstChild);for(var o=0;o<this._video.textTracks.length;o++)this._video.textTracks[o].mode=""!==e?"showing":"disabled";""===e?this._actions.hideClosedCaptions():this._actions.showClosedCaptions(),(n=document.createElement("track")).embeded=!1,n.kind="subtitles",n.label="English",n.srclang="en",n.id=t,this._video.appendChild(n),this._video.tTrack=n,n.addEventListener("load",(function(){for(var t=0;t<a._video.textTracks.length;t++)a._video.textTracks[t].label===e&&""!==a._video.textTracks[t].id?a._video.textTracks[t].mode="showing":a._video.textTracks[t].mode="disabled";try{var i=a._video.textTracks[0].cues;for(v in i)"auto"==i[v].line&&(i[v].line=-5)}catch(e){}})),n.addEventListener("error",(function(e,t){console.log("Captions failed to load.")}));try{for(o=0;o<a._video.textTracks.length;o++)""!==this._video.textTracks[o].id&&(this._video.textTracks[o].mode="showing")}catch(e){}n.src=t,this.onCloseCC()},loadCaptions:function(){for(this._availableCaptions=[];this._video.firstChild;)this._video.removeChild(this._video.firstChild);if(this._ccBtn.style.display="none",this._ccBtn&&this._video.textTracks.length>0&&(this._ccBtn.style.display="block"),this._videodata.forceClosedCaptions?""==this._langSelected&&(this._langSelected="English"):this._langSelected=Se("djvideolang"),this.onCCSelected(this._langSelected,"",!1),this._videodata.captionsVTT){var e=this._videodata.captionsVTT;for(const t of e){const e={id:t.url,lang:t.label};fetch(t.url).then((t=>{if(!t.ok)throw new Error("Failed to fetch caption");this._ccBtn&&(this._ccBtn.style.display="block"),this._availableCaptions.push(e),this._availableCaptions.length<2&&""!=this._langSelected&&(this._ccBtn.innerHTML=this._graphics["cc-active"]),e.lang==this._langSelected&&this.onCCSelected(e.lang,e.id,!1)})).catch((()=>console.log("Captions failed to load.")))}}},setStickyMode:function(e){this._actions.setStickyMode(e)},eVidoraShownList:function(e){for(gid in e)try{this._settings.hasCMPConsent&&window.vidora.push(["send","shown",e[gid]])}catch(e){}},waitForAd(){return new Promise(((e,t)=>{const{adInitState:i}=this._store.getState();if(i!==Mi||this._adInitUnsubscribe)i===Ni?t():e();else{const i=()=>{const{adInitState:i}=this._store.getState();i!==Mi&&(this._adInitUnsubscribe(),this._adInitUnsubscribe=null,i===Oi?e():t())};this._adInitUnsubscribe=this._store.subscribe(i)}}))},startAd:function(){this._actions.startAdMode(),this._adsManager.init(this._width,this._height,google.ima.ViewMode.NORMAL),this._adsManager.start()},startVideo:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{fetchAds:i=!1,isRetry:n=!1}=t,{adInitState:a,isAdsBlocked:r,isMuted:o}=this._store.getState();if("future"==this._videodata.state)return;this._playRequested=!0,n||(this.setupListeners(!0),this.onNewVideo(),this.setVideoSource(),this._actions.hideThumbnail(),this._actions.startVideoPlaybackInit(),this._sizeTimer||(this._sizeTimer=setInterval(this.checkStatus.bind(this),500)),r&&this.onAdError(null)),this._video.style.display="none","live"==this._videodata.state&&this._controls&&(this._shareBtn.style.display="none"),("muted"==this._settings.autoplay||o)&&(this._video.volume=0,this._video.muted=!0,this._actions.mute(),this.onMuteUnMute(this)),this._settings.adsEnabled&&!r&&this._adDisplayContainer.initialize(),this._video.load();const s=null!==(e=this._video.play())&&void 0!==e?e:Promise.resolve();s.then((()=>this.onSuccessfulPlayback(i))).catch((e=>{this._actions.endVideoPlaybackInit(),this._actions.setAdError(!1),"NotSupportedError"==e.name?this.onFatalVideoError(e.name):(this.onNonFatalVideoError("Failed to autoplay video unmuted.  Retrying."),!0===this._settings.autoplay?(this._settings.autoplay="muted",t.isRetry=!0,this.startVideo(t)):(this.onNonFatalVideoError("Failed to autostart"),this.setupThumbnail()))}))},onSuccessfulPlayback:function(e){if(this._settings.autoplay&&void 0===this._autoplayed&&(this._autoplayed=!0),this.trackInit(),"muted"===this._settings.autoplay){if(this.convivaVideoAnalytics){const e="Muted Autoplay",t={};this.convivaVideoAnalytics.reportPlaybackEvent(e,t)}this._actions.showClickForSound()}this._actions.setFocus("play-button"),!this._settings.adsEnabled||this._store.getState().isAdsBlocked||this._settings.clickForSound||"1"===this._videodata.catastrophic||"catastrophic"===this._videodata.adCategory||!1===this._videodata.adsAllowed||!1!==this._store.getState().imaAdErrorState?(this._actions.endVideoPlaybackInit(),this._actions.setAdError(!1),this._video.style.display="block"):(this._video.pause(),e&&this._store.getState().adInitState!==Mi&&this.requestAds(!1),this._settings.autoplay=!0,this.waitForAd().then((()=>{this.startAd()})).catch((()=>{this._actions.endVideoPlaybackInit(),this._actions.setAdError(!1),this._video.style.display="block",this._video.play()})))},setVideoSource:function(){var e=this;if(this._hlsAvailable=!1,this._iOS||this._settings.fireTv||this._isSafariMac)-1!==this._settings.startPosition?this._video.setAttribute("src",this._videodata.hlsNoCaptions+"#t="+this._settings.startPosition):this._video.setAttribute("src",this._videodata.hlsNoCaptions),this._settings.startPosition=-1;else if(this._settings.useHLS&&e._videodata.hlsNoCaptions&&!e._videodata.hlsNoCaptions.includes("wsjvod-i.akamaihd.net"))if(this._hlsPlayer){var t=function(){e._hlsPlayer.off(Ul.Events.MEDIA_DETACHED,t),e._video.src=e._videodata.hlsNoCaptions,e._hlsPlayer=new Ul(e.hlsConfig),e.addHLSEventListeners(),e._hlsPlayer.attachMedia(e._video)};this._hlsPlayer.on(Ul.Events.MEDIA_DETACHED,t),this._hlsPlayer.destroy()}else this.hlsConfig.startPosition=this._settings.startPosition,this._hlsPlayer=new Ul(this.hlsConfig),this._settings.startPosition=-1,this.addHLSEventListeners(),this._hlsPlayer.attachMedia(this._video);else this._videodata.video664kMP4Url?this._video.setAttribute("src",this._videodata.video664kMP4Url):this._videodata.videoMP4List[2]?this._video.setAttribute("src",this._videodata.videoMP4List[2].url):this._video.setAttribute("src",this._videodata.videoMP4List[0].url);this.onResize()},getQOSData:function(){var e={};if(this._hlsPlayer){if(-1!=this._hlsPlayer.currentLevel)e={bitrate:this._hlsPlayer.levelController._levels[this._hlsPlayer.currentLevel].bitrate,startuptime:this._startupTime,fps:30,droppedframes:this._hlsDroppedFrames}}else if(this._video.videoWidth){var t=[{w:416,b:464},{w:640,b:1264},{w:960,b:1864},{w:1280,b:2564},{w:1920,b:5064}],i=0;for(var n in t)t[n].w<=this._video.videoWidth&&(i=t[n].b);e={bitrate:i,startuptime:this._startupTime,fps:30,droppedframes:0}}return e},onLiveStateChanged:function(e){const{videoData:t}=this._store.getState();t.state=e,this._actions.updateVideoData(t),this.initVideo(),this.trigger(this._wrapper,"onLiveStateChanged",t)},trackAdsDisabled:function(e,t){var i=a.va.MediaHeartbeat,n=i.createAdBreakObject("pre-roll",1,0),r={"ad.blank.start":"false","a.media.ad.podFriendlyName":"pre-roll","ad.catastrophic.blocker":e,"ad.disabled":"true"},o=i.createAdObject("Catastrophic","Catastrophic",1,0),s={};s[i.AdMetadataKeys.ADVERTISER]="",s[i.AdMetadataKeys.CAMPAIGN_ID]="",o.setValue(i.MediaObjectKey.StandardAdMetadata,s),this._mediaHeartbeat&&(this._mediaHeartbeat.trackError("Ad_catastrophic: "+e),this._mediaHeartbeat.trackEvent(i.Event.AdBreakStart,n),this._mediaHeartbeat.trackEvent(i.Event.AdStart,o,r),this._mediaHeartbeat.trackEvent(i.Event.AdComplete),this._mediaHeartbeat.trackEvent(i.Event.AdBreakComplete))},checkStatus:function(){this._controls&&this._wrapper.parentElement&&this._wrapper.parentElement.querySelector(":hover")!==this._wrapper&&this.onCloseCC()},loadVideo:function(e){let{autoStart:t,progressOnly:i}=e;this.log("loadVideo"),this._video.pause(),this._adsManager&&this._adsManager.stop();let n=Promise.resolve();if(!i){this._actions.setVideoApiLoadState(Mi);const e={fb:this._settings.fallback,stage:this._settings.videoApiEnv};this._settings.guid?(e.type="guid",e.query=this._settings.guid):""!==this._settings.type&&""!==this._settings.query&&(e.type=this._settings.type,e.query=this._settings.query,""!==this._settings.groupId&&(e.groupid=this._settings.groupId)),n=$o(e).then((e=>{var t;const i=null!==(t=e[0])&&void 0!==t?t:{};if(i.error)throw new Error(i.error);if(this._container.setAttribute("aria-label",i.name),this._settings.msrc&&(i.msrc=this._settings.msrc),this._actions.updateVideoData(i),"vr"==i.format)throw this.displayVrMsg().bind(this),new Error("VR not supported");this._actions.setVideoApiLoadState(Oi)})).catch((e=>{this.log("Failed to fetch video data: ".concat(e.message)),this.onFatalVideoError(e.message),this._actions.setVideoApiLoadState(Ni)}))}let a=Promise.resolve();var r,o;return this._saveProgressEnabled&&(this.log("Fetching current progress"),a=(r=this._settings.guid,o=jl,null===Xi?Promise.reject(new Error("Invalid save api")):fetch("".concat(Xi,"/").concat(r,"/progress?pub=").concat(o),{credentials:"include"}).then((e=>{if(e.ok)return e.json();throw Error("Cannot receive progress")}))).then((e=>{let{progress:t}=e;this.log("Current progress = ",t),-1===this._settings.startPosition&&(this._settings.startPosition=t,this._lastSaveProgressTimestamp=t)})).catch((e=>this.log("Failed to load progress",e)))),Promise.all([n,a]).then((()=>{t?this.startVideo({fetchAds:!0}):this.initVideo()}))},getAdTag:function(e){var t=new google.ima.AdsRequest;if(this._settings.adTag)t.adTagUrl=this._settings.adTag;else{var i=[];""!=this._settings.site&&void 0!==this._settings.site?i.site=this._settings.site:i.site="video.wsj.com",this._settings.plid?i.plid=this._settings.plid:this._videodata.plid?i.plid=this._videodata.plid:i.plid="video_articleembed",i.gptParams=this._videodata.gptCustParams,this._settings.lnid&&(i.gptParams=i.gptParams.replace(/lnid.*%26/,"lnid%3D"+this._settings.lnid+"%26")),i.gptParams+="string"==typeof this.getParameterByName("mod")?"%26mod%3D"+this.getParameterByName("mod"):"",i.gptParams+=this.getAdData();var n="%26sub%3Dno";try{Se("REMOTE_USER")&&(n="%26sub%3Dyes")}catch(e){}var a="";this._settings.msrc&&(a="%26msrc%3D"+this._settings.msrc);var r="Cheddar"==this._videodata.column?"/Cheddar":"",o=((new Date).getTime(),encodeURIComponent(this._videodata.linkURL)),s="&vpos=preroll";e&&(s="&vpos=midroll",i.gptParams+="%26mrtimeindex%3D"+parseInt(this._currentTime));try{if(window.__ace){var l,c,d;const e=window.__ace("dataProvider","getData",["pageTargeting",{source:"permutive"}]);i.gptParams+=null!=e&&null!==(l=e.data)&&void 0!==l&&l.permutive?"%26permutive%3D"+e.data.permutive.join("%2C"):"",i.gptParams+=null!=e&&null!==(c=e.data)&&void 0!==c&&c.puid?"%26puid%3D"+e.data.puid:"",i.gptParams+=null!=e&&null!==(d=e.data)&&void 0!==d&&d.ptime?"%26ptime%3D"+e.data.ptime:""}}catch(e){console.error("failed applying permutive ad params.")}this._store.getState().isMuted?(i.gptParams+="%26muted%3D1",t.setAdWillAutoPlay(!0),t.setAdWillPlayMuted(!0)):i.gptParams+="%26muted%3D0",t.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=4x4&gdfp_req=1&iu=/2/"+i.site+r+"&ciu_szs=300x50,300x600,300x250&url=[referrer_url]&correlator=[timestamp]&env=vp&unviewed_position_start=1&output=vast&description_url="+o+"&impl=s&hl=en"+s+"&cust_params="+i.gptParams+a+"%26adview%3D"+this._adPlayNumber+n+"%26flash%3Dno%26plid%3D"+i.plid}return t.adType="video",t},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},setupThumbnail:function(e){this._store.getState().isThumbnailVisible||this._actions.showThumbnail(),this._playOverlay&&(this._playOverlay.style.display="none"),this.onResize()},showError:function(e){this._wrapper.innerHTML='<div class="videoErrorMsg"><div>We are sorry, we are unable to load this video.<br />'+e+"</div></div>"},requestAds:function(e){var t=this.getAdTag(e);this.log("Ads request object",t),this._adTagUsed=t.adTagUrl,this.convivaAdStart(),t.linearAdSlotWidth=this._width,t.linearAdSlotHeight=this._height-40,t.nonLinearAdSlotWidth=this._width,t.nonLinearAdSlotHeight=this._height-40,this._adsLoader.requestAds(t),this.startAdTimeoutTimer(),this.trigger(this._wrapper,"adRequested"),this._actions.setAdInitState(Mi)},onAdsManagerLoaded:function(e){if(this._actions.setAdInitState(Oi),this._adTimeoutTimer&&(clearInterval(this._adTimeoutTimer),1==this._adTimeoutFail))return void(this._adTimeoutFail=!1);var t=new google.ima.AdsRenderingSettings;t.enablePreloading=!0,t.loadVideoTimeout=5e3,t.mimeTypes=["video/mp4"],t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.uiElements=[google.ima.UiElements.AD_ATTRIBUTION],this._adsManager=e.getAdsManager(this._video,t),this._store.getState().isMuted?this._adsManager.setVolume(0):this._adsManager.setVolume(this._volume),this._adsManager.setVolume(0),this.addListeners();const i={adsManager:this._adsManager,reduxStore:this._store,onAdDisconnect:()=>{console.warn("Ad disconnect"),this._adsManager.destroy(),this._adsLoader.destroy(),this._adDisplayContainer.destroy(),this.onAdRemoved(),this._video.play(),this.initAds()}};this._adHealthObserver=new Fl(i)},onBuffering:function(e){var t=this;t._mediaHeartbeat||(t=t.scope),t._store.getState().isBuffering||t._actions.buffering(),"stalled"!=e.type&&"waiting"!==e.type||(t._isStalled=!0,t._mediaHeartbeat&&t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.BufferStart),t.convivaVideoAnalytics&&t.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.BUFFERING))},onAdBuffering:function(e){this._actions.adBuffering(),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.BUFFERING)},onVideoResize:function(e){if(this.convivaVideoAnalytics){var t=this.getQOSData();this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.BITRATE,t.bitrate)}},async saveProgress(e){this._lastSaveProgressTimestamp=e;const{guid:t,state:i}=this._store.getState().videoData;if(this._saveProgressEnabled&&"vod"===i)try{this.log("Saving progress",e),await function(e,t,i){return null===Xi?Promise.reject(new Error("Invalid save api")):fetch("".concat(Xi,"/progress"),{method:"POST",body:JSON.stringify({contentId:e,pub:t,progress:i}),headers:{"content-type":"application/json"},credentials:"include"}).then((e=>{if(!e.ok)throw new Error("Failed to save progress")}))}(t,jl,e)}catch(e){this.log("Failed to save progress",e)}},onProgress:function(e){if(this.scope||(this.scope=this),this.scope._video&&(this.scope._isStalled&&this.scope._mediaHeartbeat&&this.scope._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.BufferComplete),this.scope._isStalled=!1,!this.scope._store.getState().isAdMode)){this.scope._store.getState().isBuffering&&4===this.readyState&&this.scope._actions.canPlay();var t=this.scope._store.getState().duration,n=this.scope._video.currentTime;this.scope._currentTime=n;var r=this.scope._currentTime/t*100;if(this.scope.trackProgress(r,this.scope._currentTime),this.scope._actions.updateProgress(this.scope._currentTime),this.scope._lastSaveProgressTimestamp+10<n&&this.scope.saveProgress(n),("live"==this.scope._videodata.state||"flive"==this.scope._videodata.state)&&this.scope._controls)return void(this.scope._shareBtn.style.display="none");const{isAdsBlocked:e}=this.scope._store.getState();if(this.scope._settings.adsEnabled&&!e)for(i in this.scope._midRolls)if(this.scope._currentTime>=this.scope._midRolls[i]){this.scope._midRolls.splice(i,1),this.scope._midrollRequested||(this.scope._midrollRequested=!0,this.scope._video.paused,this.scope.createAdLoadingScreen(),this.scope.requestAds(!0),this.scope.waitForAd().then((()=>{this.scope.startAd()})).catch((()=>{this.scope._actions.endVideoPlaybackInit(),this.scope._actions.setAdError(!1),this.scope._video.style.display="block",this.scope._video.play()})));break}}},generateMidrollMarkers:function(){const{duration:e}=this._store.getState();for(i in this._midRolls){var t=parseInt(this._midRolls[i]/e*this._width);this._adMarkerContainer.insertAdjacentHTML("afterbegin",'<div class="ad-midroll-marker" style="left:'+t+'px;" data-adTime="'+this._midRolls[i]+'"></div>')}},createAdLoadingScreen:function(){this._adContainer.insertAdjacentHTML("beforeBegin",'<div class="ad-loading-screen" id="ad-loading-screen-'+this._videoId+'"><div class="video-loading"><div class="video-loading-inner"></div></div><span>Advertisement loading.  Please Wait.</span></div>'),this._adLoadingScreen=document.getElementById("ad-loading-screen-"+this._videoId)},onLoadedMetadata:function(e){this.onDurationChange(e),-1!==this._settings.startPosition&&(this._video.currentTime=this._settings.startPosition,this._settings.startPosition=-1)},onDurationChange:function(e){this._video.duration>0&&this._video.duration!==this._store.getState().duration&&this._actions.updateDuration(this._video.duration)},onNewVideo:function(){if(this._completeCalled=!1,this._contentStartTracked=!1,this._contentInitialized=!0,this._adErrorTracked=!1,this._adStarted=!1,this._retryLoadAttempts=0,this.trigger(this._wrapper,"newVideo",this._videodata),this.trigger(this._wrapper,"onNewVideo",this._videodata),"1"===this._videodata.catastrophic&&(this._adContainer.style.display="none",this._video.style.display="block"),"string"==typeof this._videodata.chapterTimes&&this._videodata.chapterTimes.length>0&&this._settings.adsEnabled){var e=this._videodata.chapterTimes.split(",");for(i in e)this._midRolls[i]=parseInt(e[i]);this.generateMidrollMarkers()}!1!==this._adErrorEvent&&(this._adErrorEvent=!1,this.onAdError(this._adErrorEvent)),this._trackingMilestones=this._trackingMilestonesAdvertisment=[!1,!1,!1,!1],this._pingMilestone=-1,this._settings.thumb=!1,this._controls&&(this._controls.hideTime=0,be(this._adMarkerContainer)),this._settings.enableCaptions?this.loadCaptions():this._ccBtn&&(this._ccBtn.style.display="none")},setupListeners:function(e){this._video&&(this._video.removeEventListener("durationchange",this.onDurationChange.bind(this)),this._video.removeEventListener("loadedmetadata",this.onLoadedMetadata.bind(this)),this._video.removeEventListener("timeupdate",this.onProgress),this._video.removeEventListener("error ",this.onFatalVideoError.bind(this)),this._video.removeEventListener("waiting",this.onBuffering),this._video.removeEventListener("playing",this.onPlaying.bind(this)),this._video.removeEventListener("play",this.onPlay),this._video.removeEventListener("canplay",this.onCanPlay),this._video.removeEventListener("canplaythrough",this.onCanPlay),this._video.removeEventListener("pause",this.onPaused.bind(this)),this._video.removeEventListener("ended",this.onVideoComplete),this._video.removeEventListener("resize",this.onVideoResize),this._video.removeEventListener("seeked",this.onVideoSeeked.bind(this)),window.document.removeEventListener("visibilitychange",this.onVisibilityChanged.bind(this)),this._isMobile?this._video.addEventListener("resize",this.onVideoResize):(this._wrapper.addEventListener("mouseleave",this.onRollOut),this._wrapper.addEventListener("mousemove",this.onMouseMove)),e&&(this._video.addEventListener("durationchange",this.onDurationChange.bind(this)),this._video.addEventListener("loadedmetadata",this.onLoadedMetadata.bind(this)),this._video.addEventListener("timeupdate",this.onProgress),this._video.addEventListener("error ",this.onFatalVideoError.bind(this)),this._video.addEventListener("waiting",this.onBuffering),this._video.addEventListener("playing",this.onPlaying.bind(this)),this._video.addEventListener("play",this.onPlay),this._video.addEventListener("pause",this.onPaused.bind(this)),this._video.addEventListener("ended",this.onVideoComplete),this._video.addEventListener("seeked",this.onVideoSeeked.bind(this)),this._video.addEventListener("canplay",this.onCanPlay),this._video.addEventListener("canplaythrough",this.onCanPlay),window.document.addEventListener("visibilitychange",this.onVisibilityChanged.bind(this))))},videoClickEvent:function(e){this.playPause(e)},checkSpaceInteraction:function(e){return"false"!==e.target.dataset.space},addUserEventListeners:function(){var e=this;e._container.onkeydown=function(t){switch((t=t||window.event).key){case"Escape":this.onEscapeKey();break;case"ArrowLeft":this.onLeftKey(t);break;case"ArrowRight":this.onRightKey(t);break;case" ":this.checkSpaceInteraction(t)&&(t.preventDefault(),this.playPause());break;case"ArrowUp":t.preventDefault(),e.setVolume(e._volume+.1,!0);break;case"ArrowDown":t.preventDefault(),e.setVolume(e._volume-.1,!0)}}.bind(this),this._shareBtn.addEventListener("click",(function(t){e.showSharing(t)})),this._controls&&(this._isMobile?(this._video.addEventListener("click",this.mobileClick.bind(this),!1),this._adContainer.addEventListener("click touchstart touchmove touchend",this.mobileAdContainerClick.bind(this),!1)):(this._iOS&&this._adContainer.addEventListener("click touchstart touchmove touchend",this.mobileAdContainerClick.bind(this),!1),this._video.addEventListener("click",this.videoClickEvent.bind(this),!1),this._video.addEventListener("dblclick",this.toggleFullScreen.bind(this),!1))),document.addEventListener("mousedown",(function(t){e._container.classList.remove("show-focus")})),document.addEventListener("keydown",(function(t){e._container.classList.add("show-focus")})),this._container.addEventListener("keyup",function(e){this.showControls(4e3)}.bind(this)),this._container.addEventListener("onMuteUnMute",(function(t){e.onMuteUnMute(e)})),this._ccBtn.addEventListener("click",(function(t){e.onCC(e)})),this._adContainer.addEventListener("click",(function(e){return!1}));try{document.addEventListener(y().raw.fullscreenchange,(function(){e.onResize()}))}catch(e){}},mobileClick:function(e){if(this._controls){const{isControlsVisible:e}=this._store.getState();e?(this.playPause(),this._actions.hideControls()):this.showControls(3e3)}},mobileAdContainerClick:function(e){return e.preventDefault(),!1},onSetVolume:function(e){this.setVolume(e,!0)},onVolumeControlVisible:function(e){this._actions.setVolumeControlVisibility(e)},onCloseCC:function(){this._ccList.active=!1,this._ccList.style.maxHeight="0",this._ccList.innerHTML=""},onCC:function(e){if(this._availableCaptions.length>1){if(this._ccList.active)return void this.onCloseCC();this._ccList.active=!0;var t=this;this._ccList.innerHTML="";var n='<ul class="ccList">',a="";for(""==this._langSelected&&(a="selected"),n+='<li class="captionBtn '+a+'"><a data-lang="" data-id="" class="clink">No Captions</a></li>',i=0;i<this._availableCaptions.length;i++)a="",this._langSelected==this._availableCaptions[i].lang&&(a="selected"),n+='<li class="captionBtn '+a+'"><a data-lang="'+this._availableCaptions[i].lang+'" data-id="'+this._availableCaptions[i].id+'" class="clink">'+this._availableCaptions[i].lang+"</a></li>";n+="</ul>",this._ccList.innerHTML=n,this._ccList.style.maxHeight=30*this._availableCaptions.length+30+"px",this._ccList.hasListener||(this._ccList.hasListener=!0,this._ccList.addEventListener("click",(function(e){e.target.classList.contains("clink")&&t.onCCSelected(e.target.getAttribute("data-lang"),e.target.getAttribute("data-id"),!0)})))}else""!=this._langSelected?(this._ccBtn.style.opacity=.8,this.onCCSelected("","",!0),this._ccBtn.innerHTML=this._graphics.cc):(this._ccBtn.style.opacity=1,this._availableCaptions[0]?this.onCCSelected(this._availableCaptions[0].lang,this._availableCaptions[0].id,!0):this._embeddedCaptions[0]&&this.onCCSelected(this._embeddedCaptions[0].lang,"",!0),this._ccBtn.innerHTML=this._graphics["cc-active"])},onEscapeKey:function(e){this._shareScreen&&(this.showHideShareScreen(!1),this._shareBtn.focus())},onLeftKey:function(e){var t=0;t=e.shiftKey?this._video.currentTime-15<=0?0:this._video.currentTime-15:this._video.currentTime-5<=0?0:this._video.currentTime-15,this.eSeek(t)},onRightKey:function(e){var t=0;t=e.shiftKey?this._video.currentTime+15>=this._video.duration?this._video.duration-5:this._video.currentTime+15:this._video.currentTime+5<=this._video.duration?this._video.currentTime+5:this._video.duration,this.eSeek(t)},onSpaceBarKey:function(e){this.playPause(),e.preventDefault()},onPlay(){this.scope._actions.playVideo()},onCanPlay(){this.scope._store.getState().isBuffering&&this.scope._actions.canPlay()},showControls:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;clearTimeout(this._hideControlsTimer);const{isControlsVisible:t,isCountdownVisible:i}=this._store.getState();t||i||this._actions.showControls();const n=()=>{const{isPlaying:e,isAdMode:t,isAdPlaying:i}=this._store.getState();!e||t&&!i||(this._actions.hideControls(),this._wrapper&&this._wrapper.classList.add("nocursor"))};0!==e?this._hideControlsTimer=setTimeout(n,e):n()},onMouseMove:function(e){this.scope.showControls(3e3),this.scope._wrapper&&this.scope._wrapper.classList.remove("nocursor")},onRollOut:function(e){clearTimeout(this.scope._hideControlsTimer);const{isPlaying:t,isAdMode:i,isAdPlaying:n}=this.scope._store.getState();(t||i&&n)&&this.scope._actions.hideControls()},onVideoSeeked:function(e){this._mediaHeartbeat&&this._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.SeekComplete),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.SEEK_ENDED,this._store.getState().position)},onVideoComplete:function(e){try{this.scope._comscoreTag.stop()}catch(e){this.log(e)}this.scope._adsLoader&&this.scope._adsLoader.contentComplete(),this.scope._mediaHeartbeat&&this.scope._mediaHeartbeat.trackComplete(),this.scope.sendOptimizelyBeacon("complete"),this.scope.sendPermutiveTracking("VideoProgress",100),this.scope.convivaVideoAnalytics&&(this.scope.convivaVideoAnalytics.reportPlaybackEnded(),this.scope.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.STOPPED));try{this._moatManager.dispatchEvent({type:"AdStopped",adVolume:this._volume})}catch(e){}this.scope._store.getState().isAdMode||(this.scope.saveProgress(0),this.scope._settings.chainVideos?(this.scope._video.pause(),this.scope._iOS&&this.scope._video.webkitExitFullScreen(),this.scope.chainVideo()):this.scope._settings.resetOnComplete?(this.scope.setupThumbnail(),this.scope._iOS&&this.scope._video.webkitExitFullScreen(),this.scope._contentInitialized=!1):(this.scope._video.currentTime=0,this.scope._video.pause())),this.scope.trigger(this.scope._wrapper,"videoComplete",{guid:this.scope._videodata.guid}),this.scope.trigger(this.scope._wrapper,"onVideoComplete",{guid:this.scope._videodata.guid})},chainVideo:function(){this._isChained=!0;const{playlist:e}=this._store.getState();if(e.length>0){const t=e[0];this._actions.updateVideoData(t),this._container.setAttribute("aria-label",t.name),this._settings.guid=t.guid,this._settings.disableChainPlay?this.trigger(this._wrapper,"onSuggestionPlay",t):this.loadVideo({autoStart:!0}).then(this._actions.dequeuePlaylist).catch(console.error)}else Ae(this._settings.api2,this._settings,this._store.getState().videoData,this._fields).then((e=>{e&&e.length>0&&(this._actions.replacePlaylist(e),this.chainVideo())})).catch(console.error)},onVisibilityChanged:function(e){this._isMobile&&("hidden"==window.document.visibilityState&&c().Analytics.reportAppBackgrounded(),"visible"==window.document.visibilityState&&c().Analytics.reportAppForegrounded())},onPlaying:function(e){if("live"!==this._store.getState().videoData.state&&this._actions.updateDuration(this._video.duration),this._actions.playVideo(),this._isStalled=!1,!this._playRequested)return this._video.pause(),void(this._playRequested=!0);if(this._controls&&this._isMobile&&this.showControls(3e3),this._playOverlay&&(this._playOverlay.style.display="none"),this._contentStartTracked&&this._mediaHeartbeat&&this._mediaHeartbeat.trackPlay(),this.convivaVideoAnalytics){this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.PLAYING);const e=this.getQOSData();this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.BITRATE,Math.round(parseInt(e.bitrate)/1e3))}try{this._comscoreTag.playContentPart(this._comscoreMeta)}catch(e){this.log(e)}try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:this.eIsPlaying(),isFullscreen:this._isFullScreen})}catch(e){this.log(e)}try{if("undefined"!=typeof PARSELY){var t=window!=window.top?this._videodata.linkURL:document.location.href;PARSELY.video.trackPlay(this._videodata.guid,{title:this._videodata.name,section:this._tObject.eVar20,pub_date_tmsp:Date.now(),authors:this._videodata.author.toString(),image_url:this._videodata.videoStillURL,tags:[this._tObject.eVar70,this._store.getState().duration]},t)}}catch(e){this.log(e)}},onBitrateChange:function(e,t){try{var i,n;if(null!==(i=this._hlsPlayer)&&void 0!==i&&null!==(n=i.levels)&&void 0!==n&&n[t.level]){var r=this.getQOSData();this._mediaHeartbeat&&this._sessionStarted&&this._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.BitrateChange,r),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.BITRATE,Math.round(parseInt(r.bitrate)/1e3))}}catch(e){this.log(e)}},onPageUnload:function(e,t){try{this.convivaAdAnalytics.release(),this.convivaVideoAnalytics.release(),c().Analytics.release()}catch(e){this.log(e)}},onPaused:function(e){this._actions.pauseVideo(),this._controls&&this._isMobile&&this._actions.showControls(),this._timePaused=new Date,this._playOverlay&&(this._playOverlay.style.display="block"),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.PAUSED);try{this._comscoreTag.stop()}catch(e){this.log(e)}try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:this.eIsPlaying(),isFullscreen:this._isFullScreen})}catch(e){this.log(e)}try{if(PARSELY){var t=window!=window.top?this._videodata.linkURL:document.location.href;PARSELY.video.trackPause(this._videodata.guid,{title:this._videodata.name,urlOverride:window.location!=window.parent.location?document.referrer:document.location.href,section:this._tObject.eVar20,pub_date_tmsp:Date.now(),authors:this._videodata.author.toString(),image_url:this._videodata.videoStillURL,tags:[this._tObject.eVar70,this._store.getState().duration]},t)}}catch(e){this.log(e)}},onSeek:function(e){var t=Math.round(this._store.getState().duration*e);t>this._store.getState().duration-10&&(t=this._store.getState().duration-5),this._mediaHeartbeat&&this._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.SeekStart),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.SEEK_STARTED,this._store.getState().position),this._actions.updateProgress(t),this._lastSaveProgressTimestamp=t,this._video.currentTime=t},onNonFatalVideoError:function(e){"string"!=typeof e&&(e="Nonfatal video error"),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackError(e,c().Constants.ErrorSeverity.WARNING)},onFatalVideoError:function(e){this.displayErrorScreen("An error occurred.  Please try again later."),this._retryLoadAttempts=0,this._mediaHeartbeat&&("string"==typeof e?this._mediaHeartbeat.trackError("Content_"+e):this._mediaHeartbeat.trackError("Content_"+this._videodata.guid),this._mediaHeartbeat.trackSessionEnd(),this._sessionStarted=!1),"string"!=typeof e&&(e="Fatal Error: "+this._videodata.guid),this.convivaVideoAnalytics&&(this.convivaVideoAnalytics.reportPlaybackFailed(e,this.getConvivaMetaData().contentInfo),this.convivaAdAnalytics.release(),this.convivaVideoAnalytics.release(),c().Analytics.release())},displayErrorScreen(e){this._container.innerHTML='<div class="videoErrorMsg"><div>'.concat(e,"</div></div>")},onResize:function(){if(!this._wrapper)return;this._height=this._wrapper.offsetHeight,this._width=this._wrapper.offsetWidth;const{width:e,height:t}=this._store.getState();if(this._hlsPlayer&&this._hlsPlayer.levels&&this._hlsPlayer.levels.length>0){var i=0,n=this._hlsPlayer.currentLevel;if(this._height>=this._hlsPlayer.levels[this._hlsPlayer.levels.length-1].height&&this._width>=this._hlsPlayer.levels[this._hlsPlayer.levels.length-1].width)this._hlsPlayer.autoLevelCapping=-1;else for(let e=0;e<this._hlsPlayer.levels.length;e++){var a=this._hlsPlayer.levels[e];if(this._height<=a.height&&this._width<=a.width){i=e,this._hlsPlayer.levels[e+1]&&this._hlsPlayer.levels[e+1].height==this._hlsPlayer.levels[e].height&&this._hlsPlayer.levels[e+1].width==this._hlsPlayer.levels[e].width&&(i=e+1),i!=n&&(this._hlsPlayer.autoLevelCapping=i);break}}}if(this._adContainer&&this._adsManager){var r=google.ima.ViewMode.NORMAL;y()&&y().isFullscreen&&(r=google.ima.ViewMode.FULLSCREEN),this._adsManager.resize(this._width,this._height,r)}if(this._adMarkerContainer)for(var o=this._adMarkerContainer.firstChild;null!==o;o=o.nextSibling){var s=parseInt(o.getAttribute("data-adTime")),l=parseInt(s/this._store.getState().duration*this._width);o.style.left=l+"px"}this._width===e&&this._height===t||this._actions.resize(this._width,this._height)},onScreenChange:function(e){let t;if(t=this._iOS?this._video.webkitDisplayingFullscreen:y().isFullscreen,t?this._actions.enterFullScreen():(this._actions.exitFullScreen(),this._store.getState().isMuted!==this._video.muted&&(this._video.muted?this._actions.mute():this._actions.unmute())),this.convivaVideoAnalytics){const e=t?"Fullscreen On":"Fullscreen Off",i={};i.old_value=t?"OFF":"ON",i.new_value=t?"ON":"OFF",this.convivaVideoAnalytics.reportPlaybackEvent(e,i)}try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:this.eIsPlaying(),isFullscreen:t})}catch(e){this.log(e)}},onSaveChange:function(e){this._appMeasurement&&(Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData.action="video.save",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.action",Hl.tl(!0,"o",e?"video_save_add":"video_save_remove"))},muteUnMute:function(e,t,i){(null==e?!this._store.getState().isMuted:e)?(this._actions.mute(),this._video.muted=!0,this._adsManager&&this._adsManager.setVolume(0),t&&(document.cookie="djvideomute=1; path=/")):(this._actions.unmute(),this._video.muted=!1,this._video.volume=this._volume,this._adsManager&&this._adsManager.setVolume(this._volume),t&&(document.cookie="djvideomute=0; path=/"));const{isMuted:n}=this._store.getState();if(this._videodata&&i&&this._appMeasurement){Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData["video.mute"]=n?"Mute ON":"Mute OFF",Hl.contextData.action="video.muted",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.video.mute,contextData.action";let e=n?"heartbeat_video muted":"heartbeat_video unmuted";this._settings.clickForSound&&(e="heartbeat_tapped unmute"),Hl.tl(!0,"o",e)}if(this.convivaVideoAnalytics){const e=n?"Mute On":"Mute Off",t={};t.old_value=n?"OFF":"ON",t.new_value=n?"ON":"OFF",this.convivaVideoAnalytics.reportPlaybackEvent(e,t)}this.trigger(this._wrapper,"onMuteUnMute",{})},onMuteUnMute:function(e){this._actions.hideClickForSound()},setVolume:function(e,t){try{e=(e=e<0?0:e)>1?1:e,e=Math.min(Math.max(parseFloat(e),0),1),this._adsManager&&this._adsManager.setVolume(e),this._volume=e,this._video.volume=e,this._actions.setVolume(e),t&&(this._volume=e,document.cookie="djvideovol="+e+"; path=/",document.cookie="djvideovol="+e+";",this._store.getState().isMuted&&this.muteUnMute(!1,!0,!0))}catch(e){this.log(e)}},playSuggestion:function(e){this._formatOverride="user initiated next",this._settings.disableChainPlay?this.trigger(this._wrapper,"onSuggestionPlay",e):this.ePlayVideo(e)},clickForSoundHandler:function(e){this.muteUnMute(!1,!0,!0),this.setVolume(this._volume,!1),this._controls&&!this._store.getState().isStickyModeEnabled&&(this._controls.style.display="block"),this._settings.adsEnabled&&this._settings.clickForSound&&this._adDisplayContainer.initialize(),this._settings.clickForSound=!1,this._actions.unmute(),this._settings.autoplay=!0},getShareLinkUrl:function(){var e=window.location!=window.parent.location?document.referrer:document.location.href,t=this._videodata.linkURL;return null!==this._settings.shareDomain?t=this._settings.shareDomain+this._videodata.linkRelativeURL:-1!==e.indexOf("marketwatch.com")?(this._settings.shareDomain="http://www.marketwatch.com",shareSite="&site=video.marketwatch.com",t="http://www.marketwatch.com"+this._videodata.linkRelativeURL):-1!==e.indexOf("barrons.com")&&(this._settings.shareDomain="http://www.barrons.com",shareSite="&site=video.barrons.com",t="http://www.barrons.com"+this._videodata.linkRelativeURL),t},showHideShareScreen:function(e){try{if(e){this._shareScreen.tabIndex=0,this._shareScreen.style.display="block",this._shareScreen.classList.add("video-show-share"),document.getElementById("video-share-b-".concat(this._videoId)).style.opacity=1,this._actions.showShareScreen()}else{this._shareScreen.tabIndex=-1,this._shareScreen.style.display="none",this._shareScreen.classList.remove("video-show-share"),document.getElementById("video-share-b-".concat(this._videoId)).style.opacity=.8,this._shareScreen.innerHTML="",this._actions.hideShareScreen()}}catch(e){this.log(e)}},showSharing:function(){if(this._shareScreen.classList.contains("video-show-share"))return void this.showHideShareScreen(!1);var e=this.getShareLinkUrl(),t=this._videodata,i=this._settings;function n(e,t){if(!document||!window)return null;const i=navigator&&navigator.userAgent.match(/ipad|iphone/i),n=document.createElement("textarea");if(n.value=e,n.setAttribute("readonly",""),n.style.position="fixed",n.style.left="-9999px",document.body.appendChild(n),i){let e=document.createRange();e.selectNodeContents(n);let t=window.getSelection();t.removeAllRanges(),t.addRange(e),n.setSelectionRange(0,999999)}else n.select();document.execCommand("copy")}var a=function(){var e='<iframe allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" width="512" height="288" src="https://video-api.wsj.com/api-video/player/v3/iframe.html?guid='.concat(t.guid).concat(i.shareDomain?"&shareDomain=".concat(i.shareDomain):"",'"></iframe>');document.getElementById("copied-prompt").innerHTML='<span aria-live="polite">Embed copied to clipboard</span>',n(e),o(),document.getElementById("copy-embed").focus()};function o(){document.getElementById("copy-to-clipboard-notification").style.display="block"}a.bind(this);const s='\n            <span id="copy-to-clipboard-notification">\n                <div>\n                    <svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M11,19.6428571 C6.22668181,19.6428571 2.35714286,15.7733182 2.35714286,11 C2.35714286,6.22668181 6.22668181,2.35714286 11,2.35714286 C15.7733182,2.35714286 19.6428571,6.22668181 19.6428571,11 C19.6428571,15.7733182 15.7733182,19.6428571 11,19.6428571 Z M14.9938835,7.85744843 L9.95229041,12.8990415 L7.79155915,10.7383103 L7.07142857,11.4587804 L9.23215983,13.6191721 L9.95229041,14.3393027 L10.672421,13.6191721 L15.7140141,8.57757901 L14.9938835,7.85744843 Z" id="path-1"></path></defs><g id="Players" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Sharing_8U" transform="translate(-230.000000, -59.000000)"><g id="-icons-/-shapes-/-actions-/-check-active" transform="translate(228.000000, 57.000000)"><mask id="mask-2" fill="white"><use xlink:href="#path-1"></use></mask><use id="Icon_Light_Plus_Active" fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use><g id="fills-/-white" mask="url(#mask-2)" fill="#FFFFFF" fill-rule="evenodd"><rect id="fill" x="0" y="0" width="22" height="22"></rect></g></g></g></g></svg>\n                    <p id="copied-prompt"></p>\n                </div>\n            </span>\n            <table class="share-wrapper">\n                <tr>\n                    <td valign="middle">\n                        <table class="shareTable">\n                                <tr>\n                                    <td>\n                                        <ul class="share-buttons">\n                                            <li>\n                                                <button title="Copy Link" aria-label="Copy Link" id="copy-link-url-image" data-space="false">\n                                                    '.concat(r(4161),'\n                                                    <input id="copy-link-url" type="hidden" value="').concat(e,'" /></input>\n                                                </button>\n                                                <p class="share-button-text">Copy Link</p>\n                                            </li>\n                                            <li>\n                                                <button id="copy-embed" data-space="false">\n                                                    ').concat(r(21887),'\n                                                </button>\n                                                <p>Copy Embed</p>\n                                            </li>\n                                            <li>\n                                                <a target="_blank" title="Share on Facebook" href="https://www.facebook.com/sharer/sharer.php?u=').concat(e,"&t=").concat(this._videodata.name,'"><button id="sshare-fb-').concat(this._videoId,'" data-share="Facebook" data-space="false">\n                                                    ').concat(r(53836),'\n                                                </button>\n                                                <p>Facebook</p></a>\n                                            </li>\n                                            <li>\n                                                <a target="_blank" title="Share on Twitter" href="https://twitter.com/intent/tweet?url=').concat(e,"&text=").concat(this._videodata.name,'"><button id="sshare-twitter-').concat(this._videoId,'" data-share="Twitter" data-space="false">\n                                                    ').concat(r(71072),'\n                                                </button>\n                                                <p>Twitter</p></a>\n                                            </li>\n                                        </ul>\n                                    </td>\n                                </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n            <button class="closeBtn" id="closeBtn-share" data-space="false">\n                <?xml version="1.0" encoding="UTF-8"?><svg width="11px" height="11px" viewBox="0 0 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.7"><g id="close" fill="#FFFFFF"><polygon id="Path" points="10.5 8.75 19.25 0 21 1.75 12.25 10.5 21 19.25 19.25 21 10.5 12.25 1.75 21 0 19.25 8.75 10.5 0 1.75 1.75 1.51121399e-15"></polygon></g></g></svg>\n            </button>');this._shareScreen.innerHTML=s,this.showHideShareScreen(!0),document.getElementById("closeBtn-share").addEventListener("click",function(e){this.showHideShareScreen(!1),this._shareBtn.focus()}.bind(this)),document.getElementById("closeBtn-share").addEventListener("keydown",function(e){"Tab"===e.key&&(this._volumeSlider.focus(),this.showHideShareScreen(!1))}.bind(this)),document.getElementById("copy-link-url-image").addEventListener("click",function(){document.getElementById("copied-prompt").innerHTML='<span aria-live="polite">Link copied to clipboard</span>',n(e),o(),document.getElementById("copy-link-url-image").focus()}.bind(this)),document.getElementById("copy-link-url-image").focus(),document.getElementById("copy-link-url-image").addEventListener("keydown",function(e){"Tab"===e.key&&e.shiftKey&&(this._shareBtn.nextSibling.focus(),this.showHideShareScreen(!1))}.bind(this)),document.getElementById("copy-embed").addEventListener("click",a),document.getElementById("sshare-fb-"+this._videoId).scope=this,document.getElementById("sshare-twitter-"+this._videoId).scope=this,document.getElementById("sshare-fb-"+this._videoId).addEventListener("click",this.trackShare),document.getElementById("sshare-twitter-"+this._videoId).addEventListener("click",this.trackShare)},addListeners:function(){var e=this;this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){e.onAdError(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){e.onContentPauseRequested(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){e.onContentResumeRequested(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.onAdRemoved(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(t){e.onAdComplete(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,(function(t){e.onAdLoaded(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.onAdBuffering(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,(function(t){e.onAdStarted(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,(function(t){e.onAdPaused(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,(function(t){e.onAdResumed(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,(function(t){e.onAdSkipped(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,(function(t){e.onAdClicked(t,e)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.onSkippableChanged(t)})),this._adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,(e=>this.onAdProgress(e)));for(const e of Object.keys(google.ima.AdEvent.Type))this._adsManager.addEventListener(google.ima.AdEvent.Type[e],(t=>this.log("IMA AdEvent ".concat(e,": "),t)))},onAdClicked:function(e,t){t.sendPermutiveAdvertismentTracking("VideoAdClick",0),t._adsManager.pause()},onAdStarted:function(e){var t;this._actions.endVideoPlaybackInit(),null===(t=this._adHealthObserver)||void 0===t||t.observe(),this._adStarted=!0,this._skipAvailable=!1,this._currentAd=e.getAd(),this.onResize(),this.setupListeners(!1),this.trigger(this._wrapper,"adStarted");try{this._video.textTracks[0]&&(this._video.textTracks[0].mode="hidden")}catch(e){this.log(e)}this._actions.playAd(),this._adLoadingScreen&&this._adLoadingScreen.parentNode&&this._adLoadingScreen.parentNode.removeChild(this._adLoadingScreen),this._shareBtn&&(this._shareBtn.style.display="none"),this._midrollRequested=!1;try{var i=[],n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;var a=this._currentAd.getCompanionAds(1600,1600,n);if(a.length)for(var r=0;r<a.length;r++)i[r]={url:a[r].h,clickUrl:"",height:a[r].l.height,width:a[r].l.width,type:"html"};try{this.trigger(this._wrapper,"onCompanions",{availableAds:i})}catch(e){this.log(e)}}catch(e){try{this.trigger(this._wrapper,"onCompanions",{availableAds:[]})}catch(e){this.log(e)}}if(this._currentAd.isLinear()){this._controls&&(this._controls.classList.add("video-advertisment"),this._adContainer.style.display="block",this._adsManager.isCustomPlaybackUsed()&&(this._video.style.display="block"),this._store.getState().isAdPlaying||this._actions.playAd());try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:!0,isFullscreen:this._isFullScreen})}catch(e){this.log(e)}this._store.getState().isAdMode||this._actions.startAdMode(),this._store.getState().isMuted?this._adsManager.setVolume(0):this._adsManager.setVolume(this._volume),this._adInfo=this._currentAd.getAdPodInfo(),this._adDuration=this._currentAd.getDuration(),this._actions.updateAdDuration(this._currentAd.getDuration()),this.startAdTimer(),this.trackAdStarted()}else this._video.play()},handleLiveUpdates(){if(!this._liveStateController)return void console.error("liveStateController is not initialized");const e=this._store.getState().videoData.mediaLiveChannelId;e?this._liveStateController.getStatus(e).then((t=>{let i=t.state;"RUNNING"===i&&"future"===this._store.getState().videoData.state&&this.onLiveStateChanged("live"),this._liveStateController.subscribe(e,(e=>{const t=e.state,n=this._store.getState().videoData.state;"RUNNING"!==i&&"RUNNING"===t&&"live"!==n?this.onLiveStateChanged("live"):"IDLE"===i||"IDLE"!==t||"processing"===n&&"vod"===n||(this._autoplayed&&(this._settings.autoplay=!1),this.onLiveStateChanged("processing"),this._liveStateController.unsubscribe()),i=t}))})):console.error("mediaLiveChannelId was not found")},trackAdStarted:function(){var e=a.va.MediaHeartbeat,t=e.createAdBreakObject("pre-roll",1,0),i=e.createAdObject(this._currentAd.getTitle(),this._adId,1,this._adDuration),n={};n[e.AdMetadataKeys.ADVERTISER]=this._currentAd.getAdvertiserName(),n[e.AdMetadataKeys.CAMPAIGN_ID]=this._currentAd.getCreativeId(),i.setValue(e.MediaObjectKey.StandardAdMetadata,n),this._mediaHeartbeat&&(this._mediaHeartbeat.trackEvent(e.Event.AdBreakStart,t),this._mediaHeartbeat.trackEvent(e.Event.AdStart,i,{"ad.blank.start":"false","ad.catastrophic.blocker":"false","ad.disabled":"false"})),this._adPlaybackTime=Date.now()-this._time,this._trackingMilestonesAdvertisment=[!1,!1,!1,!1],this.sendPermutiveAdvertismentTracking("VideoAdPlay",0);try{this._comscoreTag.stop()}catch(e){this.log(e)}try{this._comscoreTag.playAdvertisement()}catch(e){this.log(e)}},convivaAdStart:function(){this.convivaAdAnalytics||(this.convivaAdAnalytics=c().Analytics.buildAdAnalytics(this.convivaVideoAnalytics));const e={};e[c().Constants.CONVIVA_MODULE]=u(),e[c().Constants.AD_TAG_URL]=this._adTagUsed,e[c().Constants.AD_PRELOAD_FEATURE]=!0,e[c().Constants.IMASDK_CONTENT_PLAYER]=this._video,this.convivaAdAnalytics.setAdListener(this._adsLoader,e)},getConvivaAdMetadata:function(e){let t,i,n,a,r,o={};if(o.assetName=e.getTitle(),o.streamUrl=e.getMediaUrl(),o.defaultBitrateKbps=0,o.applicationName="WEB V3",o.viewerId=Se("REMOTE_USER")?Se("REMOTE_USER"):"None",o.duration=e.getDuration(),o.isLive=this._isLive,0!==e.getWrapperAdIds().length){let o=e.getWrapperAdIds().length;t=e.getWrapperAdSystems()[o-1],n=e.getWrapperAdIds()[o-1],a=e.getWrapperCreativeIds()[o-1],r=e.getTitle()[o-1],i="NA"}else t=e.getAdSystem(),n=e.getAdId(),a=e.getCreativeId(),r=e.getTitle(),i="NA";return o["c3.ad.id"]=e.getAdId(),o["c3.ad.creativeId"]=e.getCreativeId(),o["c3.ad.technology"]="Client Side",o["c3.ad.system"]=e.getAdSystem(),o["c3.ad.sequence"]=e.getAdPodInfo().getAdPosition(),o["c3.ad.advertiser"]=e.getAdvertiserName(),o["c3.ad.adManagerName"]="Google IMA SDK",o["c3.ad.adManagerVersion"]=google.ima.VERSION,o["c3.ad.firstAdSystem"]=t,o["c3.ad.firstAdId"]=n,o["c3.ad.firstCreativeId"]=a,o["c3.ad.position"]="Pre-roll",o["c3.ad.type"]="NA",o["c3.ad.mediaFileApiFramework"]=e.getApiFramework(),o.viewerId=Se("REMOTE_USER"),o["c3.ad.advertiser"]=e.getAdvertiserName(),o["c3.creativeName"]=r,o["c3.ad.isSlate"]="NA",o["c3.ad.adStitcher"]="NA",o["c3.ad.unitName"]="NA",o["c3.ad.breakId"]="NA",o["c3.ad.category"]="NA",o["c3.ad.classification"]="NA",o["c3.ad.advertiserCategory"]=this._videodata.gptCustParams,o["c3.ad.advertiserId"]="NA",o["c3.ad.campaignName"]="NA",o["c3.ad.dayPart"]="NA",o["c3.ad.sessionStartEvent"]="NA",adMedadata.contentAssetName=this._videodata.name+" - "+this._videodata.guid,o},trackShare:function(e){var t;this.scope._appMeasurement&&("string"==typeof e.share?(this.scope=this,t=e.share):t=this.dataset.share,Hl.contextData["a.media.friendlyName"]=this.scope._videodata.name,Hl.contextData["a.media.name"]=this.scope._videodata.guid,Hl.contextData["social.share.type"]=t,Hl.contextData.action="social.share",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.social.share.type,contextData.action",Hl.tl(!0,"o","heartbeat_video share"))},trackMoreVideosSlide:function(e){this._appMeasurement&&(Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData.action="video.slide",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.action",Hl.tl(!0,"o","video_upnext"))},trackEndscreenSlide:function(e){this._appMeasurement&&(Hl.contextData["a.media.friendlyName"]=this._videodata.name,Hl.contextData["a.media.name"]=this._videodata.guid,Hl.contextData.action="video.slide",Hl.linkTrackVars="contextData.a.media.friendlyName,contextData.a.media.name,contextData.action",Hl.tl(!0,"o","video_instreamrec"))},skipAd:function(e){this._adsManager&&(this._adsManager.skip(),this._adsManager.stop(),this.onAdSkipped(e,this))},onAdSkipped:function(e,t){try{t._mediaHeartbeat&&(t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.AdSkip),t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.AdComplete),t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.AdBreakComplete)),t.convivaAdAnalytics&&t._adStarted&&t.convivaAdAnalytics.reportAdSkipped(),t.onAdRemoved()}catch(e){this.log(e)}},onSkippableChanged:function(e){},onAdComplete:function(e,t){this.onAdRemoved(),this._adStarted=!1,t.trigger(t._wrapper,"adComplete"),t._mediaHeartbeat&&(t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.AdComplete),t._mediaHeartbeat.trackEvent(a.va.MediaHeartbeat.Event.AdBreakComplete)),this.sendCXevent("ad_complete"),this.sendPermutiveAdvertismentTracking("VideoAdProgress",100);const{videoData:i}=t._store.getState()},onAdResumed:function(e){const{isAdMode:t,isAdPlaying:i}=this._store.getState();t&&(i||this._actions.playAd(),this._playOverlay&&(this._playOverlay.style.display="none")),this.showControls(3e3);try{this._comscoreTag.playAdvertisement()}catch(e){this.log(e)}this._convivaAdStateManager&&this._convivaClient&&this._convivaAdStateManager.setPlayerState(c().PlayerStateManager.PlayerState.PLAYING);try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:!0,isFullscreen:this._isFullScreen})}catch(e){this.log(e)}},onAdPaused:function(e){const{isAdMode:t,isAdPlaying:i}=this._store.getState();if(t){i&&this._actions.pauseAd(),this._playOverlay&&(this._playOverlay.style.display="block");try{this._comscoreTag.stop()}catch(e){this.log(e)}this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackMetric(c().Constants.Playback.PLAYER_STATE,c().Constants.PlayerState.PAUSED)}this.showControls(3e3);try{this.trigger(this._wrapper,"onPlayerStateChange",{isPlaying:!1,isFullscreen:this._isFullScreen})}catch(e){}},onAdProgress(e){const{currentTime:t}=e.getAdData();this._store.getState().currentAdPosition!==t&&this._actions.updateAdProgress(t)},startAdTimer:function(){var e=this;this._adTime=0,this._adTimer&&clearInterval(this._adTimer),this._adTimer=setInterval((function(){e.adTick()}),500)},startAdTimeoutTimer:function(){var e=this;this._adTimeoutFail=!1,this._adTimeoutTimer&&clearInterval(this._adTimeoutTimer),this._adTimeoutTimer=setInterval((function(){e._adTimeoutFail=!0,e.adResponseTimeout()}),e._adResponseTimeout)},adResponseTimeout:function(e){this.onAdError("timeout"),this._settings.adsEnabled=!1,this._actions.endVideoPlaybackInit()},adTick:function(e){const{isAdPlaying:t,currentAdDuration:i}=this._store.getState();if(t&&this._adsManager.getRemainingTime()>0){const e=(this._adDuration-this._adsManager.getRemainingTime())/this._adDuration;try{this.trigger(this._wrapper,"onAdTimeUpdate",{percent:e,duration:this._adDuration,time:this._adDuration-this._adsManager.getRemainingTime()})}catch(e){}this._adTime++,this._adTime>60&&clearInterval(this._adTimer);try{e>.5&&!this._trackingMilestonesAdvertisment[1]&&(this.sendPermutiveAdvertismentTracking("VideoAdProgress",50),this._trackingMilestonesAdvertisment[1]=!0)}catch(e){console.error("Error sending ad Permutive tracking milestone")}this._adsManager&&this._adsManager.getRemainingTime()<1&&clearInterval(this._adTimer)}},onAdRemoved:function(){var e;!this._contentStartTracked&&this._sessionStarted&&this.trackContentStarted(),this._store.getState().isAdMode&&this._actions.stopAdMode(),this._adStarted=!1,this._skipAvailable=!1,this.setupListeners(!0),this._video&&(this._video.style.display="block"),this._adContainer&&(this._adContainer.style.display="none"),this._controls&&(this._controls.classList.remove("video-advertisment"),this._playOverlay.style.display="none",this._settings.shareEnabled&&this._shareBtn&&(this._shareBtn.style.display="block")),clearInterval(this._adTimer);try{this._comscoreTag.stop()}catch(e){this.log(e)}null===(e=this._adHealthObserver)||void 0===e||e.disconnect()},onAdLoaded:function(e){try{this._currentAd=e.getAd();var t="",i=this._currentAd.getWrapperAdIds();for(w in i)t+=i[w]+",";this._currentAd.getAdId()?this._adId=t+this._currentAd.getAdId():this._adId="none"}catch(e){this._adId="none"}this.trigger(this._wrapper,"adLoaded",this._currentAd)},onContentPauseRequested:function(){this._video.pause()},onContentResumeRequested:function(){var e=this;this.onAdRemoved(),this._playOverlay&&(this._playOverlay.style.display="none");var t=this._video.play();void 0!==t&&t.catch((function(t){e._video.play()}))},getAdContextData:function(){return{}},onAdError:function(e){var t;(this.log("AdError",e),this._adTimeoutTimer&&clearInterval(this._adTimeoutTimer),"object"==typeof e)&&(null!=e&&e.getError()&&null!=e&&null!==(t=e.getError())&&void 0!==t&&t.getErrorCode()&&this._actions.setAdError(e.getError().getErrorCode()));if(this._store.getState().adInitState===Mi&&this._actions.setAdInitState(Ni),this.onAdRemoved(),this.trigger(this._wrapper,"adError",n),this._adErrorTracked)this._adErrorEvent=e;else{this._adErrorTracked=!0;var i=this._adStarted?"Adpost_":"Ad_";try{this._adsLoading=!1;var n={type:"",code:"",msg:""};if(!1===e)n.code="0",n.msg="Ads Blocked";else if("timeout"===e)n.code="1",n.msg="No IMA Loader Response After 5 Seconds";else{var a=e.getError();if(n.code=a.getErrorCode(),n.msg=a.getMessage(),void 0!==n.msg&&null!==n.msg){var r=a.getInnerError();null!=r&&(n.msg=n.msg+" - "+r)}else n.msg="A null was recieved from ima getMessage"}}catch(e){this.log(e)}setTimeout((()=>this._video.play()),0),this._mediaHeartbeat&&this._mediaHeartbeat.trackError(i+n.msg)}},trackConvivaAdError:function(e){if(this._convivaClient){if(this._currentAd)var t=this.getConvivaAdMetadata(this._currentAd);else t=new(c().ContentMetadata);t.assetName="Ad Error",e&&(t.custom.AdErrorType=function(e){if(0==(e=parseInt(e)))return"Ad Blocker";if(1021==e||1==e||301==e||402==e)return"Ad Timeout";if(1007==e||1009==e)return"Fallback no-ad";return"Other Ad Playback Error"}(e.code)),null===this._convivaAdSessionKey&&(this._convivaAdSessionKey=this._convivaClient.createAdSession(this._convivaContentSessionKey,t));var i="Code: "+e.code+", Message: "+e.msg;this._convivaClient.reportError(this._convivaAdSessionKey,i,c().Client.ErrorSeverity.FATAL),this._adStarted&&(this._convivaClient.adEnd(this._convivaContentSessionKey),this._convivaClient.sendCustomEvent(this._convivaContentSessionKey,"Conviva.PodEnd",{podPosition:"Pre-roll",podIndex:"1",absoluteIndex:"1",podDuration:this._adDuration+""}),this._convivaAdStateManager.setPlayerState(c().PlayerStateManager.PlayerState.STOPPED)),this._convivaClient.cleanupSession(this._convivaAdSessionKey),this._convivaAdSessionKey=null}},toggleFullScreen:function(e){this._iOS?this._video.webkitEnterFullscreen():y().toggle(this._wrapper)},playPause:function(e){const{isAdMode:t,isAdPlaying:i,currentPosition:n}=this._store.getState();var a;t?this._adsManager&&(i?(this._playRequested=!1,this._adsManager.pause(),this.onAdPaused(),this._adsManager.isCustomPlaybackUsed()&&this._video.pause()):(this._playRequested=!0,this.onAdResumed(),this._adsManager.resume(),this._adsManager.isCustomPlaybackUsed()&&this._video.play())):this._video.paused?(null===(a=this._video.play())||void 0===a||a.catch((()=>"")),this._playRequested=!0):(this.saveProgress(n),this._video.pause(),this._playRequested=!1);this._playRequested||this._mediaHeartbeat&&this._mediaHeartbeat.trackPause()},eResumeVideo:function(e){this._playRequested=!0,this._contentInitialized?this._store.getState().isAdMode?this._adsManager.resume():this._video.paused&&(this._video.play(),this._playRequested=!0):this.startVideo({fetchAds:!0})},eSeek:function(e,t){var i=e;t&&(i=Math.round(this._store.getState().duration*(e/100))),this._video&&!this._store.getState().isAdMode&&this._contentInitialized?i+5<this._video.duration&&(this._video.currentTime=i):(this._settings.startPosition=parseInt(e),this._contentInitialized||this.startVideo({fetchAds:!0}))},ePauseVideo:function(e){this._self._playRequested=!1,this._self._store.getState().isAdMode?this._self._adsManager.pause():this._self._video.paused||this._self._video.pause()},ePlayPauseVideo:function(e){this._self._contentInitialized||this._self._playRequested?this._self.playPause(e):this._self.startVideo({fetchAds:!0})},eKillVideo:function(e){this._self._adsManager&&this._self._adsManager.stop()},eIsPlaying:function(){const{isAdMode:e,isAdPlaying:t}=this._self._store.getState();return!!(!this._self._video.paused||this._self._video.seeking||e&&t)||!(!e||!this._self._playRequested)},ePlayVideo:function(e){if(!isNaN(parseInt(e,10)))return this._settings.startPosition=parseInt(e),void this.eResumeVideo();"string"==typeof(null==e?void 0:e.guid)?("string"==typeof(null==e?void 0:e.startAction)&&(this._formatOverride=e.startAction),this._video.style.display="none",this._settings.guid=e.guid,this._actions.updateVideoData({...this._store.getState().videoData,guid:e.guid}),this.loadVideo({autoStart:!0})):this.log("Cannot play video without a guid")},eLoadVideo:function(e){this._self._settings.guid=e.guid,e.vidora&&(this._self._isChained=!1),!this._self._contentInitialized&&this._self._isMobile&&-1!==document.location.href.indexOf("wsj.com/video")?window.location.href=e.linkURL:(this._self.loadVideo({autoStart:!0}),this._self._shareScreen&&this._self.showHideShareScreen(!1))},eUpdatePlaylist:function(e){let t;try{t=e.items&&void 0!==e.items?e.items:e}catch(i){t=e}this._self._actions.replacePlaylist(t)},eMute:function(e){this._self.muteUnMute(e,!1,!0)},eGetStatus:function(){return{isPlaying:this._self.eIsPlaying(),isFullscreen:this._self._isFullScreen}},displayVrMsg:function(){this._actions.hideControls(),this._actions.hideLoadingSpinner();const e=this._wrapper.cloneNode(!0);this._wrapper.replaceWith(e),this._wrapper.innerHTML='<div class="vr-alert"><p>360 videos are no longer supported.</p></div>'},trackInit:function(){!async function(e,t){try{const i=await fetch("".concat(Bl,"/api/track?guid=").concat(e,"&source=").concat(t));if(!i.ok)throw new Error("".concat(i.status," ").concat(i.statusText))}catch(e){console.error("Seshat Error",e)}}(this._videodata.guid,this._settings.larsId),this._sessionStarted&&(this._mediaHeartbeat&&this._mediaHeartbeat.trackSessionEnd(),this.convivaVideoAnalytics&&this.convivaVideoAnalytics.reportPlaybackEnded());try{var e=a.va.MediaHeartbeat,t=this._videodata,i="vod"===t.state?e.StreamType.VOD:e.StreamType.LIVE;this._mediaObjectHeartbeat=e.createMediaObject(t.name,t.guid,this._store.getState().duration,i),this._mediaObjectHeartbeat.setValue(e.MediaObjectKey.StandardVideoMetadata,this.getStandardMetaData())}catch(e){this.log(e)}this._formatOverride="",this._mediaHeartbeat&&(this._mediaHeartbeat._config.channel=this.getChannel()),-1!=this._settings.startPosition&&this._appMeasurement&&(this._appMeasurement.evar27=this._settings.startPosition),this._mediaHeartbeat&&this._mediaHeartbeat.trackSessionStart(this._mediaObjectHeartbeat,this.getContextData()),this._sessionStarted=!0;try{this.convivaVideoAnalytics.reportPlaybackRequested(this.getConvivaMetaData().contentInfo)}catch(e){console.error("Failed to initalize Conviva playback")}try{this._comscoreTag.stop(),this._comscoreTag.playContentPart(this._comscoreMeta)}catch(e){this.log(e)}try{var n={level1:this._videodata["wsj-section"],level2:this._videodata["wsj-subsection"],level3:this._videodata.guid,slicer1:we(this._domain)};this._moatManager=f(this._video,n,this._store.getState().duration,"dowjonesjsvideocontent394324437046",this._videodata.hls),this._moatManager.dispatchEvent({type:"AdVideoStart",adVolume:this._volume})}catch(e){this.log(e)}try{this._settings.hasCMPConsent&&window.vidora.push(["send","play",this._videodata.guid])}catch(e){this.log(e)}this.sendOptimizelyBeacon("init"),this.sendPermutiveTracking("VideoPlay",0),void 0!==window.cX&&"function"==typeof window.cX.sendPageViewEvent&&window.cX.sendPageViewEvent({location:this._videodata.linkURL})},sendCXevent:function(e){try{if(void 0!==window.cX&&"object"==typeof window.cX.callQueue)switch(e){case"play":window.cX.callQueue.push(["sendEvent","videoPlay"]);break;case"ad_complete":window.cX.callQueue.push(["sendEvent","videoAdComplete"])}}catch(e){this.log(e)}},sendOptimizelyBeacon:function(e){try{if("object"!=typeof window.optimizely)return;const n={init:["wsj-video_initiates","14369530301"],start:["wsj-video_content-start","14377780073"],complete:["wsj-video_content-completes","14350000105"],percent:["wsj-video_percentage-of-video-watched","14355670366"],percent25:["wsj-video_percentage-25","14819120481"],percent50:["wsj-video_percentage-50","14793070766"],percent75:["wsj-video_percentage-75","14805100688"],percent95:["wsj-video_percentage-95","14799330489"]};var t="";try{t=window.optimizely.get("visitor").visitorId}catch(e){this.log(e)}var i={account_id:"5090114122",visitors:[{visitor_id:t,session_id:"AUTO",attributes:{},snapshots:this.buildSnapshots(n[e])}],anonymize_ip:!0,client_name:"wsj-video-api",client_version:"1.0.0",enrich_decisions:!0};fetch("https://logx.optimizely.com/v1/events",{method:"post",body:JSON.stringify(i)})}catch(e){this.log(e)}},sendPermutiveTracking:function(e,t){try{if("object"!=typeof window.permutive||!1===this._settings.hasCMPPermutiveConsent)return;window.permutive.track(e,this.getPermutiveMetaData(t))}catch(e){this.log(e)}},sendPermutiveAdvertismentTracking:function(e,t){try{if("object"!=typeof window.permutive||!1===this._settings.hasCMPPermutiveConsent)return;window.permutive.track(e,this.getPermutiveAdvertismentMetaData(t))}catch(e){this.log(e)}},buildSnapshots:function(e){try{var t=[];return t.push({decisions:[],events:[{entity_id:e[1],key:e[0],timestamp:Date.now(),uuid:this.createUUIDv4()}]}),t}catch(e){return[]}},createUUIDv4:function(){try{return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}catch(e){return""}},getTrackingDateString:function(e){try{var t=new Date(e.formattedCreationDate),i=e.omniPublishDate.split("video_")[1],n=new Date(i);return"original_"+t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+"_current_"+n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()}catch(t){return e.formattedCreationDate}return e.formattedCreationDate},getSectionSubsection:function(e){var t=[],i="wsj",n="";try{n=window.s?s.channel:we(this._domain)}catch(e){n=we(document.domain)}return"AllThingsD"==n?i="allthingsd":"SmartMoney"==n&&(i="sm"),"string"==typeof e[i+"-section"]&&t.push(e[i+"-section"]),"string"==typeof e[i+"-subsection"]&&t.push(e[i+"-subsection"]),t},getContentTypes:function(){var e=["video embedded offsite","video embedded offsite"];if(!1!==this.getChannel()){var t=this.getVideoContent();e[0]=void 0!==t.prop1?t.prop1:"Embedded Onsite",e[1]=void 0!==t.prop19?t.prop19:void 0!==t.prop1?t.prop1:"Embedded Onsite"}return e},getContextData:function(){var e=a.va.MediaHeartbeat,t={};this.getVideoContent(),document.location.href;this._settings.shareDomain&&this._settings.shareDomain,t["a.media.friendlyName"]=this._videodata.name,t["a.media.length"]=this._store.getState().duration,t["a.media.name"]=this._videodata.guid,t["a.contentType"]="vod"===this._videodata.state?e.StreamType.VOD:e.StreamType.LIVE,this._settings.fireTv?t["a.media.playerName"]="Amazon Fire TV":t["a.media.playerName"]="Web";var i=this._settings.parentUrl||window.location.href;if(t["user.ref"]=Se("TR"),t["user.type"]=this.getUserTypeVar(),t["page.content.type"]=this.getContentTypes()[0],t["page.content.type.detail"]=this.getContentTypes()[1],t["page.driver"]=this.getParameterByName("mod"),t["video.player.type"]="Web",t["page.full.url"]=i,t["video.keywords"]=this._videodata.keywordsOmni?this._videodata.keywordsOmni:"",t["page.name"]="",t["page.site"]="",t["a.media.channel"]=this.getChannel(),t["a.media.start.position"]=this._settings.startPosition,window.s&&(t["page.section"]=s.prop2?s.prop2:"",t["page.subsection"]=s.prop26?s.prop26:"",t["article.type"]=s.prop3?s.prop3:"",t["article.headline"]=s.prop4?s.prop4:"",t["article.id"]=s.prop20?s.prop20:"",t["article.author"]=s.prop21?s.prop21:"",t["article.publish"]=s.prop23?s.prop23:"",t["page.full.url"]=s.prop6?s.prop6:"",t["page.name"]=s.PageName?s.PageName:"",t["page.site"]=s.eVar11?s.eVar11:""),window.utag_data){if(t["page.name"]=window.utag_data.page_name?window.utag_data.page_name:"",t["page.site"]=window.utag_data.page_site?window.utag_data.page_site:"",t["user.ref"]=window.utag_data.user_ref?window.utag_data.user_ref:"",t["user.tags"]=window.utag_data.user_tags?window.utag_data.user_tags:"",t["user.type"]=window.utag_data.user_type_post?window.utag_data.user_type_post:"",t["page.content.type"]=window.utag_data.page_content_type?window.utag_data.page_content_type:"",t["page.content.type.detail"]=window.utag_data.page_content_type_detail_post?window.utag_data.page_content_type_detail_post:"",window.utag_data.qp){const{mod:e,reflink:i}=window.utag_data.qp;t["page.driver"]=e||"",t["page.driver.internal"]=e||"",t["page.driver.external"]=i||""}t["page.section"]=window.utag_data.page_section_post?window.utag_data.page_section_post:"",t["page.subsection"]=window.utag_data.page_subsection_post?window.utag_data.page_subsection_post:"",t["article.type"]=window.utag_data.article_type_post||"",t["article.headline"]=window.utag_data.article_headline_orig_post?window.utag_data.article_headline_orig_post:"",t["article.headline.orig"]=window.utag_data.article_headline_orig_post?window.utag_data.article_headline_orig_post:"",t["article.id"]=window.utag_data.article_id?window.utag_data.article_id:"",t["article.author"]=window.utag_data.article_author?window.utag_data.article_author:"",t["article.publish"]=window.utag_data.article_publish?window.utag_data.article_publish:"",t["article.publish.post"]=window.utag_data.article_publish_post||"",t["article.publish.orig"]=window.utag_data.article_publish_orig?window.utag_data.article_publish_orig:""}return t["video.base.url"]=i.split("?")[0],t["video.player.technology"]="html "+this._version,t["ad.blank.start"]="false",this._settings.adsEnabled?"1"===this._videodata.catastrophic&&(t["ad.catastrophic.blocker"]="true",t["ad.disabled"]="false"):(t["ad.disabled"]="true",t["ad.catastrophic.blocker"]="false"),t},getStandardMetaData:function(){var e={},t=this._videodata,i=a.va.MediaHeartbeat;e[i.VideoMetadataKeys.SHOW]=null==typeof t.column?"":t.column,e[i.VideoMetadataKeys.SEASON]="",e[i.VideoMetadataKeys.EPISODE]=t.episodeNumber,e[i.VideoMetadataKeys.ORIGINATOR]=t.author,e[i.VideoMetadataKeys.GENRE]="WSJ_"+this.getSectionSubsection(t).join("_"),e[i.VideoMetadataKeys.FIRST_DIGITAL_DATE]=this.getTrackingDateString(t),e[i.VideoMetadataKeys.FEED]=this._videodata.type,e[i.VideoMetadataKeys.NETWORK]=t.doctypeID;const{isMuted:n}=this._store.getState();return""!=this._formatOverride?e[i.VideoMetadataKeys.STREAM_FORMAT]=this._formatOverride:this._videodata.startAction?e[i.VideoMetadataKeys.STREAM_FORMAT]=this._video.muted||n?this._videodata.startAction+" muted":this._videodata.startAction:this._isChained?e[i.VideoMetadataKeys.STREAM_FORMAT]=this._video.muted||n?"autochain muted":"autochain":this._autoplayed?e[i.VideoMetadataKeys.STREAM_FORMAT]=this._video.muted||n?"autoplay muted":"autoplay":e[i.VideoMetadataKeys.STREAM_FORMAT]="user initiated",e},getPermutiveMetaData:function(e){try{this.getAdData();var t,i,n,a,r,o,s={};window.utag_data&&(s=window.utag_data);var l={video:{ttid:(null===(t=this._videodata.adTagParams)||void 0===t?void 0:t.ttid)||null,column:this._videodata.column||null,lnid:(null===(i=this._videodata.adTagParams)||void 0===i?void 0:i.lnid)||null,adcat:this._videodata.adCategory||null,videoformat:this._videodata.videoformat||null,sym:[],progress:e,asset_date_path:this._videodata.formattedCreationDate||null,content_status:this._videodata.state||null,keywords_omni:this._videodata.keywordsOmni.split("|"),cxense_keywords:s.article_keywords?s.article_keywords.split("|"):[],description:this._videodata.description||null,formatted_duration:this._videodata.duration?toString(this._videodata.duration):null,guid:this._videodata.guid||null,name:this._videodata.name||null,provider:this._videodata.provider||null,link_url:this._videodata.linkUrl||null,author:this._videodata.author||null,state:this._videodata.state||null,sponsored:this._videodata.sponsoredVideo?toString(this._videodata.sponsoredVideo):null,omni_program_name:this._videodata.omniProgramName||null},video_player:{plid:this._settings.plid?this._settings.plid:this._videodata.plid,playerformat:this._videodata.videoformat?this._videodata.videoformat:null,sub:this.getUserTypeVar(),adview:1},page:{usertype:s.user_type?s.user_type:null,id:s.article_id?s.article_id:null,description_url:s["meta.description"]?s["meta.description"]:null,env:null!==(n=s)&&void 0!==n&&null!==(a=n.ut)&&void 0!==a&&a.env?s.ut.env:null,hl:"en",iu:this._settings.site?[this._settings.site]:[],url:window.location!=window.parent.location?document.referrer:document.location.href,section:s.page_section?s.page_section:null,subsection:s.page_subsection?s.page_subsection:null,package:null!==(r=this._videodata)&&void 0!==r&&null!==(o=r.adTagParams)&&void 0!==o&&o.wsjpackage?this._videodata.adTagParams.wsjpackage.split("|"):[],keywords:s.article_keywords&&"string"==typeof s.article_keywords?s.article_keywords.split("|"):[],channel:this.getChannel(),subchannel:null,type:"video"},article:{id:s.article_id?s.article_id:null,type:"video",section:s.page_section?s.page_section:null,page:s["meta.article.page"]?s["meta.article.page"]:null},series:{description:s["meta.og:description"]?s["meta.og:description"]:null,name:s["meta.page.id"]?s["meta.page.id"]:null},factiva:{subjects:this._videodata["factiva-subjects"]?this._videodata["factiva-subjects"].filter((e=>e)):[],regions:this._videodata["factiva-regions"]?this._videodata["factiva-regions"].filter((e=>e)):[]}};return l}catch(e){console.log(e),console.error("Permutive failed to gather data.")}},getPermutiveAdvertismentMetaData:function(e){try{if(!this._currentAd)return{};var t=this._currentAd.getAdPodInfo();return{ad:{advertiser_name:this._currentAd.getAdvertiserName()||null,creative_id:this._currentAd.getCreativeId()||null,id:this._currentAd.getAdId()||null,pod_info:null,system:this._currentAd.getAdSystem()||null,position:t.getAdPosition()||null},ad_wrapper:{creative_ids:this._currentAd.getWrapperCreativeIds()||[],ids:this._currentAd.getWrapperAdIds()||[],systems:this._currentAd.getWrapperAdSystems()||[]},video_ad:{attribution_params:[],deal_id:this._currentAd.getDealId()||null,description:this._currentAd.getDescription()||null,duration:parseInt(this._currentAd.getDuration())||null,media_url:null,pod_index:t.getAdPosition()||null,progress:e,skippable:this._currentAd.isSkippable()?"true":"false",title:this._currentAd.getTitle()||null,total_ads:t.getTotalAds()||null,trafficking_parameters:Object.values(this._currentAd.getTraffickingParameters())||null,ui_elements:[],vast_media_height:this._currentAd.getVastMediaHeight()||null,vast_media_width:this._currentAd.getVastMediaWidth()||null,vpaid:!this._currentAd.isLinear()||"false"}}}catch(e){console.log(e),console.error("Permutive failed to gather data.")}},trackContentStarted:function(){this._contentStartTracked=!0,this._adPlayNumber=this._adPlayNumber>3?1:this._adPlayNumber+1,document.cookie="djadplaynum="+this._adPlayNumber.toString()+"; path=/",this._mediaHeartbeat&&this._mediaHeartbeat.trackPlay();try{this.sendCXevent("play")}catch(e){this.log(e)}try{this._comscoreTag.playContentPart(this._comscoreMeta)}catch(e){this.log(e)}},trackProgress:function(e,t){if(!this._store.getState().isAdMode&&this._sessionStarted&&(t>1&&!this._contentStartTracked&&(this.trackContentStarted(),this.sendOptimizelyBeacon("start"),this.sendPermutiveTracking("VideoPlay",0)),e>25&&!this._trackingMilestones[0]&&(this.sendOptimizelyBeacon("percent25"),this.sendPermutiveTracking("VideoProgress",25),this._trackingMilestones[0]=!0),e>50&&!this._trackingMilestones[1]&&(this.sendOptimizelyBeacon("percent50"),this.sendPermutiveTracking("VideoProgress",50),this._trackingMilestones[1]=!0),e>75&&!this._trackingMilestones[2]&&(this.sendOptimizelyBeacon("percent75"),this.sendPermutiveTracking("VideoProgress",75),this._trackingMilestones[2]=!0),e>95&&!this._trackingMilestones[3]&&(this.sendOptimizelyBeacon("percent95"),this._trackingMilestones[3]=!0)),Math.floor(t/15)>this._pingMilestone){this._pingMilestone=Math.floor(t/15);try{this._settings.hasCMPConsent&&window.vidora.push(["send","playhead_update",this._videodata.guid,{params:{playhead_time:t,duration:this._store.getState().duration}}])}catch(e){this.log(e)}}this.trigger(this._wrapper,"onTimeUpdate",{percent:e,time:t,duration:this._store.getState().duration})},getPageName:function(e){var t=this.getVideoContent();if(t.pageName)return t.pageName;{const{duration:e}=this._store.getState();return"WSJLive_Video_"+this._videodata.name+"_"+e}},getConvivaMetaData:function(e){var t,i;let n={};n[c().Constants.DeviceMetadata.CATEGORY]=c().Constants.DeviceCategory.WEB,n[c().Constants.DeviceMetadata.TYPE]=this._isMobile?c().Constants.DeviceType.MOBILE:c().Constants.DeviceType.DESKTOP,n[c().Constants.DeviceMetadata.BRAND]=this._uaParser.getDevice().vendor,n[c().Constants.DeviceMetadata.MANUFACTURER]=this._uaParser.getDevice().vendor,n[c().Constants.DeviceMetadata.MODEL]=this._uaParser.getDevice().model,n[c().Constants.DeviceMetadata.OS_NAME]=this._uaParser.getOS().name,n[c().Constants.DeviceMetadata.OS_VERSION]=this._uaParser.getOS().version;const a=this._videodata;let r={};return r[c().Constants.ASSET_NAME]=a.name+" - "+a.guid,r[c().Constants.STREAM_URL]=a.hlsNoCaptions,r[c().Constants.IS_LIVE]="live"===a.state,r[c().Constants.DEFAULT_RESOURCE]="Akamai",r[c().Constants.PLAYER_NAME]="WEB V3",r[c().Constants.playerVersion]="WEB V3",r[c().Constants.APPLICATION_VERSION]=this._version,r[c().Constants.VIEWER_ID]=Se("REMOTE_USER")?Se("REMOTE_USER"):"None",r[c().Constants.FRAMEWORK_NAME]="Custom HTML5",r[c().Constants.FRAMEWORK_VERSION]=this._version,r[c().Constants.STREAM_URL]=a.hlsNoCaptions,r[c().Constants.DURATION]=parseInt(a.duration),r[c().Constants.IS_LIVE]="vod"===a.state?c().ContentMetadata.StreamType.VOD:c().ContentMetadata.StreamType.LIVE,r["Device Model"]=this._uaParser.getDevice().model,r["Device Manufacturer"]=this._uaParser.getDevice().vendor,r.deviceBrand=this._uaParser.getDevice().vendor,r.accessType,Se("REMOTE_USER"),r.column=a.column,r.genre=this._videodata.showName?this._videodata.showName:this._videodata.name,r.guid=a.guid,r.package=null!==(t=this._videodata)&&void 0!==t&&null!==(i=t.adTagParams)&&void 0!==i&&i.wsjpackage?this._videodata.adTagParams.wsjpackage:"",r.page=window.location.hostname+window.location.pathname,r.playerVendor="Internal",r.playerVersion=this._version,r.section=void 0!==this.getSectionSubsection(a)[0]?this.getSectionSubsection(a)[0]:"",r.subsection=void 0!==this.getSectionSubsection(a)[1]?this.getSectionSubsection(a)[1]:"",r.seriesName=a.seriesName,r.site=window.location.hostname,r.streamProtocol="HLS",r.doctype=a.doctypeID,r.genre=this._videodata.showName?this._videodata.showName:this._videodata.name,r.episodeNumber=a.episodeNumber,r.pubDate=a.publishedDate,r.seriesName=a.seriesName,r.isMuted=this._store.getState().isMuted.toString(),{device:n,contentInfo:r}},getUserTypeVar(){var e,t;let i=null;if(window.utag_data&&window.utag_data.user_type)i=window.utag_data.user_type;else{const e=document.querySelector('meta[name="user.type"]');null!==e&&(i=e.getAttribute("content"))}let n;i?(n={nonsubscriber:"free",subscriber:"sub_yes",freeregister:"mem_yes",procbsubscriber:"sub_yes",prosubscriber:"sub_yes",reguser:"mem_yes",member:"mem_yes"}[i.toLowerCase()],void 0===n?n="free":"free"===n&&Se("TR")&&(n="reg_yes")):n="free";const a=null!==(e=null===(t=window.utag_data)||void 0===t?void 0:t.page_site_product)&&void 0!==e?e:"WSJ";return"".concat(a,"_").concat(n)},getChannel:function(){var e="";try{e=null!==this._settings.channel?this._settings.channel:window.s?s.channel:we(document.domain)}catch(t){e=we(document.domain)}return e},getHostName:function(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2]:null},getVideoContent:function(){try{if(window!=window.top){if(void 0!==window.parent.s)return window.parent.s}else if(void 0!==window.s)return window.s;return!1}catch(e){return!1}},debounce:function(e,t,i){var n;return function(){var a=this,r=arguments,o=function(){n=null,i||e.apply(a,r)},s=i&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(a,r)}},trackInView:function(){if(this._mediaHeartbeat){var e=this._container.getBoundingClientRect(),t=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth);return t&&(window.removeEventListener("scroll",this._trackInViewListenerReference),Hl.linkTrackEvents=Hl.events="event141",Hl.linkTrackVars="pageName,events,eVar4,eVar11,eVar3,eVar32,eVar26,channel,prop1,prop19,prop2,prop26,prop4,prop20,eVar72,eVar73,eVar38,eVar114,list3",window.utag_data&&(Hl.pageName=window.utag_data.article_headline_orig_post?window.utag_data.article_headline_orig_post:"WSJ_Article_"+window.utag_data.article_type+"_"+window.utag_data.article_headline,Hl.eVar11=window.utag_data.page_site?window.utag_data.page_site:"D=ch",Hl.eVar3=window.utag_data.user_ref?window.utag_data.user_ref:Se("TR"),Hl.eVar32=window.utag_data.user_tag?window.utag_data.user_tag:"",Hl.eVar26=window.utag_data.user_type_post?window.utag_data.user_type_post:"",Hl.prop1=window.utag_data.page_content_type?window.utag_data.page_content_type:"",Hl.prop19=window.utag_data.page_content_type_detail_post?window.utag_data.page_content_type_detail_post:"",Hl.prop2=window.utag_data.page_section_post?window.utag_data.page_section_post:"",Hl.prop26=window.utag_data.page_subsection_post?window.utag_data.page_subsection_post:"",Hl.prop4=window.utag_data.article_headline_orig_post?window.utag_data.article_headline_orig_post:"",Hl.prop20=window.utag_data.article_id?window.utag_data.article_id:"",Hl.eVar72=window.location!=window.parent.location?document.referrer:document.location.href,Hl.eVar73=window.utag_data.article_id?window.utag_data.article_id:"",Hl.eVar38=Hl.prop19),Hl.eVar114=this._videodata.name,Hl.list3="video_"+this._videodata.guid,Hl.tl(!0,"o","Video in View")),t}return!1},getAdData:function(){var e="",t={};"string"==typeof this.getMeta("user.type")&&""!==this.getMeta("user.type")&&(t.usertype=this.getMeta("user.type")),"string"==typeof this.getMeta("page.id")&&""!==this.getMeta("page.id")&&(t.pageid=this.getMeta("page.id")),"string"==typeof this.getMeta("article.section")&&""!==this.getMeta("article.section")&&(t.articlesection=this.getMeta("article.section")),"string"==typeof this.getMeta("article.type")&&""!==this.getMeta("article.type")&&(t.articletype=this.getMeta("article.type")),"string"==typeof this.getMeta("page.content.type")&&""!==this.getMeta("page.content.type")&&(t.pagecontenttype=this.getMeta("page.content.type")),t.refsec=encodeURIComponent(function(){const e=document.createElement("a");if(e.href=document.referrer,e.hostname.indexOf("wsj.com")<0&&e.hostname.indexOf("barrons.com")<0)return"";let t=e.pathname;"/"===t[0]&&(t=t.substring(1));const i=t.replace(/\//g,",").split(",");return"articles"===i[0]?"":i.join(",")}()),"object"==typeof window.utag_data&&(window.utag_data.user_type&&(t.usertype=window.utag_data.user_type),window.utag_data.article_id&&(t.articleid=window.utag_data.article_id),window.utag_data.article_type&&(t.articletype=window.utag_data.article_type),window.utag_data.page_section&&(t.articlesection=window.utag_data.page_section),window.utag_data.page_subsection&&(t.articlepage=window.utag_data.page_subsection));try{return Object.keys(t).forEach((function(i,n){e+="%26"+i+"%3D"+t[i]})),e}catch(e){return""}return""},getMeta:function(e){try{for(var t=document.getElementsByTagName("meta"),i=0;i<t.length;i++)if(t[i].getAttribute("name")==e)return"_"+t[i].getAttribute("content");return""}catch(e){return""}},loadScript:function(e,t,i){var n=this,a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:(a.onload=function(){t(n)},a.onerror=function(){i(n)}),a.src=e,document.getElementsByTagName("head")[0].appendChild(a)},trigger:function(e,t,i){try{const n=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:i});n.data=i,e.dispatchEvent(n)}catch(e){this.log("Failed to dispatch event: ".concat(e.message))}},createMark:function(e){ye(e)}};const Yl=function(e){const t={length:1};if("string"===(typeof e).toLowerCase()){var i=document.querySelectorAll(e);i.length>0&&(t.element=i[0])}else t.element=e;t.WSJVideo=function(e){new Kl(this.element,e).init();return t.element.data=function(){return this.element},t.element};try{t.data=t.element.data}catch(i){}return t}})(),window.$jQ111=o.default})();
//# sourceMappingURL=video.min.js.map