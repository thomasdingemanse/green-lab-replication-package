(window.webpackJsonp=window.webpackJsonp||[]).push([["scripts"],{10046406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7220c657");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(n("4cbca5a5"));var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function l(e){var t=(new Date).getFullYear()===e.getFullYear()?"EEEE, do MMMM":"EEEE, do MMMM yyyy";return i.default.format(e,t)}var d=function(e){return e instanceof Date&&!isNaN(e.getMilliseconds())};function u(e){var t,n=e.scheduledStartTime,r=e.scheduledEndTime,a=e.showTime,s=void 0!==a&&a,c=d(n),u=d(r);return r&&c&&u&&s?t=function(e,t){var n=Date.now(),o=Math.floor(n/864e5),r=Math.floor(e.getTime()/864e5-o),a=n>=e.getTime()&&n<t.getTime();return a&&0===r?"Started at "+i.default.format(e,"HH:mm"):a&&-1===r?"Started yesterday at "+i.default.format(e,"HH:mm"):a&&r>-7?"Started on "+i.default.format(e,"EEEE"):a?"Started on "+l(e):0===r?"Today at "+i.default.format(e,"HH:mm"):1===r?"Tomorrow at "+i.default.format(e,"HH:mm"):l(e)}(n,r):c&&(t=l(n)),o.h("span",{className:"event-teaser__timestamp"},t&&o.h("time",{dateTime:n.toISOString()},t))}function p(e){var t=e.location;return o.h("span",{className:"event-teaser__location"},t)}function m(e){var t=e.title,n=e.eventUrl;return o.h("a",{className:"event-teaser__title","data-trackable":"event-teaser-title",href:n,title:t},t)}var g={source:"community-event-teaser",fit:"scale-down",dpr:2};var f=new Map([["XS",180],["Small",240],["Medium",340],["Large",420]]);function h(e){var t=e.url,n=e.eventUrl,r=e.lazyLoad,i=e.imageSize,l=void 0===i?"XS":i;if(!t)return null;var d=t;return t.startsWith("data:")||t.startsWith("blob:")||t.includes("localhost")||(d=function(e,t,n){var o,r;void 0===n&&(n={});var i=new URL("".concat("https://www.ft.com/__origami/service/image/v2/images/raw","/").concat(encodeURIComponent(e)));try{for(var l=s(Object.entries(a(a({},g),n))),d=l.next();!d.done;d=l.next()){var u=c(d.value,2),p=u[0],m=u[1];i.searchParams.set(p,String(m))}}catch(e){o={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}return i.searchParams.set("width",String(t)),i.href}(t,f.get(l)||f.get("XS"))),o.h("div",{className:"event-teaser__image-container"},o.h("a",{"data-trackable":"event-teaser-image",href:n,tabIndex:-1,"aria-hidden":"true"},o.h("div",{className:"event-teaser__image-placeholder"},r?o.h("img",{className:"event-teaser__image ".concat("string"==typeof r?r:""),"data-src":d,alt:""}):o.h("img",{className:"event-teaser__image",src:d,alt:""}))))}function y(e){var t=e.standfirst;return o.h("span",{className:"event-teaser__standfirst"},t)}function b(){return o.h("a",{className:"event-teaser__brand",href:"https://live.ft.com","data-trackable":"event-teaser-brand-link"},"FT Live")}function v(e){var t=e.brand,n=e.imgTitle;return o.h("div",{className:"community-brand-banner__image community-event-banner__brand community-event-banner--".concat(t)},o.h("span",{className:"visually-hidden"},n))}function w(e){var t=e.url,n=e.buttonText;return o.h("div",{className:"community-brand-banner__button_container"},o.h("a",{className:"community-brand-banner__button","data-trackable":"community-brand-banner-button",href:t,title:n},n))}function k(e){var t=e.text;return o.h("span",{className:"community-brand-banner__title"},t)}var S={"ft-live":{imgTitle:"FT Live",titleText:"World-class events from The Financial Times",url:"https://live.ft.com",buttonText:"See upcoming events"},"ft-forums":{imgTitle:"FT Forum",titleText:"A series of members-only communities, powered by the Financial Times",url:"https://forums.ft.com",buttonText:"Find out more"},bdp:{imgTitle:"Board Director Programme",titleText:"Delivers board education to support senior professionals at all career stages",url:"https://bdp.ft.com",buttonText:"Sign up here"}};var E={london:{text:"London with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/london.jpg",url:"https://www.ft.com/globetrotter/london"},paris:{text:"Paris with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/paris.jpg",url:"https://www.ft.com/globetrotter/paris"},rome:{text:"Rome with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/rome.jpg",url:"https://www.ft.com/globetrotter/rome"},frankfurt:{text:"Frankfurt with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/frankfurt.jpg",url:"https://www.ft.com/globetrotter/frankfurt"},"new-york-city":{text:"New York City with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/new-york-city.jpg",url:"https://www.ft.com/globetrotter/new-york-city"},miami:{text:"Miami with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/miami.jpg",url:"https://www.ft.com/globetrotter/miami"},"hong-kong":{text:"Hong Kong with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/hong-kong.jpg",url:"https://www.ft.com/globetrotter/hong-kong"},tokyo:{text:"Tokyo with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/tokyo.jpg",url:"https://www.ft.com/globetrotter/tokyo"},singapore:{text:"Singapore with the FT",imageUrl:"https://www.ft.com/__assets/creatives/globetrotter/cities/720w/singapore.jpg",url:"https://www.ft.com/globetrotter/singapore"},general:{title:"FT Globetrotter",buttonText:"Explore our city guide",dataTrackable:"ft-globetrotter-banner"}};function T(e){var t=e.cityName;return o.h("div",{className:"city-banner__image-container","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("a",{href:E[t].url,"aria-hidden":"true","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("div",{className:"city-banner__image-placeholder","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("img",{className:"city-banner__image",src:E[t].imageUrl,alt:t,"data-trackable":E.general.dataTrackable,"data-trackable-context-city":t}))))}function A(e){var t=e.cityName;return o.h("div",{className:"city-banner__button-container","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("div",{className:"city-banner__button","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("a",{href:E[t].url,title:t,"data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},E.general.buttonText)))}function C(e){var t=e.cityName;return o.h("div",{className:"city-banner__content-container","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("div",{className:"city-banner__details","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h("a",{className:"city-banner__brand",href:E[t].url,"data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},E.general.title),o.h("a",{className:"city-banner__title",href:E[t].url,title:t,"data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},E[t].text)),o.h(A,{cityName:t}))}var _={eventpromoToEventTeaserProps:function(e){return{eventUrl:e.eventUrl,imgUrl:e.imageUrl,lazyLoadImage:!1,location:e.location,scheduledEndTime:new Date(e.scheduledEndTime),scheduledStartTime:new Date(e.scheduledStartTime),showBrand:!1,showImage:!1,showStandfirst:!1,showTimeInTimestamp:!1,standfirst:e.strapline,title:e.title,id:e.contentId}},initTeaserTracking:function(e){var t,n,o,r=Array.from(document.querySelectorAll(".event-teaser"));try{for(var i=s(r),a=i.next();!a.done;a=i.next()){var c=a.value,l=c.getAttribute("data-trackable-context-content-id"),d=null===(o=c.querySelector(".event-teaser__title"))||void 0===o?void 0:o.textContent;if(l&&d){var u={detail:{contentId:l,title:d,category:"event-teaser",action:"component-mounted"}};e.event(u)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.view.init({selector:".event-teaser",getContextData:function(e){return{componentContentId:e.getAttribute("data-trackable-context-content-id")}}})}};t.BrandBanner=function(e){var t=e.brand;return o.h("div",{className:"community-brand-banner community-brand-banner--".concat(t),"data-trackable":"community-brand-banner"},o.h(v,{brand:t,imgTitle:S[t].imgTitle}),o.h(k,{text:S[t].titleText}),o.h("div",{className:"community-brand-banner__content-container"},o.h(w,{url:S[t].url,buttonText:S[t].buttonText})))},t.CityBanner=function(e){var t=e.city;return o.h("div",{className:"city-banner","data-trackable":E.general.dataTrackable,"data-trackable-context-city":t},o.h(C,{cityName:t}),o.h(T,{cityName:t}))},t.EventTeaser=function(e){var t=e.id,n=e.title,r=e.eventUrl,i=e.location,a=e.scheduledStartTime,s=e.scheduledEndTime,c=e.standfirst,l=e.imgUrl,d=e.showStandfirst,g=void 0===d||d,f=e.showImage,v=void 0===f||f,w=e.showTimeInTimestamp,k=void 0!==w&&w,S=e.lazyLoadImage,E=void 0!==S&&S,T=e.showBrand,A=void 0===T||T;return o.h("div",{className:"event-teaser","data-trackable":"event-teaser","data-trackable-context-content-id":t,"data-o-tracking-view":!0},v&&l&&o.h(h,{url:l,eventUrl:r,imageSize:"Small",lazyLoad:E}),o.h("div",{className:"event-teaser__content-container"},o.h("div",{className:"event-teaser__details"},A&&o.h(b,null),o.h(m,{title:n,eventUrl:r}),g&&c&&o.h(y,{standfirst:c})),o.h("div",{className:"event-teaser__footer"},o.h(u,{scheduledStartTime:a,scheduledEndTime:s,showTime:k}),o.h(p,{location:i}))))},t.EventTopicCardItem=function(e){var t=e.title,n=e.eventUrl,r=e.location,i=e.scheduledStartTime,a=e.scheduledEndTime,s=e.showTimeInTimestamp;return o.h("div",{className:"event-teaser event-teaser--topic-card-item","data-trackable":"event-teaser","data-o-tracking-view":!0},o.h("div",{className:"event-teaser__content-container"},o.h("div",{className:"event-teaser__details"},o.h(m,{title:t,eventUrl:n})),o.h("div",{className:"event-teaser__footer"},o.h(u,{scheduledStartTime:i,scheduledEndTime:a,showTime:s}),o.h(p,{location:r}))))},t.utils=_},"1583de32":function(e,t,n){"use strict";e.exports=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)},"1d447277":function(e,t,n){"use strict";n.r(t);var o=n("c5f40edf"),r=n.n(o),i=n("8ae80ca4"),a=n("9d24bbd0"),s=n("2e1dcbec"),c=n("c735c384"),l=n("1ea81dd9"),d=n("d2988f39"),u=n("89cc756e"),p=n("52af5167"),m=n("bb023db8"),g=n("86c3283f"),f=n("3c85f3e3");const h=e=>{const t=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;t&&t.mark&&(t.clearMarks(e),t.mark(e))};function y(e){let t="";return e&&"object"==typeof e&&"pos"in e&&"name"in e&&(t="__"+[e.pos,e.name,e.size,e.creativeId].join("__")),t}function b(e,t,n){e="oAds."+e,(n=n||document.body||document.documentElement).addEventListener(e,t)}function v(e,t){if(!performance||!performance.getEntriesByType)return;const n=e.filter(e=>t.includes(e.spoorAction)).map(e=>e.marks),o=[].concat(...n);performance.getEntriesByType("mark").forEach(e=>{let{name:t}=e;o.forEach(e=>{t.match("oAds."+e)&&performance.clearMarks(t)})})}var w={post:function(e,t){e="string"==typeof e?e:JSON.stringify(e),(t=arguments[1]||window.top).postMessage(e,"*")},parse:function(e){if("string"!=typeof e||"{"!==e[0])return e;try{return JSON.parse(e)}catch(t){return e}}};let k,S,E;function T(){let e;const t=f.default.getSize(!0);return Object.keys(S).forEach((function(n){const o=S[n];t.width>=o[0]&&t.height>=o[1]&&(!e||o[0]>=S[e][0])&&(e=n)})),e}function A(){const e=T();E!==e&&(C(e),k(e))}function C(e){E=e}function _(){return E}function O(e,t){return!!U.isFunction(t)&&(S=e,k=t,C(T()),document.body.addEventListener("oViewport.orientation",A),document.body.addEventListener("oViewport.resize",A),f.default.listenTo("orientation"),f.default.listenTo("resize"),_())}function L(){let e,t;-1==="log warn error info".indexOf(arguments[0])?(e="log",t=0):(e=arguments[0],t=1);const n=[].slice.call(arguments,t);L.isOn(e)&&window.console[e].apply(window.console,n)}f.default.setThrottleInterval;const x=Object.prototype.hasOwnProperty;function P(e){const t=Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1];return null===e?"Null":void 0===e?"Undefined":t}O.getCurrent=_,L.start=function(e){L.isOn("groupCollapsed")&&window.console.groupCollapsed(e||"o-ads")},L.end=function(){L.isOn("groupEnd")&&window.console.groupEnd()},L.isOn=function(e){return(localStorage&&localStorage.getItem("oAds")||-1!==location.search.indexOf("DEBUG=OADS"))&&window.console&&window.console[e]},L.info=function(){const e=["info"].concat([].slice.call(arguments,0));L.apply(null,e)},L.warn=function(){const e=["warn"].concat([].slice.call(arguments,0));L.apply(null,e)},L.error=function(){const e=["error"].concat([].slice.call(arguments,0));L.apply(null,e)},L.table=function(e,t){L.isOn("log")&&window.console&&(console.table?console.table(e,t):console.log(e))},L.attributeTable=function(e,t){if(L.isOn("log")&&window.console)if(e&&console.table){const n=Object.keys(e).map(t=>{let n;return n=I(e[t])||M(e[t])?JSON.stringify(e[t]):e[t],{key:t,value:n}});console.table(n,t)}else console.log(e)};const I=function(e){return"Array"===P(e)},j=function(e){return"String"===P(e)},z=function(e){return"Function"===P(e)},M=function(e){return"Object"===P(e)},N=function(e){return e&&null!==e&&e===window},D=function(e){const t=Object.prototype.hasOwnProperty;if(!e||!M(e)||e.nodeType||N(e))return!1;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}let n;for(n in e);return void 0===n||t.call(e,n)};const R=function(e){return e.replace(/(-)([a-z])/g,(function(e,t,n){return n.toUpperCase()}))},F=Math.random();var U={on:b,off:function(e,t,n){e="oAds."+e,(n=n||document.body||document.documentElement).removeEventListener(e,t)},once:function(e,t,n){b(e,(function(n){(n.target||n.srcElement).removeEventListener(e="oAds."+e,t),t&&(t(n),t=null)}),n)},broadcast:function(e,t,n){n=n||document.body||document.documentElement,e="oAds."+e;const o={bubbles:!0,cancelable:!0,detail:t},r=y("object"==typeof t&&"pos"in t?{pos:t.pos,name:t.name,size:t.size&&t.size.length?t.size.toString():"",creativeId:t.creativeId}:{});h(e+r),n.dispatchEvent(new CustomEvent(e,o))},messenger:w,responsive:O,log:L,isArray:I,isString:j,isFunction:z,isStorage:function(e){return"Storage"===P(e)},isObject:M,isWindow:N,isPlainObject:D,isNonEmptyString:function(e){return j(e)&&Boolean(e.length)},isElement:function(e){return e&&1===e.nodeType&&e.tagName||!1},extend:function e(){let t,n,o,r,i,a=arguments[0]||{};const s=arguments.length;let c=!1,l=1;if("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||z(a)||(a={}),s===l)return a;for(;l<s;l++)if(null!==(t=arguments[l]))for(const s in t)if(t.hasOwnProperty(s)){if(n=a[s],o=t[s],a===o)continue;c&&o&&(D(o)||I(o))?(r=I(o),r?(r=!1,i=n&&I(n)?n:[]):i=n&&M(n)?n:{},a[s]=e(c,i,o)):void 0!==o&&(a[s]=o)}return a},hash:function(e,t,n){let o,r;const i={};if(e&&e.split)for(let a=0,s=(e=e.split(t)).length;a<s;a+=1)r=e[a],o=r.split(n),o.length>1&&(i[o[0].trim()]=o.slice(1).join(n));return i},attach:function(e,t,n,o,r){const i=document.createElement("script"),a=document.getElementsByTagName("script")[0];let s=!1;function c(e){s||(e.call(),s=!0,r&&i.parentElement.removeChild(i))}return i.setAttribute("src",e),i.setAttribute("o-ads",""),t&&(i.async="true"),z(n)&&(x.call(i,"onreadystatechange")?i.onreadystatechange=function(){"loaded"===i.readyState&&c(n)}:i.onload=function(){c(n)}),z(o)&&(i.onerror=function(){c(o)}),a.parentNode.insertBefore(i,a),i},getReferrer:function(){return document.referrer||""},dehyphenise:R,parseAttributeName:function(e){const t=j(e)?e:e.name;return R(t.replace(/(data-)?o-ads-/,""))},getLocation:function(){return document.location.href||""},getQueryString:function(){return document.location.search.substring(1)||""},getQueryParamByName:function(e,t){t=t||window.location.href,e=e.replace(/[[\]]/g,"\\$&");const n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getTimestamp:function(){const e=new Date;return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2),("0"+e.getHours()).slice(-2),("0"+e.getMinutes()).slice(-2),("0"+e.getSeconds()).slice(-2)].join("")},iframeToSlotName:function(e){const t=document.getElementsByTagName("iframe");let n,o,r=t.length;for(;r--;)if(t[r].contentWindow===e){o=t[r];break}if(o)for(;o.parentNode;){if(n=o.getAttribute("data-o-ads-name"),n)return n;o=o.parentNode}return!1},buildObjectFromArray:function(e){return e.reduce((e,t)=>(e[t.key]=t.value,e),{})},cookie:function(e){const t=document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():null},getVersion:()=>"18.3.3",setupMetrics:function(e,t,n){Array.isArray(e)?e.forEach((function(e){if(n||U.inSample(e.sampleSize)){(Array.isArray(e.triggers)?e.triggers:[]).forEach((function(n){!function(e,t,n){document.addEventListener(e,(function o(r){!function(e,t,n){const o=U.buildPerfmarkSuffix(t),r=function(e,t){const n=e.map(e=>"oAds."+e+t);if(!performance||!performance.getEntriesByName)return{};const o={};return n.forEach((function(e){const n=performance.getEntriesByName(e),r=e.replace("oAds.","").replace(t,"");if(n&&n.length)o[r]=Math.round(n[0].startTime);else if(t){const n=e.replace(t,""),i=performance.getEntriesByName(n);i&&i.length&&(o[r]=Math.round(i[0].startTime))}})),o}(e.marks,o);if(e.navigation){const t=function(e){if(!performance||!performance.getEntriesByType||!U.isArray(e))return{};const t=performance.getEntriesByType("navigation"),n=U.isArray(t)&&t[0]||{},o={};return e.forEach((function(e){o[e]="number"==typeof n[e]?Math.round(n[e]):0})),o}(e.navigation);Object.assign(r,t)}const i={category:"ads",action:e.spoorAction,timings:{marks:r}};i.advert={correlator:window.oAds.gpt.getCorrelator()},t&&"pos"in t&&(i.creative={name:t.name,pos:t.pos,size:t.size&&t.size.toString(),creativeId:t.creativeId||0},"boolean"==typeof t.isEmpty&&(i.creative.isEmpty=t.isEmpty));n(i)}(t,r.detail,n),t.multiple||document.removeEventListener(e,o)}))}("oAds."+n,e,t)}))}})):this.log.warn("Metrics definitions should be an array. o-Ads will not record any metrics.")},clearPerfMarks:v,markPageChange:function(e,t){v(e,t),U.broadcast("pageChange")},inSample:function(e){return void 0===e||e>F},perfMark:h,buildPerfmarkSuffix:y};const $={formats:{PartnerContent:{sizes:["fluid"]},MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0},displayLabelWithBorders:!1};function B(){this.store={}}B.prototype.access=function(e,t){let n;return U.isPlainObject(e)?(U.extend(!0,this.store,e),n=this.store):void 0===t?n=void 0===e?this.store:this.store[e]:(this.store[e]=t,n=t),n},B.prototype.clear=function(e){e?delete this.store[e]:this.store={}},B.prototype.init=function(){return this.store=U.extend(!0,{},$,function(){let e;const t=document.querySelector('link[rel="canonical"]');return t&&(e=t.href),{canonical:e}}(),function(){let e={};return Array.from(document.querySelectorAll("script[data-o-ads-config]")).forEach(t=>{e=window.JSON?U.extend(e,JSON.parse(t.innerHTML)):"UNSUPPORTED"}),e}()),this.store};const q=new B;var V=q.access.bind(q);const H=q.init.bind(q),G=q.clear.bind(q),J=["fluid"],W=["before","after","never"],Y={sizes:function(e,t){if(!1===e||"false"===e)return!1;if(U.isArray(t)){const n=/(\d+)x(\d+)/;e.split(",").filter(e=>e.length).forEach(e=>{n.test(e)?e.replace(n,(function(e,n,o){t.push([parseInt(n,10),parseInt(o,10)])})):J.indexOf(e)>=0&&t.push(e)})}return t},formats:function(e,t){if(!1===e||"false"===e)t=!1;else{const n=V().formats;(U.isArray(e)?e:e.split(",")).forEach(e=>{n&&n[e]?(e=n[e],U.isArray(e.sizes[0])||J.indexOf(e.sizes[0])>=0?e.sizes.forEach(e=>{t.push(e)}):t.push(e.sizes)):U.log.error("Slot configured with unknown format "+e)})}return t},responsiveSizes:function(e,t,n){const o=e.replace(/^sizes/,"").toLowerCase();return U.isPlainObject(n)||(n={}),n[o]=Y.sizes(t,n[o]||[]),n},responsiveFormats:function(e,t,n){const o=e.replace(/^formats/,"").toLowerCase();return U.isPlainObject(n)||(n={}),n[o]=Y.formats(t,[]),n},lazyLoadThreshold:function(e){return e.split(",").map(Number)},targeting:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return t;try{if(e.includes(";"))throw t={...t,...U.hash(e,";","=")},new Error(`legacy targeting format detected: consider url-encoding '${e}' instead`);const n=new URLSearchParams(e);t={...t,...Object.fromEntries(n)}}catch({message:e}){console.warn(e)}return t},base:function(e){return""===e||"true"===e?e=!0:"false"===e&&(e=!1),e},collapseEmpty:function(e){if(-1!==W.indexOf(e))return e;U.log.warn(`Invalid attribute ${e} used for collapse-empty attribute, please use 'before', 'after' or 'never'`)}},K=e=>{!0===e.lazyLoad&&(e.lazyLoad={})},X=e=>{const t=e.detail.slot;t.screensize=e.detail.screensize,t.hasValidSize()?t.uncollapse():(t.collapse(),t.clear())};function Q(e,t,n){const o=V();let r=V("slots")||{};this.container=e,t&&(this.screensize=t),this.outer=this.addContainer(e,{class:"o-ads__outer","aria-hidden":"true",tabindex:"-1"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),r=r[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=r.targeting||{},this.sizes=r.sizes||[],this.center=r.center||!1,this.label=r.label||!1,this.outOfPage=r.outOfPage||!1,this.companion=!1!==r.companion,this.collapseEmpty=r.collapseEmpty,U.isArray(r.formats)?Y.formats(r.formats,this.sizes):U.isPlainObject(r.formats)&&(this.sizes={},Object.keys(r.formats).forEach(e=>{this.sizes[e]=Y.formats(r.formats[e],[])})),void 0!==r.lazyLoad?this.lazyLoad=r.lazyLoad:this.lazyLoad=V("lazyLoad")||!1;const i=e.querySelector(".o-ads__outer");if(i&&o.displayLabelWithBorders&&this.container.getAttribute("data-o-ads-label")){const e=["left","center","right"],t=this.container.getAttribute("data-o-ads-label");U.once("slotRenderStart",()=>{const n=e.indexOf(t)?t:"left";i.classList.add("o-ads--label-with-borders","o-ads--label-with-borders--"+n)})}if(this.parseAttributeConfig(),!this.sizes.length&&!U.isPlainObject(this.sizes))return U.log.error("slot %s has no configured sizes!",this.name),!1;this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),this.initResponsive()}function Z(e){if(!Array.isArray(e.sizes))return"responsive slot";const t=[];for(const n of e.sizes)t.push(Array.isArray(n)?n.join("×"):n);return t.join(", ")}function ee(e){let{targeting:t}=e;const n=[];for(const[e,o]of Object.entries(t||{}))n.push(`${e}=${o}`);return n.join(", ")}function te(e){let{gpt:t}=e;return void 0===t?"gpt is undefined":t.isEmpty?"empty":Array.isArray(t.size)?t.size.join("×"):"N/A"}Q.prototype.parseAttributeConfig=function(){Array.from(this.container.attributes).forEach(e=>{const t=U.parseAttributeName(e.name),n=e.value;"formats"===t?this[t]=Y[t](n,this.sizes):"collapseEmpty"===t?this.collapseEmpty=Y.collapseEmpty(n):"lazyLoadThreshold"===t&&this.lazyLoad?(K(this),this.lazyLoad.threshold=Y.lazyLoadThreshold(n)):"lazyLoadViewportMargin"===t&&this.lazyLoad?(K(this),this.lazyLoad.viewportMargin=Y.base(n)):Y[t]?this[t]=Y[t](n,this[t]):/^formats\w*/.test(t)?this.sizes=Y.responsiveFormats(t,n,this.sizes):/^sizes\w*/.test(t)?this.sizes=Y.responsiveSizes(t,n,this.sizes):this.hasOwnProperty(t)&&(this[t]=Y.base(n))})},Q.prototype.getAttributes=function(){const e={};return Array.from(this.container.attributes).forEach(t=>{e[U.parseAttributeName(t)]=t.value}),this.attributes=e,this},Q.prototype.initLazyLoad=function(){return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&U.once("masterLoaded",()=>{this.hasValidSize()&&this.render()},this.container)),this},Q.prototype.render=function(){this.fire("slotCanRender"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},Q.prototype.initResponsive=function(){return U.isPlainObject(this.sizes)&&(this.hasValidSize()||this.collapse(),U.on("breakpoint",X,this.container)),this},Q.prototype.maximise=function(e){e&&100===Number(e[0])&&100===Number(e[1])&&this.fire("resize",{size:["100%","100%"]})},Q.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-"+Math.floor(1e4*Math.random()),this.container.setAttribute("data-o-ads-name",this.name)),this},Q.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-"+this.name),U.broadcast("collapsed",this),this},Q.prototype.addClass=function(e){return this.container.classList.add("o-ads-"+e),U.broadcast("slotClassAdded",this),this},Q.prototype.setFormatLoaded=function(e){return this.container.setAttribute("data-o-ads-loaded",e),this},Q.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-"+this.name),this},Q.prototype.clear=function(){return U.isFunction(this.clearSlot)&&this.clearSlot(),this},Q.prototype.destroy=function(){return U.isFunction(this.destroySlot)&&(U.off("breakpoint",X,this.container),this.destroySlot(),this.outer.parentElement===this.container?this.container.removeChild(this.outer):console.error("Error destroying ad slot. The parent node has already been removed.")),this},Q.prototype.submitImpression=function(){return U.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},Q.prototype.fire=function(e,t){const n=this.gpt||{},o={name:this.name||"",pos:this.targeting&&this.targeting.pos||"",size:n.size||"",creativeId:n.creativeId||"",slot:this};return"boolean"==typeof n.isEmpty&&(o.isEmpty=n.isEmpty),U.isPlainObject(t)&&U.extend(o,t),U.broadcast(e,o,this.container),this},Q.prototype.addContainer=function(e,t){let n="<div ";return t&&Object.keys(t).forEach((function(e){const o=t[e];n+=`${e}=${o} `})),n+="></div>",e.insertAdjacentHTML("beforeend",n),e.lastChild},Q.prototype.hasValidSize=function(e){return!(e=e||this.screensize)||!U.isPlainObject(this.sizes)||!1!==this.sizes[e]},Q.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},Q.prototype.labelContainer=function(){let e;return!0===this.label||"left"===this.label?e="label-left":"right"===this.label&&(e="label-right"),e&&!V("displayLabelWithBorders")&&this.container.classList.add("o-ads--"+e),this};let ne=null;function oe(){}function re(e,t,n){let o=[];return e=e||Object.keys(this),U.isNonEmptyString(e)?o.push(e):U.isArray(e)&&(o=e),o.forEach(ie.bind(null,this,t)),U.isFunction(n)&&n.call(this,o),this}function ie(e,t,n){const o=e[n];o?U.isFunction(o[t])?o[t]():U.isFunction(o.fire)?o.fire(t):U.log.warn("Attempted to %s on a non-slot %s",t,n):U.log.warn("Attempted to %s non-existant slot %s",t,n)}function ae(e){if(!e)return!1;const t=V("formats");for(const n in t)if(t.hasOwnProperty(n)){let o=t[n].sizes;o=U.isArray(o[0])?o:[o];if(o.filter((function(t){return t[0]===parseInt(e[0],10)&&t[1]===parseInt(e[1],10)})).length)return n}}function se(e,t){e.forEach((function(e){if(e){const n=e.container&&"Responsive"===e.container.getAttribute("data-o-ads-loaded"),o=e.sizes[t]&&e.sizes[t].filter(e=>"Responsive"===ae(e)).length>0;if(n&&o)return!1;e.screensize=t,e.fire("breakpoint",{screensize:t})}}))}oe.prototype.collapse=function(e){return re.call(this,e,"collapse")},oe.prototype.uncollapse=function(e){return re.call(this,e,"uncollapse")},oe.prototype.refresh=function(e){return re.call(this,e,"refresh")},oe.prototype.clear=function(e){return re.call(this,e,"clear")},oe.prototype.destroy=function(e){return re.call(this,e,"destroy",(function(e){e.forEach(e=>{this[e]=null,delete this[e]})}))},oe.prototype.submitImpression=function(e){return re.call(this,e,"submitImpression")},oe.prototype.initSlot=function(e){if(U.isString(e)&&(e=document.getElementById(e)||document.querySelector(`[data-o-ads-name="${e}"]`))&&e.id&&(e.setAttribute("data-o-ads-name",e.id),e.removeAttribute("id")),!U.isElement(e))return U.log.error("slot container must be an element!",e),!1;e.setAttribute("aria-hidden","true");const t=new Q(e,ne,this.initLazyLoading.bind(this));return t&&!this[t.name]?(this[t.name]=t,t.fire("slotReady")):this[t.name]&&U.log.error("slot %s is already defined!",t.name),t},oe.prototype.initRefresh=function(){if(V("flags").refresh&&V("refresh")){const e=V("refresh");if(this.refreshCount=0,e.time&&!e.inview){const t=()=>{!e.max||this.refreshCount++<e.max?this.refresh():this.refreshCount>=e.max&&clearInterval(t)};setInterval(t,1e3*(parseFloat(e.time)||1))}}return this},oe.prototype.initRendered=function(){return U.on("slotRenderStart",function(e,t){const n=e[t.detail.name];if(n){U.extend(n[n.server],t.detail[n.server]);const e=t.detail.gpt.size,o=ae(e);n.setFormatLoaded(o),n.maximise(e),n.fire("slotExpand",t.detail)}}.bind(null,this)),this},oe.prototype.initResponsive=function(){const e=V("responsive");return U.isObject(e)&&(ne=U.responsive(e,se.bind(null,this))),this},oe.prototype.initPostMessage=function(){window.addEventListener("message",function(e,t){const n=U.messenger.parse(t.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){const o=n.type.replace("oAds.",""),r=U.iframeToSlotName(t.source.window),i=e[r]||!1;if(!i)return void U.log.error("Message received from unidentified slot");switch(o){case"adIframeLoaded":i.fire("slotRenderEnded");break;case"slotClass":n.slotClass&&i.addClass(n.slotClass);break;case"collapse":i.fire("slotCollapsed"),i.collapse();break;case"heavyAdReporting":i.fire("slotHeavyAdReporting");break;default:/^touch/.test(n.type)?i.fire("touch",n):U.log.error("Unknown message received from o-ads-embed")}}}.bind(null,this),!1)},oe.prototype.flushLazyLoading=function(){this.lazyLoadingObservers=this.lazyLoadingObservers.filter(e=>Boolean(!e.root||document.contains(e.root)))},oe.prototype.initLazyLoading=function(e){const t=V("lazyLoad")||e|{};this.lazyLoadingObservers=this.lazyLoadingObservers||[],this.flushLazyLoading();let n=this.lazyLoadingObservers.find(e=>t.root==e.root);if("IntersectionObserver"in window&&!n&&Boolean(t)){const e={};"object"==typeof t&&(t.viewportMargin&&(e.rootMargin=t.viewportMargin),t.threshold&&(e.threshold=t.threshold),e.root=t.root||null),n=new IntersectionObserver(function(e){e.filter(e=>e.intersectionRect.height||e.intersectionRect.width||e.intersectionRect.top||e.intersectionRect.left).sort((e,t)=>e.intersectionRect.top-t.intersectionRect.top).forEach(e=>{const t=e.target.getAttribute("data-o-ads-name");t&&re.call(this,t,"render")})}.bind(this),e),this.lazyLoadingObservers.push(n)}return n},oe.prototype.forEach=function(e){return Object.keys(this).forEach(t=>{const n=this[t];n instanceof Q&&e.call(this,n)}),this},oe.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},oe.prototype.debug=function(){!function(e){const t=[];for(const i of e)if("name"in i){var n,o,r;const e={name:i.name,"unit name":null===(n=i.gpt)||void 0===n?void 0:n.unitName,"creative id":(null===(o=i.gpt)||void 0===o?void 0:o.creativeId)||"N/A","line item id":(null===(r=i.gpt)||void 0===r?void 0:r.lineItemId)||"N/A",size:te(i),sizes:Z(i),targeting:ee(i)};t.push(e)}console.group("Creatives"),console.table(t),console.groupEnd()}(Object.values(this))};var ce=new oe;let le={};function de(){}de.prototype.get=function(){const e={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};U.extend(le,this.socialFlow(),this.getVersion());for(const t in e)e.hasOwnProperty(t)&&U.extend(le,e[t]());return le},de.prototype.add=function(e){U.isPlainObject(e)&&U.extend(le,e)},de.prototype.remove=function(e){le[e]&&delete le[e]},de.prototype.clear=function(){le={}},de.prototype.getVersion=function(){if(V("passOAdsVersion"))return{OADS_VERSION:U.getVersion()}},de.prototype.socialFlow=function(){const e=U.getQueryParamByName("socialflow");if(e)return{socialflow:e}},de.prototype.getSocialReferrer=function(){let e;const t=U.getReferrer(),n={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru","dianomi.com":"dia",google:"goo"};return Object.keys(n).forEach(o=>{new RegExp(`^http(|s)://(www.)*(${o})`).test(t)&&(e=n[o])}),e&&{socref:e}||{}},de.prototype.searchTerm=function(){const e=U.hash(U.getQueryString(),/&|;/,"=");let t=e.q||e.s||e.query||e.queryText||e.searchField||void 0;return t&&""!==t&&(t=unescape(t).toLowerCase().replace(/[';^+]/g," ").replace(/\s+/g," ").trim()),{kw:t}},de.prototype.timestamp=function(){return{ts:U.getTimestamp()}},de.prototype.responsive=function(){return V("responsive")?{res:U.responsive.getCurrent()}:{}},de.prototype.debug=function(){const e=U.log,t=this.get();0!==Object.keys(t).length&&(e.start("Targeting"),e.attributeTable(this.get()),e.end())};var ue=new de;const pe=["q","kw"];function me(e,t){if(!t||t.length<1)return e;const n=new URLSearchParams(e);for(const e of t)n.delete(e);return n.toString()}const ge={fetchMarginPercent:500,renderMarginPercent:200,mobileScaling:2};let fe=!1;function he(){window.googletag||(window.googletag={},window.googletag.cmd=[]),U.attach("//securepubads.g.doubleclick.net/tag/js/gpt.js",!0,()=>{U.broadcast("serverScriptLoaded")},e=>{U.broadcast("adServerLoadError",e)})}function ye(e){const t=V("nonPersonalized")?1:0;googletag.pubads().addEventListener("slotRenderEnded",Ee),function(e){e.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}(e),function(e){const t=e.rendering;"sync"===t?googletag.pubads().enableSyncRendering():"sra"===t?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}(e),be(ue.get()),function(){const e=V("collapseEmpty");"before"===e&&googletag.pubads().collapseEmptyDivs(!0);"after"===e&&googletag.pubads().collapseEmptyDivs(!1)}(),e.hasOwnProperty("enableLazyLoad")&&function(e){if(!e||"object"!=typeof e&&"boolean"!=typeof e)U.log.warn("lazyLoadConf must be either an object or a boolean",e);else{const t=Object.assign({},ge,"object"==typeof e?e:{});window.googletag.pubads().enableLazyLoad(t)}}(e.enableLazyLoad);const n=function(e){let{href:t,filters:n}=e;const o=new URL(t);for(const[e,t]of Object.entries(n))if("root"===e)for(const e of t)o.searchParams.delete(e);else{const n=o.searchParams.get(e);n&&o.searchParams.set(e,me(n,t))}return o.href}({href:window.location.href,filters:{root:pe}});return googletag.enableServices(),googletag.pubads().setTargeting("url",n),googletag.pubads().setRequestNonPersonalizedAds(t),!0}function be(e){return U.isPlainObject(e)?googletag.cmd.push(()=>{const t=googletag.pubads();Object.keys(e).forEach(n=>{t.setTargeting(n,String(e[n]))})}):U.log.warn("invalid targeting object passed",e),e}function ve(e,t){const n=t.detail.slot;"gpt"===n.server&&(n.gpt={},U.extend(n,e),googletag.cmd.push(()=>{n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()}))}function we(e){const t=e.detail.slot;U.isFunction(t.display)&&t.display()}function ke(e){return window.googletag.cmd.push(()=>{const t=e.detail.targeting;U.isPlainObject(t)&&Object.keys(t).forEach(n=>{e.detail.slot.gpt.slot.setTargeting(n,t[n])}),googletag.pubads().refresh([e.detail.slot.gpt.slot])}),this}function Se(e){const t=e.detail.slot.gpt.iframe,n=e.detail.size;t.width=n[0],t.height=n[1]}function Ee(e){const t={gpt:{}},n=e.slot.getSlotId(),o=n.getDomId().split("-"),r="google_ads_iframe_"+n.getId();t.type=o.pop(),t.name=o.join("-"),t.size=e.size&&e.size.length?e.size.join():"",t.creativeId=e.creativeId;const i=e.slot.getTargetingMap&&e.slot.getTargetingMap();i&&i.pos&&(t.pos=i.pos.length?i.pos.join():"");const a=t.gpt;a.isEmpty=e.isEmpty,a.size=e.size,a.creativeId=e.creativeId,a.lineItemId=e.lineItemId,a.serviceName=e.serviceName;const s=document.getElementById(r);s?(s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),s.setAttribute("role","presentation"),s.setAttribute("title","Advertisement"),a.iframe=s):U.log.warn("No iFrame found matching GPT SlotID"),U.broadcast("slotRenderStart",t)}const Te={defineSlot:function(){return window.googletag.cmd.push(()=>{this.gpt.id=this.name+"-gpt",this.inner.setAttribute("id",this.gpt.id),this.setUnitName(),this.outOfPage?this.gpt.slot=googletag.defineOutOfPageSlot(this.gpt.unitName,this.gpt.id):fe&&U.isObject(this.sizes)?(this.initResponsive(),this.gpt.slot=googletag.defineSlot(this.gpt.unitName,[0,0],this.gpt.id).defineSizeMapping(this.gpt.sizes)):this.gpt.slot=googletag.defineSlot(this.gpt.unitName,this.sizes,this.gpt.id)}),this},clearSlot:function(e){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(e=e||this.gpt.slot,googletag.pubads().clear([e]))},initResponsive:function(){return window.googletag.cmd.push(()=>{U.on("breakpoint",e=>{const t=e.detail.slot,n=e.detail.screensize;Ae({res:n}),t.hasValidSize(n)&&(t.gpt.iframe?t.fire("refresh"):this.defer||t.display())},this.container);const e=googletag.sizeMapping();Object.keys(fe).forEach(t=>{this.sizes[t]&&e.addSize(fe[t],this.sizes[t])}),this.gpt.sizes=e.build()}),this},destroySlot:function(e){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(e=e||this.gpt.slot,googletag.destroySlots([e]))},display:function(){return window.googletag.cmd.push(()=>{this.fire("slotGoRender"),googletag.display(this.gpt.id)}),this},setUnitName:function(){return window.googletag.cmd.push(()=>{let e;const t=V("gpt")||{},n=this.container.getAttribute("data-o-ads-gpt-unit-name");if(U.isNonEmptyString(n))e=n;else if(U.isNonEmptyString(t.unitName))e=t.unitName;else{const n=t.network,o=t.site,r=t.zone;e="/"+n,e+=U.isNonEmptyString(o)?"/"+o:"",e+=U.isNonEmptyString(r)?"/"+r:""}this.gpt.unitName=e}),this},addServices:function(e){return window.googletag.cmd.push(()=>{const t=V("gpt")||{};(e=e||this.gpt.slot).addService(googletag.pubads()),t.companions&&!1!==this.companion&&e.addService(googletag.companionAds())}),this},setCollapseEmpty:function(){return window.googletag.cmd.push(()=>{const e=this.collapseEmpty||V("collapseEmpty")||"never";"before"===e?this.gpt.slot.setCollapseEmptyDiv(!0,!0):"after"===e?this.gpt.slot.setCollapseEmptyDiv(!0):"never"===e&&this.gpt.slot.setCollapseEmptyDiv(!1)}),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){const e=function(e){const t=e.contentWindow.document.querySelector("[data-o-ads-impression-url]");return t?t.dataset.oAdsImpressionUrl:(U.log.warn("Impression URL not found, this is set via a creative template."),!1)}(this.gpt.iframe);e&&U.attach(e,!0,()=>{U.log.info("Impression Url requested")},()=>{U.log.info("CORS request to submit an impression failed")},!0)}else U.log.warn("Attempting to call submitImpression on a non-oop slot")},setURL:function(e){return window.googletag.cmd.push(()=>{e=e||this.gpt.slot;const t=V("canonical");e.set("page_url",t||U.getLocation())}),this},setTargeting:function(e){return window.googletag.cmd.push(()=>{e=e||this.gpt.slot,U.isPlainObject(this.targeting)&&Object.keys(this.targeting).forEach(t=>{e.setTargeting(t,this.targeting[t])})}),this}};function Ae(e){if(window.googletag){be(U.isPlainObject(e)?e:ue.get())}else U.log.warn("Attempting to set page targeting before the GPT library has initialized")}var Ce={init:function(){const e=V("gpt")||{};fe=V("responsive"),he(),U.on("slotReady",ve.bind(null,Te)),U.on("slotCanRender",we),U.on("refresh",ke),U.on("resize",Se),googletag.cmd.push(ye.bind(null,e))},setup:ye,updateCorrelator:function(){U.log.warn("[DEPRECATED]: Updatecorrelator is being phased out by google and removed from o-ads in future releases."),googletag.cmd.push(()=>{googletag.pubads().updateCorrelator()})},getCorrelator:function(){if(window.googletag&&window.googletag.pubads)return googletag.pubads().getCorrelator()},updatePageTargeting:Ae,clearPageTargeting:function(){window.googletag?googletag.cmd.push(()=>{googletag.pubads().clearTargeting()}):U.log.warn("Attempting to clear page targeting before the GPT library has initialized")},clearPageTargetingForKey:function(e){window.googletag?e?googletag.cmd.push(()=>{googletag.pubads().clearTargeting(e)}):U.log.warn("Refusing to unset all keys - a key must be specified"):U.log.warn("Attempting to clear page targeting before the GPT library has initialized")},hasGPTLoaded:function(){return!(!window.googletag||!window.googletag.apiReady)},loadGPT:he,debug:function(){const e=U.log,t=V("gpt");t&&(e.start("gpt"),e.attributeTable(t),e.end())}};function _e(){document.addEventListener("o.DOMContentLoaded",Oe),window&&!window.oAds&&(window.oAds=this)}V.init=H,V.clear=G,_e.prototype.config=V,_e.prototype.slots=ce,_e.prototype.gpt=Ce,_e.prototype.targeting=ue,_e.prototype.utils=U,_e.prototype.init=function(e){e=e||{},this.config.init();const t=Object.assign(e,{nonPersonalized:!e.disableConsentCookie});return this.config(t),e.disableConsentCookie?this.consents={behavioral:!0}:this.consents=function(){const e=document.cookie.match(/FTConsent=([^;]+)/);if(!e)return{behavioral:!1,programmatic:!1};const t=decodeURIComponent(e[1]);return{behavioral:-1!==t.indexOf("behaviouraladsOnsite:on"),programmatic:-1!==t.indexOf("programmaticadsOnsite:on")}}(),this.consents.behavioral&&this.utils.broadcast("consentBehavioral"),this.consents.programmatic&&this.utils.broadcast("consentProgrammatic"),this.utils.broadcast("initialising"),this.targeting.add(this.config().targeting),Promise.resolve(this.initLibrary())},_e.prototype.updateTargeting=function(e){this.targeting.add(e),this.gpt.updatePageTargeting(this.targeting.get())},_e.prototype.initLibrary=function(){return this.slots.init(),this.consents.programmatic&&(this.config({nonPersonalized:!1}),this.targeting.add({cc:"y"})),this.gpt.init(),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),document.removeEventListener("o.DOMContentLoaded",Oe),this},_e.prototype.debug=function(){let e=!0;localStorage.getItem("oAds")?e=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.slots.debug(),this.targeting.debug(),e&&localStorage.removeItem("oAds")},_e.prototype.version=function(){this.utils.log.warn("DEPRECATION NOTICE: Ads.version() will be deprecated in favour of Ads.getVersion()"),this.utils.log("o-ads version: "+this.utils.getVersion())},_e.prototype.getVersion=function(){return this.utils.getVersion()};const Oe=function(){return Le.init().then(()=>{Array.from(document.querySelectorAll(".o-ads, [data-o-ads-name]")).forEach(Le.slots.initSlot.bind(Le.slots))})};_e.prototype.initAll=Oe;const Le=new _e;var xe=n("b8f58555");let Pe=[],Ie=!1;function je(e){var t;let n,o;function r(){Pe.forEach(e=>{const t=(e=>()=>{e.fire("slotGoRender"),window.googletag.display(e.gpt.id)})(e);e.displayCalled?window.googletag.cmd.push(t):e.display=()=>window.googletag.cmd.push(t)})}function i(){var e,t;n&&clearTimeout(n),o&&clearInterval(o),null===(e=window.moatPrebidApi)||void 0===e||null===(t=e.setMoatTargetingForAllSlots)||void 0===t||t.call(e),r()}function a(){return!!(null===(e=window.moatPrebidApi)||void 0===e||null===(t=e.pageDataAvailable)||void 0===t?void 0:t.call(e))&&(i(),!0);var e,t}if(!a()){if(null!=e&&null!==(t=e.detail)&&void 0!==t&&t.slot){const t=e.detail.slot;Pe.push(t),t.display&&(t.display=()=>{t.displayCalled=!0})}Ie||(n=setTimeout(i,1e3),o=setInterval(a,100),Ie=!0)}}function ze(){!function(){if(document.getElementById("n-ads-moat"))return;const e=document.createElement("script");e.defer=!0,e.src="https://z.moatads.com/financialtimesprebidheader859796398452/moatheader.js",e.id="n-ads-moat",document.head.appendChild(e)}(),document.addEventListener("oAds.slotReady",je,!1)}var Me,Ne,De,Re=n("6d73a2e3"),Fe=n("d2988f39"),Ue=n("0b2f5b41");class $e{constructor(){this.gpcValue=!1,this.privacyLegislation={legislation:void 0,region:void 0},this.consentCookie={behavioral:!1,demographic:!1,programmatic:!1,all:!1}}async init(){await this.updatePrivacyLegislation(),this.updateGpcValue(),this.updateConsentCookie()}async update(){await this.init()}async updatePrivacyLegislation(){try{const{legislation:e,region:t}=await Object(Ue.fetchLegislation)();this.privacyLegislation={legislation:e,region:t}}catch(e){this.privacyLegislation={legislation:void 0,region:void 0}}return this.privacyLegislation}updateGpcValue(){return this.gpcValue=navigator.globalPrivacyControl,this.gpcValue}updateConsentCookie(){const e=document.cookie.match(/FTConsent=([^;]+)/);if(e){const t=decodeURIComponent(e[1]);this.consentCookie={behavioral:t.includes("behaviouraladsOnsite:on"),demographic:t.includes("demographicadsOnsite:on"),programmatic:t.includes("programmaticadsOnsite:on"),all:t.includes("behaviouraladsOnsite:on")&&t.includes("demographicadsOnsite:on")&&t.includes("programmaticadsOnsite:on")}}else this.consentCookie={behavioral:!1,demographic:!1,programmatic:!1,all:!1};return this.consentCookie}isCcpaAndGpc(){const{legislation:e}=this.privacyLegislation;if(!e)return this.gpcValue;const t=$e.legislationPolicy.CCPA;return e.has(t)&&this.gpcValue}isAllowed(){if(this.isCcpaAndGpc())return{behavioral:!1,demographic:!1,programmatic:!1,all:!1};const{behavioral:e,demographic:t,programmatic:n}=this.consentCookie;return{behavioral:e,demographic:t,programmatic:n,all:e&&t&&n}}getLegislation(){return this.privacyLegislation.legislation}getRegion(){return this.privacyLegislation.region}getGpcValue(){return this.gpcValue}getConsentCookie(){return this.consentCookie}}De={CCPA:"ccpa",GDPR:"gdpr"},(Ne="legislationPolicy")in(Me=$e)?Object.defineProperty(Me,Ne,{value:De,enumerable:!0,configurable:!0,writable:!0}):Me[Ne]=De;var Be="b2b3b748-e1f6-4bd5-b2f2-26debc8075a3",qe="e1c3fd73-dd41-4abd-b80b-4278d52bf7aa";const Ve={};const He=(e,t)=>null!=t&&t.constructor===e,Ge=e=>t=>{const n=e.find(e=>e.key===t);return n&&n.value},Je=e=>!!(e&&e[0]&&e[0].key&&e[0].value),We=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{adsApiV1Array:!1,throwOnError:!1};if(null===t)return;const o={};let r=e,i=t;n.adsApiV1Array&&(r=e.map(e=>e.key),i=t.map(e=>e.key));for(const e in r){const t=n.adsApiV1Array?Ge(r)(e):i[e],a=n.adsApiV1Array?Ge(i)(e):r[e];if(e in i&&t){if(He(Function,a)&&!He(a,t)){if(n.throwOnError)throw new Error(`[${e}] value [${t}] does not match ${a.name}`);console.warn(`ads-permutive.filterWithSchema(): [${e}] value [${t}] does not match ${a.name}`);continue}He(Object,a)?o[e]=We(a,t):He(Array,a)?o[e]=We(a,t,{adsApiV1Array:Je(a)}):o[e]=t}}return o},Ye={user:{dfp:{targeting:[{key:"device_spoor_id",value:String},{key:"guid",value:String},{key:"05",value:String},{key:"06",value:String},{key:"07",value:String},{key:"slv",value:String},{key:"loggedIn",value:Boolean},{key:"followedConcepts",value:Array},{key:"gender",value:String},{key:"indb2b",value:String}]}},article:{dfp:{targeting:[{key:"auuid",value:String},{key:"title",value:String},{key:"ca",value:String},{key:"topic",value:String},{key:"ad",value:String}]},krux:{attributes:[{key:"brand",value:String},{key:"genre",value:Array},{key:"organisations",value:Array},{key:"people",value:Array},{key:"authors",value:Array}]}}},Ke={user:{...{uuid:String},industry:{code:String},responsibility:{code:String},position:{code:String},loggedInStatus:Boolean,followedConcepts:Array,hui:{indb2b:String,gender:String}},article:{uuid:String,title:String,brand:Array,genre:Array,organisation:Array,person:Array,categories:Array,author:Array,topic:Array,admants:Array,specialReport:Array,adUnit:Array}},Xe={rootId:String,type:String,user:{industry:String,position:String,responsibility:String,subscriptionLevel:String,loggedIn:String,followedConcepts:Array,indb2b:String,gender:String},article:{id:String,title:String,type:String,organisations:Array,people:Array,categories:Array,authors:Array,topics:Array,admants:Array,brand:Array}};class Qe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t in We(Ye,e))this[t]=e[t]}toPageViewData(){const{user:e,article:t}=this,n={};if(e){const t=e.dfp&&e.dfp.targeting;if(t){const e=Ge(t),o=e("05"),r=e("06"),i=e("07"),a=e("slv"),s=e("loggedIn"),c=e("followedConcepts"),l=e("gender"),d=e("indb2b");n.user={...o&&{industry:o},...r&&{responsibility:r},...i&&{position:i},...a&&{subscriptionLevel:a},...s&&{loggedIn:s.toString()},...c&&{followedConcepts:c},...l&&{gender:l},...d&&{indb2b:d}}}}if(t){const e=t.dfp&&t.dfp.targeting,o=t.krux&&t.krux.attributes;if(e){const t=Ge(e),o=t("auuid"),r=t("title"),i=t("ca"),a=t("topic"),s=t("ad");n.article={...o&&{id:o},...r&&{title:r},...i&&{categories:i.split(",")},...a&&{topics:a.split(",")},...s&&{admants:s.split(",")}}}if(o){const e=Ge(o),t=e("genre"),r=e("organisations"),i=e("people"),a=e("authors"),s=e("brand");n.article={...n.article,...s&&{brand:s},...t&&{type:t.join()},...r&&{organisations:r},...i&&{people:i},...a&&{authors:a}}}}return n}}class Ze{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const t in We(Ke,e))this[t]=e[t]}toPageViewData(){const{user:e,article:t}=this;return{...this,...e&&{user:{...e,...e.industry&&e.industry.code&&{industry:e.industry.code},...e.position&&e.position.code&&{position:e.position.code},...e.responsibility&&e.responsibility.code&&{responsibility:e.responsibility.code},..."loggedInStatus"in e&&{loggedIn:e.loggedInStatus.toString()},...e.followedConcepts&&e.followedConcepts.length&&{followedConcepts:e.followedConcepts},...e.hui&&e.hui.indb2b&&{indb2b:e.hui.indb2b},...e.hui&&e.hui.gender&&{gender:e.hui.gender}}},...t&&{article:{...t,...t.uuid&&{id:t.uuid},...t.genre&&{type:t.genre.join()},...t.brand&&{brand:t.brand},...t.organisation&&{organisations:t.organisation},...t.person&&{people:t.person},...t.author&&{authors:t.author},...t.topic&&{topics:t.topic}}}}}}const et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=new e(t);return new tt({type:t.type,rootId:t.rootId,...n.toPageViewData()})}};class tt extends class{static formatFrom(e,t){return t?t(e):e}}{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.page=We(Xe,e)}static formatFrom(e,t){return t?t(e):new tt(e)}static fromAdsDataManager(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return et(Ze)(e)}static fromAdsApiV2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return et(Ze)(e)}static fromAdsApiV1(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return et(Qe)(e)}}const nt={eventsCacheLimitBytes:Number},ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return We(nt,e,{throwOnError:!0})}catch(e){console.warn("Invalid config option: "+e.message)}},rt=(e,t,n)=>{!function(e,t,n,o,r){if(!t){t=t||{},window.permutive=t,t.q=[],t.config=r||{},t.config.projectId=n,t.config.apiKey=o,t.config.environment=t.config.environment||"production";for(var i=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],a=0;a<i.length;a++){var s=i[a];t[s]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(s)}}}(window.document,window.permutive,e,t,n||{}),at()},it=()=>!!window.permutive||(console.warn("ads-permutive.isInitialised(): window.permutive not initialised. Perhaps setup() has not been executed yet?"),!1),at=()=>{window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("permutive",dt.getSegments()),window.googletag.pubads().setTargeting("permutive-id",dt.getPermutiveId()||""),dt.getViewId().then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.googletag.pubads().setTargeting("view-id",e)})).catch((function(){console.warn("ads-permutive.setTargeting(): could not retrieve view-id")}))}))},st=tt.fromAdsApiV1,ct=tt.fromAdsApiV2,lt=tt.fromAdsApiV2,dt={setup:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=qe,n=Be;rt(t,n,ot(e))},trackPageView:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mappingFunc:null};const n=He(tt,e)?e:tt.formatFrom(e,t.mappingFunc);it()&&window.permutive.addon("web",n)},trackEvent:(e,t)=>{e&&"string"==typeof e?it()&&window.permutive.track(e,t):console.warn("ads-permutive.trackEvent(): eventName must be a non-empty string")},identifyUser:e=>{if(!it())return;if(!e)return void console.warn("ads-permutive.identifyUser(): missing user parameter");const{uuid:t}=e,n=[];t&&n.push({id:t,tag:"GUID"}),n.length&&window.permutive.identify(n)},setTargeting:at,getViewId:async()=>async function e(t){let{propGetter:n=(()=>{}),maxAttempts:o=10,timeBetweenTentatives:r=500}=t;if(!o)return;const i=n();return i||(await new Promise(e=>setTimeout(e,r)),e({propGetter:n,maxAttempts:--o,timeBetweenTentatives:r}))}({propGetter:()=>{var e,t;return null===(e=window.permutive)||void 0===e||null===(t=e._internals)||void 0===t?void 0:t.state.viewId}}),getPermutiveId:()=>window.localStorage.getItem("permutive-id"),getSegments:()=>{const e=window.localStorage.getItem("_pdfps");try{return e?JSON.parse(e):[]}catch(e){return console.warn("ads-permutive.getSegments(): could not retrieve permutive segments"),[]}},fromAdsApiV1ToPageView:st,fromAdsApiV2ToPageView:ct,fromAdsDataToPageView:lt,loadPermutiveScript:()=>function(e){let{scriptId:t,globalName:n=!1,timeout:o=4e3,attributes:r={},removeScriptAfterLoad:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ve[e])return Ve[e];const a=document.createElement("script"),s=new Promise((i,s)=>{if(n&&window[n])return i();t&&(a.id=t),a.onload=i,a.crossorigin="anonymous",a.onerror=s,a.src=e;for(let e in r)a.setAttribute(e,r[e]);document.body.appendChild(a),setTimeout(()=>{if(!n||window[n])i();else{let t=new Error("Can't load "+e);t.target=a,s(t)}},o)}).then(()=>(n&&(Ve[e]=void 0),!n||window[n])).catch(t=>{throw Ve[e]=void 0,t}).finally(()=>{i&&a.parentNode&&a.parentNode.removeChild(a)});return Ve[e]=s,s}(`https://cdn.permutive.com/${qe}-web.js`,{scriptId:"permutive-script"}),isInitialised:it},ut=e=>"object"==typeof e&&e.constructor==Object,pt=e=>{let{breakpointMargins:t,viewportSize:n=window.innerWidth,fallbackValue:o="0%"}=e;if(!t||!n)return o;return t[Object.keys(t).sort().find(e=>+e>n)]||o};const mt=Re.default.getRootID,gt="https://ads-api.ft.com/v2";function ft(e){if(ut(e)){const t="boolean"==typeof e.loggedInStatus,n=e.hui&&e.hui.gender,o=e.hui&&e.hui.indb2b,r=e.industry&&e.industry.code,i=e.responsibility&&e.responsibility.code,a=e.position&&e.position.code;return{...e.uuid&&{guid:e.uuid},...e.spoorId&&{device_spoor_id:e.spoorId},...e.subscriptionLevel&&{slv:e.subscriptionLevel},...t&&{loggedIn:e.loggedInStatus},...n&&{gender:e.hui.gender},...o&&{indb2b:e.hui.indb2b},...r&&{"05":e.industry.code},...i&&{"06":e.responsibility.code},...a&&{"07":e.position.code}}}return null}function ht(e){if(ut(e)){const t=Array.isArray(e.specialReport)&&e.specialReport.length>0;return{...e.uuid&&{auuid:e.uuid},...e.title&&{title:e.title},...e.admants&&{ad:e.admants.join(",")},...e.categories&&{ca:e.categories.join(",")},...e.topic&&{topic:e.topic.join(",")},...e.brand&&{secbrand:e.brand.join(",")},...t&&{sr:e.specialReport.join(",")},...e.srUUID&&{sruuid:e.srUUID}}}return null}function yt(e){if(ut(e)){if(e.targeting){const{key:t,value:n}=e.targeting;if("smid"===t&&void 0!==n)return{[t]:n}}return null}}const bt=async e=>{let{user:t,host:n}=e;if(t)return async function(e){const t=e+"/user";try{return(await fetch(t,{timeout:2e3,useCorsProxy:!0,credentials:"include"})).json()}catch(e){console.warn("Failed to fetch data from Ads API User endpoint")}}(n)},vt=async e=>{let{page:t,host:n}=e;if(ut(t)&&t.id&&t.type){return async function(e,t,n){if(!n||!t.match(/^(content|concept)$/))return void console.error("Invalid ads-api endpoint specified for retrieving page targeting data");const o=`${e}/${t}/${n}`;try{return(await fetch(o,{timeout:2e3,useCorsProxy:!0})).json()}catch(e){console.warn("Failed to fetch data from Ads API Content|Concept endpoint")}}(n,"article"===(o=t.type)?"content":"stream"===o?"concept":void 0,t.id)}var o};async function wt(e){let{user:t=!1,page:n=!1,host:o=gt}=e;const r=[bt({user:t,host:o}),vt({page:n,host:o})],i=(await Promise.allSettled(r)).map(e=>{if("rejected"!==e.status)return e.value;console.warn("Failed to fetch data from Ads API",e.reason)});return(e=>{const t=window.LUX||window.performance;t&&t.mark&&(t.clearMarks(e),t.mark(e))})("oAds.adsAPIComplete"),(null==i[0]||!i[0].spoorId&&document.cookie)&&(i[0]=(e=>{var t;const n=(null===(t=e.match("(^|;)\\s*spoor-id\\s*=\\s*([^;]+)"))||void 0===t?void 0:t.pop())||!1;return{spoorId:n||void 0,loggedInStatus:!1,subscriptionLevel:"anon"}})(document.cookie)),function(e,t){const n={metadata:{}};return e.length>=1&&(n.metadata.user={...ut(e[0])&&e[0]}),2===e.length&&ut(t)&&(n.metadata[t.type]={...ut(e[1])&&e[1]},n.metadata[t.type].adUnit&&(n.adUnit=n.metadata[t.type].adUnit,delete n.metadata[t.type].adUnit),n.metadata[t.type].smartmatch&&(n.smartmatch=n.metadata[t.type].smartmatch,delete n.metadata[t.type].smartmatch)),n}(i,n)}const kt=()=>{const e=document.getElementById("n-ads-options");let t={};if(e)try{t=JSON.parse(e.innerHTML)}catch(e){console.error("Error while getting ads-display embedded options",e)}return t};let St;const Et=async()=>{if(!St)try{St=(async()=>{const e=new $e;return await e.init(),e})()}catch(e){console.warn("Failed to initialise PersonaliseConsent",e)}return St},Tt=[{sampleSize:.1,spoorAction:"page-initialised",triggers:["serverScriptLoaded"],marks:["consentBehavioral","consentProgrammatic","moatTimeout","initialising","IVTComplete","adsAPIComplete","initialised","serverScriptLoaded"],navigation:["domInteractive"]},{sampleSize:.1,spoorAction:"slot-requested",triggers:["slotGoRender"],marks:["slotReady","slotCanRender","slotGoRender"],multiple:!0},{sampleSize:.1,spoorAction:"slot-rendered",triggers:["slotRenderEnded"],marks:["slotRenderStart","slotExpand","slotRenderEnded"],multiple:!0},{sampleSize:.1,spoorAction:"slot-collapsed",triggers:["slotCollapsed"],marks:["slotCollapsed"],multiple:!0},{sampleSize:.1,spoorAction:"slot-heavy-ad-reporting",triggers:["slotHeavyAdReporting"],marks:["slotHeavyAdReporting"],multiple:!0}];function At(e){Le.utils.setupMetrics(Tt,async e=>{const t=Object(xe.getUsPrivacyForTracking)(),n=await(async()=>{const e=await Et();return{...await e.isAllowed(),gpcValue:e.getGpcValue()}})()||{};return n.usprivacy=t,e&&(e.advert={...e.advert,consents:n}),Object(Fe.broadcast)("oTracking.event",e)},e)}let Ct="";const _t={980:{fetchMarginPercent:30,renderMarginPercent:15,mobileScaling:1},760:{fetchMarginPercent:10,renderMarginPercent:5,mobileScaling:1}},Ot={fetchMarginPercent:10,renderMarginPercent:0,mobileScaling:1};function Lt(e){return e?(console.warn("o-ads running in sandbox mode. No live ads showing"),"test.5887.origami"):location.hash.includes("adsandbox")?(console.warn("o-ads running in sandbox mode. No live ads showing"),"sandbox.next.ft"):location.hash.includes("moatwrappertest")?(console.warn("o-ads running in sandbox mode. No live ads showing"),"test.5887.moatperformance"):"ft.com"}function xt(e){return Array.isArray(e)?e.join("/"):"unclassified"}const Pt=e=>{const{appName:t,rootId:n,abTestState:o,adsLayout:r,enableTestCreatives:i,targeting:a,smartmatch:s}=e;return{pt:t.toLowerCase().substr(0,3),nlayout:r||"default",mvt:o,rootid:n,...i&&{enableTestCreatives:i},...a&&ft(a.user),...a&&ht(a.article),...s&&yt(s)}},It={init:async function(e,t){var n,o;if((e={...kt(),...e,sandbox:e.sandbox||!!t.get("adsEnableTestCreatives")}).smartmatch&&(o=e.smartmatch,ut(o)&&o.matches&&(window.smartmatchCreativeMatches=o.matches),window.addEventListener("message",e=>{const{data:t=""}=e;if("string"==typeof t&&t.match(/oAds/))try{const t=JSON.parse(e.data),{type:n}=t||{};if(!n)return;if("oAdsEmbed.monitor"===n){const e={category:"ads",action:"embed",message:t.message||""};return void Object(Fe.broadcast)("oTracking.event",e)}if("oAdsEmbed.listens"===n){const t=e.source;if(t){const e=window.smartmatchCreativeMatches;if(e){const n={messageType:"oAdsEmbed",body:{smartmatchCreativeMatches:e}};t.postMessage(n,"*")}}}}catch(e){}})),!e.appName)throw new Error("Error initialising display ads. `options.appName` is required");e.disableMonitoring||At(!0),Object(xe.setUSPrivacy)();const r=await It.initOads(e,t);e.waitForMoat&&ze(),It.initAdSlots(r);const i=await Et();null!=i&&null!==(n=i.isAllowed())&&void 0!==n&&n.all&&It.pushGooglePpid(Ct)},initAdSlots:function(e){const t=document.querySelectorAll(".o-ads, [data-o-ads-name]");t.length?t.forEach(t=>e.slots.initSlot(t)):console.warn("No ad slot found on the page")},initOads:async function(e,t){let n;try{const o=It.getOAdsConfig(e,t);n=await Le.init(o)}catch(e){console.error("There was an error when initialising o-ads",e)}return n},getOAdsConfig:function(e,t){const{lazyLoadMargins:n,sandbox:o,adUnit:r}=e,i=Pt(e);return Ct=i&&i.device_spoor_id?i.device_spoor_id:"",{gpt:{network:"5887",site:Lt(o),zone:xt(r),rendering:t.get("adsEnableSRA")?"sra":null,enableLazyLoad:t.get("adsEnableGPTLazyLoad")?pt({breakpointMargins:n||_t,fallbackValue:Ot}):null},formats:{PartnerContent:{sizes:"fluid"},PaidPost:{sizes:"fluid"},OneByOne:{sizes:[1,1]},Outstream:{sizes:[1,1]},...e.formats},responsive:{extra:[1025,0],large:[980,0],medium:[760,0],small:[0,0]},collapseEmpty:"before",lazyLoad:!t.get("adsEnableGPTLazyLoad")&&{viewportMargin:pt({breakpointMargins:n})},targeting:i,disableConsentCookie:!1}},getAllTargeting:Pt,getGptSite:Lt,getGptZone:xt,pushGooglePpid:function(e){e&&googletag.cmd.push((function(){googletag.pubads().setPublisherProvidedId(e),googletag.enableServices()}))}};const jt=document.querySelector("[data-n-messaging-manage-cookies]");!function(e,t){if(t)try{const n=new URL(t.href);n.searchParams.set("redirect",e),t.setAttribute("href",n.toString())}catch(e){console.warn("Error setting redirect url for cookie consent link",String(e).trim())}}(window.location.href,jt);const zt={getRootID:mt,enablePermutiveFtCom:async function(e){let{metadata:t,type:n,rootId:o}=e;var r;const i=await Et();return!(null==i||null===(r=i.isAllowed())||void 0===r||!r.behavioral)&&((async e=>{let{metadata:t={},type:n,rootId:o}=e;dt.setup(),dt.loadPermutiveScript(),(null==t?void 0:t.user)&&dt.identifyUser(t.user);const r=dt.fromAdsDataToPageView({...t,rootId:o,type:n});dt.trackPageView(r)})({metadata:t,type:n,rootId:o}),!0)},updateConsentInfo:async function(e){let{updatePrivacyLegislation:t,updateGpcValue:n,updateConsentCookie:o}=e;const r=await Et();t&&await(null==r?void 0:r.updatePrivacyLegislation()),n&&(null==r||r.updateGpcValue()),o&&(null==r||r.updateConsentCookie())}};function Mt(e,t){const n=t.innerHTML;t.innerHTML='<div\n\t\t\tclass="o-teaser"\n\t\t\tdata-o-ads-name="PartnerContent"\n\t\t\tdata-o-ads-targeting="pos=native;format=stacked;appname=homepage"\n\t\t\tdata-o-ads-formats="PartnerContent"\n\t\t\tdata-o-ads-component="slot"\n\t\t></div>';const o=t.querySelector("[data-o-ads-component]");e.slots.initSlot(o),e.utils.on("slotExpand",e=>{if(e&&e.detail){const o=e.detail;"native"===o.pos&&o.isEmpty&&(t.innerHTML=n)}})}var Nt={init:async function(e,t){const n=zt.getRootID(),o={appName:"frontpage-beta",abTestState:t.get("abTestState"),rootId:n,sandbox:!g.a,lazyLoadMargins:e.get("adsEnableGPTLazyLoad")?{980:{fetchMarginPercent:30,renderMarginPercent:5,mobileScaling:1},760:{fetchMarginPercent:10,renderMarginPercent:15,mobileScaling:1}}:{760:"15%",980:"5%"},formats:{HighImpactSlot:{sizes:[970,400]}},waitForMoat:e.get("adsMoatTimeout")};let r;try{r=await wt({user:!0}),await It.init({...o,targeting:r.metadata,adUnit:["home","uk"===t.get("edition")?"UK":"US","hprb"]},e),e.get("AdsPermutive")&&zt.enablePermutiveFtCom({metadata:r.metadata,type:"frontpage-beta",rootId:n})}catch(t){r?console.warn("Wait for moat failed",t):(console.warn("There was an error fetching the ads data. Loading basic permutive and ads without targeting or ad unit",t),It.init(o,e),zt.enablePermutiveFtCom({type:"frontpage-beta",rootId:n}))}},displayNativeAds:function(){const e=document.getElementById("native-ads-placeholder");if(!e)return;const t=window.oAds;t&&t.isInitialised?Mt(t,e):document.addEventListener("oAds.initialised",()=>{Mt(t,e)})},updateConsentInfo:zt.updateConsentInfo},Dt=n("7220c657"),Rt=(n("1dd330de"),n("7220c657"));function Ft(e){let{index:t,name:n,href:o,percentChange:r}=e;if(!r)return null;const i=function(e){return 0===e?"no-change":e<0?"down":"up"}(r);return Object(Rt.h)("li",{className:"markets-data__item","data-trackable":"item | "+(t+1)},Object(Rt.h)("a",{href:o,className:"markets-data__item-link","data-trackable":"link"},Object(Rt.h)("span",{className:"markets-data__item-name"},n),Object(Rt.h)("span",{className:"markets-data__item-change markets-data__item-change--"+i},"up"===i?"+":"",r.toFixed(2),"%")))}function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function $t(e){let{data:t=[]}=e;return Object(Rt.h)("div",{className:"markets-data-wrapper js-markets-data"},Object(Rt.h)("div",{className:"o-grid-container"},Object(Rt.h)("div",{className:"markets-data","data-trackable":"header | markets data"},Object(Rt.h)("ul",{className:"markets-data__items markets-data__items--hidden"},t.length?t.map((e,t)=>Object(Rt.h)(Ft,Ut({key:e.name,index:t},e))):null),Object(Rt.h)("a",{href:"https://markets.ft.com/data",className:"markets-data__item-link","data-trackable":"link"},"Visit Markets Data"))))}var Bt={uk:[{name:"FTSE 100",symbol:"FTSE:FSI",type:"indices"},{name:"S&P 500",symbol:"INX:IOM",type:"indices"},{name:"Euro/Dollar",symbol:"EURUSD",type:"equities"},{name:"Pound/Dollar",symbol:"GBPUSD",type:"equities"},{name:"Brent Crude Oil",symbol:"IB.1:IEU",type:"equities"},{name:"10 Year US Gov",symbol:"JPMUS10YCMY:REU",type:"indices"}],international:[{name:"S&P 500",symbol:"INX:IOM",type:"indices"},{name:"Shanghai",symbol:"SHI:SHH",type:"indices"},{name:"FTSE 100",symbol:"FTSE:FSI",type:"indices"},{name:"Euro/Dollar",symbol:"EURUSD",type:"equities"},{name:"Brent Crude Oil",symbol:"IB.1:IEU",type:"equities"},{name:"10 Year US Gov",symbol:"JPMUS10YCMY:REU",type:"indices"}]};const qt=async e=>{const t=Bt[e],n=t.map(e=>e.symbol).join(","),o=await function(e){const t="There was an error fetching the markets data.";return fetch("https://markets-data-api-proxy.ft.com/research/webservices/securities/v1/quotes?symbols="+e).then(e=>{if(e.ok)return e.json();console.error(t)}).catch(e=>{console.error(t,e)})}(n);return o?function(e,t){return e.filter(e=>!e.partialError&&e.quote.change1Day).map(e=>{let{quote:n,symbolInput:o}=e;const r=t.find(e=>e.symbol===o);if(!r)return null;const{name:i,type:a}=r;return{name:i,percentChange:n.change1DayPercent,href:`https://markets.ft.com/data/${a}/tearsheet/summary?s=${o}`}}).filter(e=>e)}(o.data.items,t):null};var Vt={init:async function(e){let{edition:t="uk"}=e;if(await qt(t)){const e=await qt(t);e&&(Object(Dt.render)(Object(Dt.h)($t,{data:e}),document.querySelector(".js-markets-data")),window.setTimeout(()=>{document.querySelector(".markets-data__items").classList.remove("markets-data__items--hidden")},10))}}};var Ht=n("0b2f5b41");async function Gt(){try{const e="https://www.ft.com/preferences/privacy-ccpa",{legislation:t}=await Object(Ht.fetchLegislation)(),n=Object(Ht.buildConsentPageUrl)({url:e,legislation:t});t.has("ccpa")&&function(e){const t=document.querySelector("#site-footer [href='http://help.ft.com/help/legal-privacy/privacy/']"),n=t.cloneNode(!0);n.href=e,n.dataset&&(n.dataset.trackable="Do Not Sell My Info"),n.textContent="Do Not Sell My Info",t.parentNode.insertBefore(n,t)}(n)}catch(e){console.error(e)}}var Jt=n("f3e2bc6f"),Wt=n("c4cbb9f6");r.a.then((function(){const e=s.init(),t=c.init(),n=t.getAll();if(i.default.init(),a.init(),e.get("syndication")&&p.init(e),e.get("oTracking")){const t=d.init({appContext:n});if(t.view.init({selector:".slice",category:"page",action:"scrolldepth"}),e.get("realUserMonitoringForPerformance"))try{const t=e.get("chartbeat")?50:void 0;d.trackers.realUserMonitoringForPerformance({sampleRate:t})}catch(e){console.error(e)}e.get("frontPageCommunitySection")&&Object(Wt.initTracking)(t)}if(e.get("exponeaOnHomePage")&&(e.get("exponeaOnsiteMessagingDevelopment")||e.get("exponeaOnsiteMessaging"))&&!(e.get("messageSlotBottom")&&e.get("messageSlotBottom").startsWith("cookieConsent")))try{Jt.init()}catch(e){console.error("Error initialising Exponea SDK",e)}else(e.get("messageSlotBottom")||e.get("messageSlotTop"))&&u.nMessagingClient.init();e.get("ads")&&(Nt.init(e,t).finally(()=>{e.get("nativeAds")&&Nt.displayNativeAds()}),document.addEventListener("oCookieMessage.act",()=>{setTimeout(async()=>{await Nt.updateConsentInfo({updatePrivacyLegislation:!1,updateGpcValue:!1,updateConsentCookie:!0}),await Nt.init(e,t)},1e3)})),e.get("homePageHeaderMarketsData")&&Vt.init(n),e.get("qualtrics")&&l.init({...n}),e.get("chartbeat")&&async function(){const{_sf_async_config:e}=window;if(e)try{e.loadLibrary()}catch(e){console.error("Error creating chartbeat script tag")}}(),"variant"===e.get("myFTDropdownTest")&&m.init(),Gt()}))},"2918a7cd":function(e,t,n){var o={"./bottom/academia-cta/main":"79556e05","./bottom/cookie-consent/main":"84f786be","./bottom/embedded-onboarding/main":"2e1f0d50","./bottom/jan-22-digital-sale-slider/main":"e79060bc","./bottom/marketing-popup-prompt/main":"93d51769","./bottom/post-activation-journey/main":"3f712bda","./bottom/remaining-articles/main":"fb263b11","./top/anon-subscribe-now/main":"4481620a","./top/myft-disengaged-tooltip/main":"d19ca3d6"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="2918a7cd"},"2e1f0d50":function(e,t,n){const o=n("226cb005").default,r=n("6d73a2e3").default,i=n("2e1dcbec");function a(){document.querySelector(".embedded-onboarding-veil").remove()}e.exports=(e,t)=>{if("variant"!==i.init().get("homepageOnboarding"))return t();document.querySelector(".embedded-onboarding-veil").classList.add("embedded-onboarding-veil--active"),document.querySelector(".n-messaging-client-messaging-banner-embedded-onboarding").classList.remove("n-messaging-client-messaging-banner-embedded-onboarding--hidden"),r.event({detail:{category:"re-onboarding",action:"view",referrer:document.referrer,url:document.URL}});e.bannerElement.querySelector(".o-banner__close").addEventListener("click",(function(){r.event({detail:{category:"re-onboarding",action:"close",referrer:document.referrer,url:document.URL}}),a()}));const n=t=>{const{action:n,payload:r}=t.data||{};switch(n){case"activationReady":!function(e){const t=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),n=e.height||0;if(n&&t){const e=Math.round(100*(n+10)/t);document.querySelector(".n-messaging-client-messaging-banner-embedded-onboarding-content").style.height=Math.min(e,90)+"vh"}}(r);break;case"activationComplete":e.close(),a(),function(){const e=document.createElement("div");new o(e,{target:"o-header-top-link-myft",content:"Your preference has been recorded.<br/><strong>Manage your choices in myFT</strong>",showOnConstruction:!0,closeAfter:5,position:"below"})}()}};window.addEventListener("message",e=>{e.origin.includes("ft.com")&&n(e)},!1),t()}},"3a98a258":function(e,t,n){"use strict";const o=n("85403878"),r=n("e735d598");e.exports=e=>/^\/(__)?myft\/api\//.test(e)||/^\/(__)?myft\/list/.test(e)||r(e)||o(e)},"3f712bda":function(e,t){e.exports=(e,t)=>{Array.from(e.bannerElement.querySelectorAll(".n-messaging-client-messaging-banner-post-activation-journey__action")).forEach(t=>{t.addEventListener("click",t=>{"leave-feedback"===t.target.name?e.bannerElement.parentNode.removeChild(e.bannerElement):e.close()})}),t()}},"441846df":function(e,t,n){let o=n("c0891472");o=o.default||o;const{generateMessageEvent:r,listen:i,messageEventLimitsBreached:a}=n("67f7c39c");function s(e,t){return!e.lazy&&e.content||e.lazy&&t&&t.renderData&&t.renderData.reservedSpace?e.content:null}function c(e,t,n){return{autoOpen:e.autoOpen||t.autoOpen,messageClass:e.messageClass||t.messageClass,type:e.type||t.type,parentElement:n.lazy?e.parentElement||'[data-n-messaging-slot="top"] [data-n-messaging-component]':null,content:{highlight:e.contentTitle,detail:e.content,additionalInfo:e.additionalInfo},actions:{primary:{text:e.buttonLabel,url:e.buttonUrl,openInNewWindow:e.openInNewWindow},secondary:{text:e.linkLabel,url:e.linkUrl}},customTrackingEvent:e.customTrackingEvent,close:e.closeButton,dynamicTrackingData:e.dynamicTrackingData,state:e.state||t.state}}e.exports=function(){let{config:e={},guruResult:t,customSetup:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=t&&t.renderData&&t.renderData.dynamicTrackingData||e.name,d=r({flag:"messageSlotTop",messageId:e.name,position:e.slot,trackingContext:e.trackingContext,variant:l}),u=s(e,t),p={messageClass:"o-message",autoOpen:!1,openInNewWindow:!1,close:o.getDataAttributes(u).close,type:"notice",state:"skip"};if(t&&t.skip&&d)return void d("skip");const m=t&&t.renderData||{},g=c(m,p,e),f=new o(u,g);if(a(e.name))return void d("skip");const h=void 0!==g.customTrackingEvent;let y=f.messageElement.querySelectorAll("[data-o-message-action]");if(0!==y.length||h){if(h){const e=f.messageElement.querySelector(".o-message__actions__primary");e&&(e.setAttribute("data-n-alert-banner-action",g.customTrackingEvent),y=[e])}}else y=f.messageElement.querySelectorAll(".o-message__button"),0===y.length&&(y=f.messageElement.querySelectorAll(".o-message__link"));if(y=[].slice.call(y),i(f.messageElement,"o.messageClosed",()=>d("close")),i(f.messageElement,"o.messageOpen",()=>d("view")),y&&y.length>0&&y.forEach(e=>{const t=e.dataset.nAlertBannerActionType;i(e,"click",()=>d(e.dataset.nAlertBannerAction||"act",t))}),n){function b(){let{skip:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?d("skip"):f.open()}n.default&&(n=n.default),n(f,b,t)}else f.open()}},"4481620a":function(e,t){e.exports=function(e,t){const n=e.messageElement.querySelector(".o-message__actions"),o=e.messageElement.querySelector(".o-message__actions__primary");n.className+=" o-message__actions--clickarea",n.addEventListener("click",e=>{if(e.target!==o)return e.stopPropagation(),o.click(),!1}),t()}},"4cbca5a5":function(e,t){const n='["'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",").join('","')+'"]',o='["'+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",").join('","')+'"]',r={datetime:"MMMM d yyyy h:mm a",date:"MMMM d yyyy"},i={},a={MMMM:"months[date.getMonth()]",MMM:"months[date.getMonth()].substr(0,3)",MM:"pad2(date.getMonth() + 1, 2)",M:"(date.getMonth() + 1)",yyyy:"date.getFullYear()",yy:'(""+date.getFullYear()).substr(-2, 2)',EEEE:"days[date.getDay()]",EEE:"days[date.getDay()].substr(0,3)",d:"date.getDate()",dd:"pad2(date.getDate())",do:"ordinal(date.getDate())",m:"date.getMinutes()",mm:"pad2(date.getMinutes())",h:"(((date.getHours() + 11) % 12) + 1)",hh:"pad2(((date.getHours() + 11) % 12) + 1)",H:"date.getHours()",HH:"pad2(date.getHours())",a:'(date.getHours() >= 12 ? "pm" : "am")'},s={minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3};const c={toDate:function(e){if("Invalid Date"!==(e=e instanceof Date?e:new Date(e)).toString())return e},asTodayOrYesterdayOrNothing:function(e){if(!e)return;const t=new Date,n=c.getSecondsBetween(t,e);let o;return o=c.isToday(e,t,n)?"today":c.isYesterday(e,t,n)?"yesterday":"",o},format:function(e,t){const s=i[t=t||"datetime"]||function(e){let t="var months= "+n+", days= "+o+";";return t+='function pad2 (number) {return ("0" + number).slice(-2)}',t+='function ordinal(number) {\n\t\tconst suffixes = ["th", "st", "nd", "rd"];\n\t\tconst v = number % 100;\n\t\treturn number + (suffixes[(v - 20) % 10] || suffixes[v] || suffixes[0]);\n\t}',t+='return "'+(r[e]||e).replace(/\\?[a-z]+/gi,(function(e){if("\\"===e.charAt(0))return e.substr(1);const t=a[e];return t?'" + '+t+' + "':e}))+'"',i[e]=new Function("date",t)}(t);return(e=c.toDate(e))&&s(e)},timeAgo:function(e,t,n){if(!(e=c.toDate(e)))return;if(2===arguments.length&&"object"==typeof t&&(t=(n=t).interval),t||(t=c.getSecondsBetween(new Date,e)),n&&n.limit>0&&(!t||t>n.limit))return"";const o=!!n&&n.abbreviated;let r=t<0?"from now":"ago";return(t=Math.abs(t))<s.minute?`${o?t+"s":t+" seconds"} ${r}`:t<1.5*s.minute?`${o?"1m":"a minute"} ${r}`:t<59*s.minute?`${Math.round(t/s.minute)}${o?"m":" minutes"} ${r}`:t<1.5*s.hour?`${o?"1h":"an hour"} ${r}`:t<22*s.hour?`${Math.round(t/s.hour)}${o?"h":" hours"} ${r}`:t<1.5*s.day?`${o?"1d":"a day"} ${r}`:t<25*s.day?`${Math.round(t/s.day)}${o?"d":" days"} ${r}`:t<45*s.day?`${o?"1mth":"a month"} ${r}`:t<345*s.day?`${Math.round(t/s.month)}${o?"mth":" months"} ${r}`:t<547*s.day?`${o?"1y":"a year"} ${r}`:`${Math.max(2,Math.floor(t/s.year))}${o?"y":" years"} ${r}`},timeAgoNoSeconds:function(e){if(!e)return;const t=new Date;return c.getSecondsBetween(t,e)<60?"Less than a minute ago":c.timeAgo(e)},ftTime:function(e){const t=new Date,n=c.getSecondsBetween(t,e);let o;return o=c.isNearFuture(n)?"just now":c.isFarFuture(n)?c.format(e,"date"):c.isToday(e,t,n)||n<4*s.hour?c.timeAgo(e,n):c.isYesterday(e,t,n)?"yesterday":c.format(e,"date"),o},getSecondsBetween:function(e,t){return Math.round((e-t)/1e3)},isNearFuture:function(e){return e<0&&e>-5*s.minute},isFarFuture:function(e){return e<-5*s.minute},isToday:function(e,t,n){const o=n<s.day,r=t.getDay()===e.getDay();return o&&r},isYesterday:function(e,t,n){const o=n<2*s.day,r=t.getDay()===e.getDay()+1;return o&&r},inSeconds:s};e.exports=c},"531919e5":function(e,t,n){"use strict";const o=n("3a98a258"),r=n("1583de32");e.exports=function(e,t){if(o(e))return e;if(!t)return e;if(!t.length||!r(t))throw new Error("Invalid user uuid: "+t);return e.replace(/myft(?:\/([a-zA-z\-]*))?(\/.[^$\/])?\/?/,(function(e,n,o){return"myft/"+(n?n+"/":"")+t+(o||"")}))}},"60ec3e78":function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var d in n=Object(arguments[l]))r.call(n,d)&&(c[d]=n[d]);if(o){s=o(n);for(var u=0;u<s.length;u++)i.call(n,s[u])&&(c[s[u]]=n[s[u]])}}return c}},"67f7c39c":function(e,t,n){const o=n("fe53252a"),r=n("d9e9b637"),i=e=>{document.body.dispatchEvent(e)},a=e=>r[e]?r[e].eventRules:void 0,s=()=>o.get("nMessagingEventCounter")?JSON.parse(o.get("nMessagingEventCounter")):{},c=(e,t)=>{const n=s();return"object"==typeof n[e]&&"number"==typeof n[e][t]?n[e][t]:0},l=(e,t)=>{const n=s(),r=c(e,t);n[e]=n[e]||{},n[e][t]=r+1;const i=new Date((new Date).getTime()+3e5);o.set("nMessagingEventCounter",n,{domain:"ft.com",expires:i})};e.exports={generateMessageEvent:function(){let{messageId:e,position:t,flag:n,trackingContext:o,variant:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(s,c){if(!e)return;const d=Object.assign({category:"n-messaging",action:s,messaging:e,messaging_position:t,messaging_flag:n,messaging_variant:r},o);c&&(d.messaging_action=c);const u=new CustomEvent("oTracking.event",{detail:d,bubbles:!0});i(u);const p=new CustomEvent("oTracking.event",{detail:Object.assign({},d,{category:"component"}),bubbles:!0});i(p),a(e)&&l(e,s)}},listen:function(e,t,n){e&&e.addEventListener(t,n)},messageEventLimitsBreached:function(e){const t=a(e);return!!t&&Object.keys(t.maxOccurrences).some((function(n){return c(e,event)>=t.maxOccurrences[n]}))}}},"79556e05":function(e,t,n){const o=n("c0891472").default,r=n("2e1dcbec");let i=new Map;const a=e=>{if(!e.target.classList.contains("o-banner__action"))return;e.preventDefault();const t=e.target,n=t.closest(".academia-cta-url-selector"),r=n.querySelector(".academia-cta-url-selector__url a"),a=t.closest(".o-banner__content"),s=Array.from(a.classList.values()).reduce((e,t)=>`${e}.${t}`,"");navigator.clipboard.writeText(r.getAttribute("href")).then(()=>{if(n.style.display="none",i.has(s))i.get(s).open();else{const e=new o(null,{type:"alert",state:"success",content:{detail:"The link has been copied to the clipboard"},parentElement:s+" .academia-cta-message-container"});e.messageElement.addEventListener("o.messageClosed",()=>{n.style.display="flex"}),i.set(s,e)}})};e.exports=(e,t)=>{const n=r.init(),o=e.bannerElement;if("variant"!==n.get("academicCtaTest"))return t({skip:!0});document.addEventListener("click",(function(t){!1===o.contains(t.target)&&e.close()}),!1),navigator.clipboard&&navigator.clipboard.writeText&&(o.querySelectorAll(".o-banner__action").forEach(e=>e.classList.remove("n-ui-hide")),o.addEventListener("click",a)),t()}},"7c792dac":function(e,t){e.exports='a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls], summary, [tabindex^="0"], [tabindex^="1"], [tabindex^="2"], [tabindex^="3"], [tabindex^="4"], [tabindex^="5"], [tabindex^="6"], [tabindex^="7"], [tabindex^="8"], [tabindex^="9"]'},"83923e6e":function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,l=[],d=!1,u=-1;function p(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&m())}function m(){if(!d){var e=s(p);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"84415bd2":function(e,t,n){e.exports=function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){var n=t[a][1][e];return r(n||e)}),l,l.exports,e,t,n,o)}return n[a].exports}for(var i=!1,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=i,n=a,o=!0,s=l=void 0}};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.json=function e(t){if(Array.isArray(t))return Promise.all(t.map(e));if(!t.ok)throw t.text(),new a(t.url,t.status,t.statusText);if(204!==t.status)return t.json().catch((function(e){if(e.message.indexOf("timeout")>-1)throw new c(e.message);throw new s(e.message)}));t.text()},n.text=function e(t){if(Array.isArray(t))return Promise.all(t.map(e));if(!t.ok)throw t.text(),new a(t.url,t.status,t.statusText);if(204!==t.status)return t.text();t.text()},n.originatedError=function(e){return e.name===a.name||e.name===s.name||e.name===c.name};var a=function(e){function t(e,n,i){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.message=e+" responded with a "+n+" ("+i+")",this.name="BadServerResponseError"}return i(t,Error),t}();n.BadServerResponseError=a;var s=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.message=e,this.name="InvalidJsonError"}return i(t,Error),t}();n.InvalidJsonError=s;var c=function(e){function t(e){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.message=e,this.name="ReadTimeoutError"}return i(t,Error),t}();n.ReadTimeoutError=c},{}]},{},[1])(1)},"84f786be":function(e,t,n){let o=n("3108efc0");o=o.default||o;const{generateMessageEvent:r,listen:i}=n("67f7c39c");e.exports=function(e){const t=r({flag:"messageSlotBottom",messageId:e.name,position:e.slot,trackingContext:e.trackingContext||{},variant:e.name});i(document.documentElement,"oCookieMessage.close",()=>t("close")),i(document.documentElement,"oCookieMessage.view",()=>t("view")),o.init();document.querySelectorAll("[data-n-messaging-policy],[data-n-messaging-manage-cookies],[data-n-messaging-accept-cookies]").forEach(e=>{i(e,"click",()=>t("act",e.textContent.trim()))})}},85403878:function(e,t,n){"use strict";e.exports=function(e){return/\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/.test(e)}},"86c3283f":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));const o=!0;e.env.HEROKU_APP_NAME&&e.env.HEROKU_APP_NAME.endsWith("stage"),Boolean(e.env.HEROKU_BRANCH)}).call(this,n("83923e6e"))},"89cc756e":function(e,t,n){e.exports={nMessagingClient:n("b10ff94d")}},"93d51769":function(e,t,n){const o=n("fe53252a");e.exports=(e,t)=>{void 0===o.get("popupPromptShown")&&e.open();return e.bannerElement.querySelector(".o-banner__close").addEventListener("click",(function(){const e=new Date((new Date).getTime()+864e6);o.set("popupPromptShown","OK",{domain:"ft.com",expires:e})})),t({skip:!0})}},b10ff94d:function(e,t,n){const o=n("eacfaeb0"),r=n("441846df"),i=n("fcf26058"),a=n("d9e9b637");e.exports={init:function(){const e=document.querySelectorAll("[data-n-messaging-slot]"),t=e&&Array.prototype.slice.call(e).map(e=>{const t=e.dataset||{},n=a[t.nMessagingName];return{slot:t.nMessagingSlot,name:t.nMessagingName,content:e.querySelector("[data-n-messaging-component]"),path:n.path,component:n.component,lazy:n.lazy,guruQueryString:n.guruQueryString,trackingContext:n.trackingContext}});t.length>0&&Promise.all(t.map(e=>this.initialiseMessage(e))).catch(this.handleError)},initialiseMessage(e){const t=this.setupHandler(e.component||e.path);if("bottom/cookie-consent"===e.path)return t(e);const n=this.renderHandler(e.slot);return(e.lazy?o(e):Promise.resolve(null)).then(n=>({config:e,guruResult:n,customSetup:t})).then(n)},renderHandler:e=>"top"===e?r:"bottom"===e?i:void 0,setupHandler(e){try{if(e)return n("2918a7cd")(`./${e}/main`)}catch(e){return}},handleError(e){throw console.error(e),e}}},b529f2a5:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var o=function(e){let{credentials:t="omit"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("https://session-next.ft.com"+e,{credentials:t,useCorsProxy:!0}).then(e=>e.ok?e.json():e.text().then(t=>{throw new Error(`Next session responded with "${t}" (${e.status})`)})).catch(e=>{document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:e,info:{component:"next-session-client"}}}))})};let r={};const i=(e,t)=>{if("object"!=typeof e){if("string"!=typeof e||"string"!=typeof t){if("string"==typeof e&&void 0===t)return r[e]||null;if(void 0===e&&void 0===t)return r;throw new Error("Invalid arguments")}r[e]=t}else r=e};i.clear=()=>{r={}};var a=i;const s={},c=()=>{const[,e]=/FTSession_s=([^;]+)/.exec(document.cookie)||[];return e},l=()=>{const e=a("uuid");if(e)return Promise.resolve({uuid:e});const t=c();return t?(s.uuid||(s.uuid=o("/sessions/s/"+t).then((function(){let{uuid:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return delete s.uuid,e&&a("uuid",e),{uuid:e}}))),s.uuid):Promise.resolve({uuid:void 0})},d=()=>{const e=a("products"),t=a("uuid");return e&&t?Promise.resolve({products:e,uuid:t}):c()?(s.products||(s.products=o("/products",{credentials:"include"}).then((function(){let{products:e,uuid:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.products=void 0,e&&a("products",e),t&&a("uuid",t),{products:e,uuid:t}}))),s.products):Promise.resolve({})};t.a={uuid:l,products:d,validate:()=>l().then(e=>{let{uuid:t}=e;return!!t}),cache:a,cookie:()=>(/FTSession=([^;]+)/.exec(document.cookie)||[null,""])[1],sessionId:c}},c4cbb9f6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("10046406"),r=n("7220c657"),i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var a={HEADER:{default:12,M:12,L:3},TEASERS:{default:12,M:4,L:3},FALLBACK:{default:12}};function s(e){var t,n,o=[];e.default&&o.push(e.default.toString());try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(["S","M","L","XL"]),i=r.next();!i.done;i=r.next()){var a=i.value;e[a]&&o.push("".concat(a).concat(e[a]))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o.join(" ")}function c(e){var t=e.type,n=e.title,o=e.strapline,i=e.headerColspan,c=e.itemColspan,l={header:a.HEADER,item:a.TEASERS};return(i||c)&&(l.header=null!=i?i:a.FALLBACK,l.item=null!=c?c:a.FALLBACK),r.h("div",{className:"community-home-page-slice o-grid-row o-grid-row--compact"+(t?" community-home-page-slice--".concat(t):"")+(i||c?"":" community-home-page-slice--default-layout")},r.h("div",{"data-o-grid-colspan":s(l.header),className:"community-home-page-slice__column community-home-page-slice__header-column"},r.h("div",{className:"community-home-page-slice__header"},r.h("h3",{className:"community-home-page-slice__title"},n),r.h("p",{className:"community-home-page-slice__strapline"},o))),e.children.slice(0,3).map((function(e,t){return r.h("div",{key:t,"data-o-grid-colspan":s(l.item),className:"community-home-page-slice__column community-home-page-slice__item-column"},e)})))}function l(e){var t=e.title,n=e.strapline,a=e.eventTeasers,s=e.headerColspan,l=e.teasersColspan;return r.h(c,{type:"events",title:t,strapline:n,headerColspan:s,itemColspan:l},a.map((function(e){return r.h(o.EventTeaser,i({},e,{showStandfirst:!0,showImage:!1,showBrand:!0}))})))}var d=[{title:"Women In Business Forum",strapline:"A dedicated programme to accelerate mid-career women into senior leadership.",url:"https://forums.ft.com/women-in-business-forum"},{title:"Future Forum",strapline:"An authoritative space for businesses to share ideas, build relationships and develop solutions to future challenges.",url:"https://forums.ft.com/future-forum"},{title:"Climate Capital Council",strapline:"Where businesses share ideas, opportunities and challenges with climate change.",url:"https://forums.ft.com/climate-capital-council"}],u=function(e){var t=e.url,n=e.title;return r.h("a",{className:"forum-teaser__title","data-trackable":"forum-teaser-title",href:t},n)},p=function(e){var t=e.strapline;return r.h("span",{className:"forum-teaser__strapline"},t)};function m(e){var t=e.url,n=e.title,o=e.strapline;return r.h("div",{className:"forum-teaser","data-trackable":"forum-teaser"},r.h(u,{title:n,url:t}),r.h(p,{strapline:o}))}function g(e){var t=e.title,n=e.strapline,o=e.headerColspan,a=e.teasersColspan;return r.h(c,{type:"forums",title:t,strapline:n,headerColspan:o,itemColspan:a},d.map((function(e){return r.h(m,i({},e))})))}t.EventTeaserSlice=l,t.HomePageSlice=function(e){return r.h(r.Fragment,null,r.h(l,{title:"Upcoming events",strapline:"Discover unmissable flagship events and members only communities to expand your thinking and elevate your career.",eventTeasers:e.eventTeasers}),r.h(g,{title:"Join the discussion",strapline:"FT Forums is a series of members only communities, powered by the Financial Times."}))},t.initTracking=function(e){return o.utils.initTeaserTracking(e)}},c5f40edf:function(e,t,n){"use strict";const o=()=>"interactive"===document.readyState||"complete"===document.readyState,r=new Promise(e=>{o()?e():document.addEventListener("DOMContentLoaded",()=>{e()},{capture:!0,once:!0,passive:!0})});Object.defineProperty(r,"hasLoaded",{get:()=>o()}),e.exports=r},d19ca3d6:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var o=n("226cb005"),r=n("b529f2a5"),i=n("84415bd2"),a=n("531919e5"),s=n.n(a);const c={total:0,items:[],count:0};var l=new class{constructor(){let{apiRoot:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)throw"User prefs must be constructed with an api root";this.apiRoot=e,this.loaded={}}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.initialised)return Promise.resolve();this.initialised=!0;return/FTSession=/.test(document.cookie)?(this.setPerfMark(),r.a.uuid().then(t=>{let{uuid:n}=t;if(!n)return Promise.reject("Session service returned undefined.");this.userId=n,this.headers={"Content-Type":"application/json","X-FT-Session-Token":r.a.cookie(),accept:"application/json"};let o=new Set([{relationship:"preferred",type:"preference"},{relationship:"enabled",type:"endpoint"},{relationship:"created",type:"list"}]);e.forEach(e=>{o.has(e)||o.add(e)}),o.forEach(e=>this.load(e))}).catch(e=>{if("No session cookie found"!==e.message)throw e})):Promise.reject("No session cookie found")}setPerfMark(){const e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;e&&e.mark&&Promise.all([new Promise(e=>{document.addEventListener("myft.user.followed.concept.load",e)}),new Promise(e=>{document.addEventListener("myft.user.saved.content.load",e)})]).then(()=>e.mark("myftLoaded"))}emit(e,t){document.body.dispatchEvent(new CustomEvent("myft."+e,{detail:t,bubbles:!0}))}fetchJson(e,t,n){let o={method:e,headers:this.headers,credentials:"include"};if(/undefined/.test(t)){let e="Request should not contain undefined.";return document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:new Error(e)}})),Promise.reject(e)}return"GET"!==e&&(o.body=JSON.stringify(n||{})),fetch(this.apiRoot+t,o).then(i.json)}load(e){const t=`${e.relationship}.${e.type}`;this.fetchJson("GET",`${this.userId}/${e.relationship}/${e.type}`).then(e=>{e||(e=c),this.loaded[t]=e,this.emit(`user.${t}.load`,e)}).catch(e=>{if("No user data exists"!==e.message)throw e;this.loaded[t]=c,this.emit(`user.${t}.load`,c)})}add(e,t,n,o,r,i,a){return t=this.getFallbackActorIdIfNecessary(e,t),this.fetchJson("PUT",`${e}/${t}/${n}/${o}/${r}`,i).then(s=>{const c={actorId:t,results:s,subject:r,data:i,trackingInfo:a};return this.emit(`${e}.${n}.${o}.add`,c),c})}remove(e,t,n,o,r,i,a){return t=this.getFallbackActorIdIfNecessary(e,t),this.fetchJson("DELETE",`${e}/${t}/${n}/${o}/${r}`,i).then(()=>{const s={actorId:t,subject:r,data:i,trackingInfo:a};return this.emit(`${e}.${n}.${o}.remove`,s),s})}updateRelationship(e,t,n,o,r,i,a){return t=this.getFallbackActorIdIfNecessary(e,t),this.fetchJson("PUT",`${e}/${t}/${n}/${o}/${r}`,i).then(s=>{const c={actorId:t,results:s,subject:r,data:i,trackingInfo:a};return this.emit(`${e}.${n}.${o}.update`,c),c})}get(e,t,n){return this.getAll(e,t).then(e=>e.filter(e=>this.getUuid(e)===n))}getAll(e,t){return new Promise(n=>{this.loaded[`${e}.${t}`]?n(this.getItems(e,t)):document.body.addEventListener(`myft.user.${e}.${t}.load`,()=>{n(this.getItems(e,t))})})}has(e,t,n){return this.get(e,t,n).then(e=>e.length>0)}getUuid(e){return e.uuid}getItems(e,t){return this.loaded[`${e}.${t}`]&&this.loaded[`${e}.${t}`].items||[]}personaliseUrl(e){return r.a.uuid().then(t=>{let{uuid:n}=t;return s()(e,n)})}getFallbackActorIdIfNecessary(e,t){if(t)return t;if("user"===e)return this.userId;throw new Error("no actorId specified")}followPlusDigestEmail(e,t){return this.fetchJson("PUT",`${this.userId}/follow-plus-digest-email/${e}`,t).then(n=>{const o={actorId:this.userId,results:n,subject:e,data:t};return this.emit("user.followed.concept.add",o),o})}}({apiRoot:"/__myft/api/onsite/"}),d=n("1ae02a0f"),u=n("fe53252a"),p=n.n(u);const m=document.querySelector(".topper__primary-theme .n-myft-follow-button");let g=p.a.get("FT_MyFT_article_tooltip")||0;function f(e,t){!m||g>=3||l.init([{relationship:"followed",type:"concept"}]).then(()=>l.getAll("followed","concept")).then(t=>function(e,t){if(e.length>0)return;const n=[`Find ${document.querySelector(".topper__primary-theme .js-primary-theme").innerText} stories easily.`,"Start your feed."].map(e=>`<span style="display: block">${e}</span>`).join(" ");Object(d.broadcast)("oTracking.event",{action:"criteria-met",category:"myft-disengaged-tooltip",detail:{type:"article-page-about-tooltip",followedConceptCount:0}});const r=new o.default(m,{target:"myft-disengaged-tooltip",content:n,showOnConstruction:!0,position:"below"});g++,p.a.set("FT_MyFT_article_tooltip",g,{expires:365,path:"/content"}),r.tooltipEl.addEventListener("oTooltip.close",()=>t.close())}(t,e)).finally(()=>t())}},d70d095f:function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return I}));var o,r,i,a,s=-1,c=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(){var e=l();return e&&e.activationStart||0},u=function(e,t){var n=l(),o="navigate";return s>=0?o="back-forward-cache":n&&(o=document.prerendering||d()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:o}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var o=new PerformanceObserver((function(e){t(e.getEntries())}));return o.observe(Object.assign({type:e,buffered:!0},n||{})),o}}catch(e){}},m=function(e,t){var n=function n(o){"pagehide"!==o.type&&"hidden"!==document.visibilityState||(e(o),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},g=function(e,t,n,o){var r,i;return function(a){t.value>=0&&(a||o)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},f=-1,h=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(){m((function(e){var t=e.timeStamp;f=t}),!0)},b=function(){return f<0&&(f=h(),y(),c((function(){setTimeout((function(){f=h(),y()}),0)}))),{get firstHiddenTime(){return f}}},v=function(e,t){t=t||{};var n,o=[1800,3e3],r=b(),i=u("FCP"),a=function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(l&&l.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime-d(),i.entries.push(e),n(!0)))}))},s=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName("first-contentful-paint")[0],l=s?null:p("paint",a);(s||l)&&(n=g(e,i,o,t.reportAllChanges),s&&a([s]),c((function(r){i=u("FCP"),n=g(e,i,o,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,n(!0)}))}))})))},w=!1,k=-1,S=function(e,t){t=t||{};var n=[.1,.25];w||(v((function(e){k=e.value})),w=!0);var o,r=function(t){k>-1&&e(t)},i=u("CLS",0),a=0,s=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,s.push(e)):(a=e.value,s=[e]),a>i.value&&(i.value=a,i.entries=s,o())}}))},d=p("layout-shift",l);d&&(o=g(r,i,n,t.reportAllChanges),m((function(){l(d.takeRecords()),o(!0)})),c((function(){a=0,k=-1,i=u("CLS",0),o=g(r,i,n,t.reportAllChanges)})))},E={passive:!0,capture:!0},T=new Date,A=function(e,t){o||(o=t,r=e,i=new Date,O(removeEventListener),C())},C=function(){if(r>=0&&r<i-T){var e={entryType:"first-input",name:o.type,target:o.target,cancelable:o.cancelable,startTime:o.timeStamp,processingStart:o.timeStamp+r};a.forEach((function(t){t(e)})),a=[]}},_=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){A(e,t),r()},o=function(){r()},r=function(){removeEventListener("pointerup",n,E),removeEventListener("pointercancel",o,E)};addEventListener("pointerup",n,E),addEventListener("pointercancel",o,E)}(t,e):A(t,e)}},O=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,_,E)}))},L=function(e,t){t=t||{};var n,i=[100,300],s=b(),l=u("FID"),d=function(e){e.startTime<s.firstHiddenTime&&(l.value=e.processingStart-e.startTime,l.entries.push(e),n(!0))},f=function(e){e.forEach(d)},h=p("first-input",f);n=g(e,l,i,t.reportAllChanges),h&&m((function(){f(h.takeRecords()),h.disconnect()}),!0),h&&c((function(){var s;l=u("FID"),n=g(e,l,i,t.reportAllChanges),a=[],r=-1,o=null,O(addEventListener),s=d,a.push(s),C()}))},x={},P=function(e,t){t=t||{};var n,o=[2500,4e3],r=b(),i=u("LCP"),a=function(e){var t=e[e.length-1];if(t){var o=t.startTime-d();o<r.firstHiddenTime&&(i.value=o,i.entries=[t],n())}},s=p("largest-contentful-paint",a);if(s){n=g(e,i,o,t.reportAllChanges);var l=function(){x[i.id]||(a(s.takeRecords()),s.disconnect(),x[i.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,l,{once:!0,capture:!0})})),m(l,!0),c((function(r){i=u("LCP"),n=g(e,i,o,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,x[i.id]=!0,n(!0)}))}))}))}},I=function(e,t){t=t||{};var n=[800,1800],o=u("TTFB"),r=g(e,o,n,t.reportAllChanges);!function e(t){document.prerendering?addEventListener("prerenderingchange",(function(){return e(t)}),!0):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)}((function(){var i=l();if(i){if(o.value=Math.max(i.responseStart-d(),0),o.value<0||o.value>performance.now())return;o.entries=[i],r(!0),c((function(){o=u("TTFB",0),(r=g(e,o,n,t.reportAllChanges))(!0)}))}}))}},d9e9b637:function(e,t){e.exports={licenceJoinPromptSsiClient:{path:"bottom/lazy",lazy:!0},ssiSurvey:{path:"bottom/secondary-school-survey"},cookieConsentA:{path:"bottom/cookie-consent"},cookieConsentB:{path:"bottom/cookie-consent"},cookieConsentC:{path:"bottom/cookie-consent"},marketingPopupPrompt:{path:"bottom/marketing-popup-prompt",lazy:!0,trackingContext:{opportunity_type:"marketingPrompt",opportunity_subtype:"discount_33%off"}},paymentFailure:{path:"top/payment-failure"},singleTermRenew:{path:"top/renew-single-term-banner"},anonSubscribeNow:{path:"top/anon-subscribe-now",trackingContext:{opportunity_type:"marketingPrompt",opportunity_subtype:"top_trial_splitter"}},printBannerUsa:{path:"top/print-banner-usa",trackingContext:{opportunity_type:"marketingPrompt",opportunity_subtype:"top_trial_splitter_US"}},contentMessage:{path:"bottom/content-message"},myftDisengagedTooltip:{path:"top/myft-disengaged-tooltip",tooltip:!0},remainingArticlesTest:{path:"bottom/remaining-articles",lazy:!0},aberdeenStandardLifeCancellation:{path:"bottom/asi-cancellation"},tryFullAccess:{path:"top/lazy",lazy:!0,guruQueryString:"offerId=41218b9e-c8ae-c934-43ad-71b13fcb4465"},threeMonthsIntroPricePromo:{path:"top/lazy",lazy:!0},digitalIntroSubscriptionPromo:{path:"top/lazy",lazy:!0},climateCapitalFeedback:{path:"top/lazy",lazy:!0},digitalMarketingNewWorld:{path:"top/digital-marketing-new-world",trackingContext:{opportunity_type:"digitalMarketingNewWorld"}},jan22DigitalSaleBanner:{path:"top/jan-22-digital-sale-banner",trackingContext:{opportunity_type:"jan22DigitalSaleBanner"}},jan22DigitalSaleSlider:{path:"bottom/jan-22-digital-sale-slider",trackingContext:{opportunity_type:"jan22DigitalSaleSlider"}},disruptedWorld:{path:"top/disrupted-world",trackingContext:{opportunity_type:"disruptedWorld"}},embeddedOnboarding:{path:"bottom/embedded-onboarding"},academiaCTA:{path:"bottom/academia-cta",lazy:!0}}},e735d598:function(e,t){e.exports=e=>/^\/(__)?myft\/(my-news|my-topics|preferences|product-tour)/.test(e)},e79060bc:function(e,t,n){const o=n("fe53252a");e.exports=(e,t)=>{void 0===o.get("jan22SalePromptShown")&&e.open();return e.bannerElement.querySelector(".o-banner__close").addEventListener("click",(function(){const e=new Date((new Date).getTime()+864e6);o.set("jan22SalePromptShown","OK",{domain:"ft.com",expires:e})})),t({skip:!0})}},eacfaeb0:function(e,t){e.exports=function(){let{guruEndpoint:e="/__message",name:t,guruQueryString:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=`${e}/${t}${n?"?"+n:""}`,r={method:"GET",headers:{Accept:"application/json","FT-Skip-Cache":"Yes"},credentials:"same-origin"},i=e=>{if(!e.skip&&e.data&&e.renderData)return!0;throw new Error("Bad response body")};return fetch(o,r).then(e=>{if(200===e.status)return e.json();e.text().then(e=>{throw new Error(`Bad response status ${status}: ${e}`)})}).then(e=>(e.skip||i(e))&&e).then(e=>{const t=["myft","product","marketing","slate-background"],n=["small","compact"];if(e.renderData.customThemes=[],e&&e.renderData&&Array.isArray(e.renderData.theme)){const o=e.renderData.theme;for(const r of o)t.includes(r)?e.renderData.bannerTheme=r:n.includes(r)?e.renderData.bannerLayout=r:e.renderData.customThemes.push(r)}return e}).catch(()=>!1)}},fb263b11:function(e,t,n){"use strict";function o(e,t,n){n.renderData.remainingArticles<0||t()}n.r(t),n.d(t,"default",(function(){return o}))},fcdffa92:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},fcf26058:function(e,t,n){let o=n("4ab62d1f");o=o.default||o;const{generateMessageEvent:r,listen:i,messageEventLimitsBreached:a}=n("67f7c39c");function s(e,t){let n=e.innerElement.querySelectorAll("[data-n-messaging-banner-action]"),o=[];0===n.length&&(n=e.innerElement.querySelectorAll(".o-banner__button"),o=e.innerElement.querySelectorAll(".o-banner__link")),n=[...n,...o],i(e.bannerElement,"o.bannerClosed",()=>t("close")),i(e.bannerElement,"o.bannerOpened",()=>t("view")),n&&n.length>0&&n.forEach(e=>{const n=e.dataset.nMessagingBannerActionType,o=e.textContent;i(e,"click",()=>t(e.dataset.nMessagingBannerAction||"act",n||o))})}function c(e){const t={autoOpen:e.autoOpen||!1,suppressCloseButton:e.suppressCloseButton||!1,bannerClass:e.bannerClass||"o-banner",theme:e.bannerTheme,layout:e.bannerLayout,formEncoding:e.formEncoding,formMethod:e.formMethod,formAction:e.formAction,contentLong:e.contentLong,contentShort:e.contentShort,buttonLabel:e.buttonLabel,buttonUrl:e.buttonUrl,linkLabel:e.linkLabel,linkUrl:e.linkUrl,appendTo:'[data-n-messaging-slot="bottom"] [data-n-messaging-component]',dynamicTrackingData:e.dynamicTrackingData},n=new o(null,t);if(n.bannerElement.classList.add("n-messaging-client-messaging-banner"),Array.isArray(e.customThemes))for(const t of e.customThemes)n.bannerElement.classList.add("n-messaging-client-messaging-banner--"+t);return n}function l(e,t){const n=t.dynamicTrackingData||e.name,o=Object.assign(e.trackingContext||{},t.trackingContext||{});return r({flag:"messageSlotBottom",messageId:e.name,position:e.slot,trackingContext:o,variant:n})}e.exports=function(){let{config:e={},guruResult:t,customSetup:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t&&t.renderData||{},i=l(e,r),d=t&&t.skip,u=a(e.name);if(d||u)return void i("skip");const p=!e.lazy&&e.content,m=t&&t.renderData,g=!p&&!m;if(g)return;const f=p?new o(p):c(r);if(s(f,i),n){function h(){let{skip:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?i("skip"):f.open()}return n=n.default||n,void n(f,h,t,i)}f.open()}},fe53252a:function(e,t,n){var o,r;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(r="function"==typeof(o=i)?o.call(t,n,t,e):o)||(e.exports=r),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function t(n){function o(t,r,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},o.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in i)i[l]&&(c+="; "+l,!0!==i[l]&&(c+="="+i[l]));return document.cookie=t+"="+r+c}t||(a={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<d.length;p++){var m=d[p].split("="),g=m.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var f=m[0].replace(u,decodeURIComponent);if(g=n.read?n.read(g,f):n(g,f)||g.replace(u,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(t===f){a=g;break}t||(a[f]=g)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}((function(){}))}))}},[["1d447277","webpack-runtime","page-kit-components","financial-times-o-tracking","shared.stable","financial-times-n-syndication","financial-times-o-viewport","financial-times-n-feedback","privacy-components","financial-times-o-grid","financial-times-o-utils","financial-times-o-footer","financial-times-o-message","financial-times-o-overlay","financial-times-o-toggle","financial-times-o-tooltip","financial-times-n-tracking","financial-times-o-banner","financial-times-o-cookie-message","financial-times-o-date","financial-times-o-typography","financial-times-x-engine","superstore","react","financial-times-n-exponea","financial-times-n-myft-dropdown","preact"]]]);
//# sourceMappingURL=scripts.b7cb8adb185d.bundle.js.map