(window.webpackJsonp=window.webpackJsonp||[]).push([["financial-times-o-date"],{"8ae80ca4":function(t,e,a){"use strict";a.r(e);var o=a("4cbca5a5"),i=a.n(o);let n;function r(t){console.warn(`The o-date method "${t}" is deprecated. Use the "ft-date-format" package instead or contact the Origami team for help: https://github.com/Financial-Times/ft-date-format`)}class s{constructor(t){t||console.warn("To initialise all o-date elements on the page use the `init` method. Passing no arguments to the constructor is deprecated."),!t||t instanceof HTMLElement||console.warn("Using the constructor to initialise one or more o-date elements with a query selector is deprecated. Pass a single o-date HTMLElement to initialise or use the `init` method."),t?t instanceof HTMLElement||(t=document.querySelector(t)):t=document.body,"o-date"===t.getAttribute("data-o-component")?this.el=t:this.el=t.querySelector('[data-o-component~="o-date"]'),this.el&&(document.body.addEventListener("update",this),this.update(),this.el.setAttribute("data-o-date-js","")),this.el&&!n&&(n=setInterval((function(){document.body.dispatchEvent(new CustomEvent("update"))}),6e4))}handleEvent(t){"update"===t.type&&this.update()}update(){const t=this.el,e=t.getAttribute("datetime");let a=e?i.a.toDate(e):null;if(a||""!==this.el.textContent||(a=new Date),!a)return;let o=t.querySelectorAll(".o-date__printer,[data-o-date-printer]");o=o.length?o:[t];for(const t of o)this._renderDateFor(t,a);t.textContent?(t.setAttribute("title",i.a.format(a,"datetime")),t.removeAttribute("aria-hidden")):t.setAttribute("aria-hidden",!0)}destroy(){document.body.removeEventListener("update",this),this.el=null}static init(t){if(t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),/\bo-date\b/.test(t.getAttribute("data-o-component")))return new s(t);const e=t.querySelectorAll('[data-o-component~="o-date"]');return[].map.call(e,(function(t){return new s(t)}))}_renderDateFor(t,e){const a=t.getAttribute("data-o-date-format")||this.el.getAttribute("data-o-date-format");let o;"today-or-yesterday-or-nothing"===a?o=i.a.asTodayOrYesterdayOrNothing(e):"date-only"===a?o=i.a.format(e,"date"):"time-ago-limit-4-hours"===a?o=i.a.timeAgo(e,{limit:4*i.a.inSeconds.hour}):"time-ago-limit-24-hours"===a?o=i.a.timeAgo(e,{limit:24*i.a.inSeconds.hour}):"time-ago-abbreviated"===a?(console.warn('The o-date format "time-ago-abbreviated" is deprecated and the time is no longer abbreviated. Consider using "time-ago-limit-4-hours" instead.'),o=i.a.timeAgo(e)):"time-ago-abbreviated-limit-4-hours"===a?(console.warn('The o-date format "time-ago-abbreviated-limit-4-hours" is deprecated and the time is no longer abbreviated. Use "time-ago-limit-4-hours" instead.'),o=i.a.timeAgo(e,{limit:4*i.a.inSeconds.hour})):o="time-ago-no-seconds"===a?i.a.timeAgoNoSeconds(e):null!==a?i.a.format(e,a):i.a.ftTime(e);1===t.childNodes.length&&t.firstChild&&3===t.firstChild.nodeType?t.firstChild.nodeValue=o:t.innerHTML=o}static toDate(){return r("toDate"),i.a.toDate(...arguments)}static format(){return r("format"),i.a.format(...arguments)}static getSecondsBetween(){return r("getSecondsBetween"),i.a.getSecondsBetween(...arguments)}static ftTime(){return r("ftTime"),i.a.ftTime(...arguments)}static isNearFuture(){return r("isNearFuture"),i.a.isNearFuture(...arguments)}static isFarFuture(){return r("isFarFuture"),i.a.isFarFuture(...arguments)}static isToday(){return r("isToday"),i.a.isToday(...arguments)}static isYesterday(){return r("isYesterday"),i.a.isYesterday(...arguments)}static timeAgo(){return r("timeAgo"),i.a.timeAgo(...arguments)}static asTodayOrYesterdayOrNothing(){return r("asTodayOrYesterdayOrNothing"),i.a.asTodayOrYesterdayOrNothing(...arguments)}static timeAgoNoSeconds(){return r("timeAgoNoSeconds"),i.a.timeAgoNoSeconds(...arguments)}}var d=s;const u=function(){d.init(),document.removeEventListener("o.DOMContentLoaded",u)};document.addEventListener("o.DOMContentLoaded",u);e.default=d}}]);
//# sourceMappingURL=financial-times-o-date.c2a540bea29c.bundle.js.map