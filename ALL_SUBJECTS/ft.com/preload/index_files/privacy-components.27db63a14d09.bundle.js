(window.webpackJsonp=window.webpackJsonp||[]).push([["privacy-components"],{"0b2f5b41":function(t,e,n){"use strict";n.r(e),n.d(e,"API_URL",(function(){return o})),n.d(e,"API_ENDPOINTS",(function(){return r})),n.d(e,"fetchLegislation",(function(){return c})),n.d(e,"buildConsentPageUrl",(function(){return a}));const o="https://privacy.ft.com/api/v1",r={complianceRegion:"/compliance-region.json"};function i(t){return{region:t.region,legislation:new Set(t.legislation.split(","))}}function s(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}}async function c(){const t=s()&&sessionStorage.getItem("user-compliance"),e=t&&JSON.parse(t);if(e)return Promise.resolve(i(e));try{const t=await fetch(`${o}${r.complianceRegion}`),e=await(t.ok?t.json():Promise.reject(t));return s()&&sessionStorage.setItem("user-compliance",JSON.stringify(e)),i(e)}catch(t){throw new Error(t.status)}}function a(t){let{url:e,legislation:n,referrer:o}=t;const r=new URL(e),i=function(t){if(t)try{return new URL(t).hostname}catch(e){return t}return"undefined"==typeof window?"":window.location.hostname}(o);for(const t of n)r.searchParams.append("legislation",t);return i&&r.searchParams.set("referrer",i.toLowerCase()),r.toString()}},"0b2f5b41":function(t,e,n){"use strict";n.r(e),n.d(e,"API_URL",(function(){return o})),n.d(e,"API_ENDPOINTS",(function(){return r})),n.d(e,"fetchLegislation",(function(){return c})),n.d(e,"buildConsentPageUrl",(function(){return a}));const o="https://privacy.ft.com/api/v1",r={complianceRegion:"/compliance-region.json"};function i(t){return{region:t.region,legislation:new Set(t.legislation.split(","))}}function s(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}}async function c(){const t=s()&&sessionStorage.getItem("user-compliance"),e=t&&JSON.parse(t);if(e)return Promise.resolve(i(e));try{const t=await fetch(`${o}${r.complianceRegion}`),e=await(t.ok?t.json():Promise.reject(t));return s()&&sessionStorage.setItem("user-compliance",JSON.stringify(e)),i(e)}catch(t){throw new Error(t.status)}}function a(t){let{url:e,legislation:n,referrer:o}=t;const r=new URL(e),i=function(t){if(t)try{return new URL(t).hostname}catch(e){return t}return"undefined"==typeof window?"":window.location.hostname}(o);for(const t of n)r.searchParams.append("legislation",t);return i&&r.searchParams.set("referrer",i.toLowerCase()),r.toString()}},b8f58555:function(t,e,n){"use strict";n.r(e),n.d(e,"NO_PRIVACY_COOKIE",(function(){return s})),n.d(e,"getUsPrivacyCookie",(function(){return c})),n.d(e,"getUsPrivacyForTracking",(function(){return a})),n.d(e,"__uspapi",(function(){return u})),n.d(e,"setUSPrivacy",(function(){return f})),n.d(e,"setUSPrivacyCookie",(function(){return l}));const o="/compliance-region.json";function r(t){return{region:t.region,legislation:new Set(t.legislation.split(","))}}function i(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(t){return!1}}const s="no-privacy-cookie";function c(){const t=document.cookie.split("; ").find(t=>t.startsWith("usprivacy"));return t?t.split("=")[1]:null}function a(){return c()||s}async function u(t,e,n){if("function"==typeof n)if(1===e&&"getUSPData"===t)try{const t=c();if(t)return void n({version:e,uspString:t},!0);{const{legislation:t}=await async function(){const t=i()&&sessionStorage.getItem("user-compliance"),e=t&&JSON.parse(t);if(e)return Promise.resolve(r(e));try{const t=await fetch("https://privacy.ft.com/api/v1"+o),e=await(t.ok?t.json():Promise.reject(t));return i()&&sessionStorage.setItem("user-compliance",JSON.stringify(e)),r(e)}catch(t){throw new Error(t.status)}}();return t.has("ccpa")?void n({version:e,uspString:"1NNN"},!0):void n({version:e,uspString:"1---"},!0)}}catch(t){n(void 0,!1)}else console.error("Invalid version or command specified for the __uspapi() function");else console.error("Please provide a valid callback to the __uspapi() function. __uspapi(command, version, callback)")}function f(){"function"!=typeof window.__uspapi&&(window.__uspapi=u)}function l(t,e){e=e||(document.location.hostname||"").replace("www.","");const n=`1Y${t?"N":"Y"}N`;document.cookie=`usprivacy=${n};max-age=157680000;path=/;domain=${e}`}}}]);
//# sourceMappingURL=privacy-components.27db63a14d09.bundle.js.map