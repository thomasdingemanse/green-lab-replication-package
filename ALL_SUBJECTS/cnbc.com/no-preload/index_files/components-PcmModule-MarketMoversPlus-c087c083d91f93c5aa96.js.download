"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4134],{76007:(e,a,t)=>{t.r(a),t.d(a,{MarketMoversPlus:()=>F,default:()=>B,mapStateToProps:()=>W});var r=t(29439),o=t(67294),n=t(45697),s=t.n(n),l=t(50533),c=t(2997),i=t(14526),u=t(3704),m=t(85775),d=t(85712),M=t(4942),b=t(90039),v=t(31080),y=t(52874),p=t(24250);const f="MarketMoverPlusTable-container",g="MarketMoverPlusTable-tableContainer",k="MarketMoverPlusTable-dataContainer",h="MarketMoverPlusTable-dataRow",P="MarketMoverPlusTable-companyName",E="MarketMoverPlusTable-tableHeader",D="MarketMoverPlusTable-quoteGain",O="MarketMoverPlusTable-symbolName",S="MarketMoverPlusTable-addWatchlist",N="MarketMoverPlusTable-dropdownStyles",w="MarketMoverPlusTable-quoteDecline",T="MarketMoverPlusTable-lastPrice";function R(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?R(Object(t),!0).forEach((function(a){(0,M.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var C=function(e){var a=e.tableHeaderLabel,t=e.data,r=e.template,n=e.quoteData;if(!t||!Array.isArray(t))return o.createElement(p.Z,{data:{error:"MarketMoverPlusTable data is empty, null or is not an array"},errorSource:"MarketMoversPlusTable",errorProps:e});var s=t.map((function(e,a){var t=e.symbolData.changePct>=0,s=t?"+":"",l=q(q({},n.filter((function(a){return a.symbol===e.cnbcSymbol}))[0]||{}),{},{ExtendedMktQuote:{change:"".concat(s).concat((0,b.vw)(e.symbolData.change,2)),change_pct:"".concat(s).concat((0,b.vw)(e.symbolData.changePct,2),"%"),changetype:t?"UP":"DOWN",last:(0,b.uf)(e.symbolData.lastPrice),name:e.symbolDesc,symbol:e.cnbcSymbol},change:"".concat(s).concat((0,b.vw)(e.symbolData.change,2)),change_pct:"".concat(s).concat((0,b.vw)(e.symbolData.changePct,2),"%"),changetype:t?"UP":"DOWN",last:(0,b.uf)(e.symbolData.lastPrice),name:e.symbolDesc,symbol:e.cnbcSymbol});return o.createElement("div",{className:k,key:e.cnbcSymbol+a},o.createElement(u.Z,{to:"/quotes/".concat(e.cnbcSymbol)},o.createElement("div",{className:h},o.createElement("div",{className:O},e.cnbcSymbol,o.createElement("div",{className:S},o.createElement(y.Z,{symbolIssueIds:["".concat(e.issueId)],authflowSource:"HomepageMarketMovers",watchlistflowSource:"HomepageMarketMovers",watchlistFromTag:!0,symbol:e.cnbcSymbol,quoteData:l,template:r,hideWatchlistNotifications:!1,hideCheckboxErrMsg:!0,dropdownStyles:N}))),o.createElement("div",{className:T},(0,b.uf)(e.symbolData.lastPrice))),o.createElement("div",{className:h},o.createElement("div",{className:P},e.symbolDesc),o.createElement("div",{className:t?D:w},o.createElement("span",null,s,(0,b.vw)(e.symbolData.change,2)),o.createElement("span",null,"(",s,(0,b.vw)(e.symbolData.changePct,2),"%)")))))}));return o.createElement("div",{className:f},o.createElement("div",{className:E},a),o.createElement("div",{className:g},s))};C.propTypes={data:s().array.isRequired,tableHeaderLabel:s().string.isRequired,template:s().string.isRequired,quoteData:s().array.isRequired};const A=(0,v.Z)(C),I="MarketMoversPlus-container",L="MarketMoversPlus-containerPersistent",_="MarketMoversPlus-sponsorLogo",j="MarketMoversPlus-header";var Z,U=["US","EUR","ASIA","COVID19"],H={US:"MAJOR",EUR:"EUR",ASIA:"ASIA",COVID19:"COVID19"},F=function(e){var a=e.pollRate,t=e.template,n=e.dataCounter,s=e.dataByMarketMover,l=e.dataTest,c=e.dataAnalytics,M=e.symbolsToShow,b=e.alwaysVisible,v=(0,o.useState)("US"),y=(0,r.Z)(v,2),p=y[0],f=y[1],g=s[H[p]]||{isFetching:!1,data:{gainers:[],decliners:[]}},k=g.isFetching,h=g.data;(0,o.useEffect)((function(){if(!k){if(0===h.decliners.length||0===h.gainers.length){var t=H[p];e.selectExchangeModule(t),e.fetchMarketMoverDataIfNeeded(t,5)}return function(){var t=H[p];Z=setInterval((function(){e.fetchMarketMoverDataIfNeeded(t,5)}),a)}(),function(){clearInterval(Z)}}}),[p]);var P=(0,m.J3)(t,"MarketsMoversPlus",n),E=h.gainers.slice(0,M).map((function(e){return e.cnbcSymbol})),D=h.decliners.slice(0,M).map((function(e){return e.cnbcSymbol}));return o.createElement("div",{id:P,className:b?L:I,"data-test":l,"data-analytics":c},o.createElement("div",{className:j},o.createElement("div",null,o.createElement(u.Z,{to:"/us-market-movers/"},"Market Movers")),o.createElement("div",{className:_},o.createElement(i.Z,{id:"SponsorLogo-".concat(P),target:"module=MarketsModule"}))),o.createElement(d.Z,{options:U,value:p,onChange:function(a){var t=H[a];clearInterval(Z),e.fetchMarketMoverDataIfNeeded(t,5),setTimeout((function(){return f(a)}),100)},marketLabels:U,homePagePlusMode:!0}),0!==h.gainers.length&&o.createElement(A,{key:"top",tableHeaderLabel:"Top",template:t,data:h.gainers.slice(0,M),symbols:E}),0!==h.decliners.length&&o.createElement(A,{key:"bottom",tableHeaderLabel:"Bottom",template:t,data:h.decliners.slice(0,M),symbols:D}))};F.defaultProps={pollRate:1e4,dataCounter:0,template:"",symbolsToShow:3,alwaysVisible:!1},F.propTypes={dataByMarketMover:s().object.isRequired,selectExchangeModule:s().func.isRequired,fetchMarketMoverDataIfNeeded:s().func.isRequired,pollRate:s().number.isRequired,template:s().string.isRequired,dataCounter:s().number,dataTest:s().string.isRequired,dataAnalytics:s().string.isRequired,symbolsToShow:s().number,alwaysVisible:s().bool};var W=function(e){return{dataByMarketMover:(e||{MAJOR:{isFetching:!1,data:{gainers:[],decliners:[]}}}).dataByMarketMover}};const B=(0,l.$j)(W,{fetchMarketMoverDataIfNeeded:c.uo,selectExchangeModule:c.w2})(F)},85712:(e,a,t)=>{t.d(a,{Z:()=>b});var r=t(67294),o=t(45697),n=t.n(o),s=t(67464);const l="MarketMoversMenu-moverContainer",c="MarketMoversMenu-moverContainerFullWidth MarketMoversMenu-moverContainer",i="MarketMoversMenu-moverPlusContainer MarketMoversMenu-moverContainer",u="MarketMoversMenu-marketOption",m="MarketMoversMenu-activeMarket MarketMoversMenu-marketOption";var d={options:n().arrayOf(n().string.isRequired).isRequired,value:n().string.isRequired,onChange:n().func.isRequired,marketLabels:n().array.isRequired,isFullWidth:n().bool,homePagePlusMode:n().bool},M=function(e){var a=e.value,t=e.onChange,o=e.options,n=e.marketLabels,d=e.isFullWidth,M=e.homePagePlusMode;return r.createElement("div",{className:(0,s.Z)(l,{keyValuePairs:[[c,d],[i,M]]})},o.map((function(e,o){return r.createElement("button",{key:e,onClick:function(){return t(e)},className:a===e?m:u},n[o])})))};M.propTypes=d,M.defaultProps={isFullWidth:!1,homePagePlusMode:!1};const b=M}}]);
//# sourceMappingURL=source-maps/components-PcmModule-MarketMoversPlus-c087c083d91f93c5aa96.js.map