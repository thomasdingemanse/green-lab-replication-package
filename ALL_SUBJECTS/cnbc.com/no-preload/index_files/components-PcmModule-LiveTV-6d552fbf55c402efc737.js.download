"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4188,5592,1112],{4054:(e,t,n)=>{n.r(t),n.d(t,{LiveTV:()=>ln,default:()=>dn});var a=n(15861),r=n(29439),i=n(64687),o=n.n(i),s=n(67294),c=n(45697),l=n.n(c),d=n(33174),u=n(47351),p=n(6771),v=n(6975),m=n(52492),f=n(4942);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var g={INITIAL:"init",EXPIRED:"expired",ERROR:"error",PLAYING:"play",STOPPED:"stop"},b={startTempPassStream:function(){return console.warn("TempPassContext.Provider - startTempPassStream() not initialized")},stopTempPassStream:function(){return console.warn("TempPassContext.Provider - stopTempPassStream() not initialized")},getTempPassTimeRemaining:function(){return console.warn("TempPassContext.Provider - getTempPassTimeRemaining() not initialized")},tempPassEnabled:!1,streamStatus:g.INITIAL},h=(0,s.createContext)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b));const P=h;var A=n(86388),E=n.n(A),w=n(35640),S=n(44722);const I=JSON.parse('{"le":"https://access-cloudpath.media.nbcuni.com/access/live/cnbc","_L":"https://stage-access-cloudpath.media.nbcuni.com/access/live/cnbc","oC":"//assets.adobedtm.com/a2ef59fba8e9/ae6df62203a1/launch-f0ea39c93ea2.min.js","Xc":"https://sc.cnbcfm.com/applications/cnbc.com/staticcontent/styles/bionic-player/comScore-7.6.0.min.js","ZT":{"fw_network":"169843","fw_prof":"169843:nbcu_bionic_cnbc_linear_web","fw_afid":137705375,"fw_csid":"cnbc_tveverywhere_linear_hub","fw_sdk_flag":"+sltp+emcr+slcb+nucr+sbid+fbad+aeti+slif-vicb+amcb+play-uapl+dtrd","device_type":"web","dynamic_kv":"rdid=480bb2b7-0d63-5d12-bed9-f67ac6f124a6","resp":"vmap1","mode":"live","vdur":600,"metr":1023,"fw_sfid":"7006068"},"zU":"cnbc_brand_web_live","Yi":"https://ws-cloudpath.media.nbcuni.com/ws/services/geo/live/cnbc","rE":"cnbc_brand_live","GA":"nbcussaivideo236498481430","U3":{"r":"https://nbc.testonly.conviva.com"},"b9":{"v":"https://sc.cnbcfm.com/applications/cnbc.com/staticcontent/styles/bionic-player/slates/playbackerror.png"},"zE":"https://sc.cnbcfm.com/applications/cnbc.com/staticcontent/styles/bionic-player/nbc-player-live.css","UK":"https://access-cloudpath.media.nbcuni.com/access/entitlement/verifier","i8":"3.0"}');function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=w.Z.getProperties().CLOUDPATH_API_CONFIG,O=function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,r,i,s,c,l,d,u,p,v,m,f,y,g,b,h,P,A,w;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(n=t||{}).eventType,r=n.deviceId,i=n.externalAdId,s=n.accessApiConfig,c=void 0===s?T:s,a){e.next=3;break}return e.abrupt("return",null);case 3:return l=I.ZT,d=l.fw_network,u=l.fw_prof,p=l.fw_afid,v=l.fw_csid,m=l.fw_sdk_flag,f=l.device_type,y=l.mode,g=l.metr,b=l.fw_sfid,h="NBC-Referrer key=".concat(I.zU,", version=").concat(I.i8),P="prod"===c?I.le:I._L,e.prev=6,e.next=9,E()(P,{method:"POST",body:JSON.stringify({deviceId:r,usetemppass:"true",device:"web",adobeMvpdId:"ATT",serviceZip:"60647",eventtype:a,freewheel:{fw_network:d,fw_prof:u,fw_csid:v,fw_sfid:b,fw_afid:p,fw_sdk_flag:m,device_type:f,mode:y,metr:g,fw_mvpd:"",fw_did:"",external_ad_id:i,player_height:"1080",player_width:"1920",comscore_device:f,comscore_impl_type:"a",comscore_platform:"web"}}),headers:{"Content-Type":"application/json",Authorization:h,Accept:"application/access-v2+json"}});case 9:if(!((A=e.sent).status>=200&&A.status<300)){e.next=15;break}return e.next=13,A.json();case 13:return w=e.sent,e.abrupt("return",C(C({},w),{},{tempPass:w.tempPass&&C(C({},w.tempPass),{},{duration:w.tempPass.duration||0===w.tempPass.duration?w.tempPass.duration:w.tempPass.remainingQuota})}));case 15:if(401!==A.status){e.next=17;break}return e.abrupt("return",{tempPass:{duration:0}});case 17:return(0,S.Py)(new Error(JSON.stringify(A)),{errorCode:S.Xq.API,errorMessage:"Access API Bad Request - Status: ".concat(A.status),transactionName:"fetchTempPassStream"}),e.abrupt("return",null);case 21:return e.prev=21,e.t0=e.catch(6),(0,S.Py)(e.t0,{errorCode:S.Xq.API,errorMessage:"Access API Rejected: ".concat(e.t0.message),transactionName:"fetchTempPassStream"}),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}();const N=O;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){var t=e.children,n=e.tempPassStream,i={duration:6048e5,streamStatus:g.INITIAL},c=(0,s.useState)(i),l=(0,r.Z)(c,2),d=l[0],u=l[1],p=(0,s.useRef)(Date.now()+d.duration),v=function(){var e=(0,a.Z)(o().mark((function e(t,a){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||d.streamStatus===g.EXPIRED){e.next=10;break}return e.next=3,N({deviceId:t,externalAdId:a,eventType:"start"});case 3:if(null==(r=e.sent)||!r.tempPass){e.next=9;break}return i=parseInt(r.tempPass.duration,10),p.current=Date.now()+i,u(L(L({},d),{},{duration:i,streamStatus:i>0?g.PLAYING:g.EXPIRED})),e.abrupt("return",r);case 9:u(L(L({},d),{},{streamStatus:g.ERROR}));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)(o().mark((function e(t,a){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||d.streamStatus!==g.PLAYING){e.next=10;break}return e.next=3,N({deviceId:t,externalAdId:a,eventType:"stop"});case 3:if(null==(r=e.sent)||!r.tempPass){e.next=9;break}return i=parseInt(r.tempPass.duration,10),p.current=Date.now()+i,u(L(L({},d),{},{duration:i,streamStatus:i>0?g.STOPPED:g.EXPIRED})),e.abrupt("return",r);case 9:u(L(L({},d),{},{streamStatus:g.ERROR}));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f={startTempPassStream:v,stopTempPassStream:m,getTempPassTimeRemaining:function(){var e=p.current-Date.now();return Math.max(e,0)},tempPassEnabled:n,streamStatus:d.streamStatus};return s.createElement(P.Provider,{value:f},t)};R.StreamStatus=g,R.propTypes={children:l().any,tempPassStream:l().bool},R.defaultProps={children:null,tempPassStream:!1};const _=R;var M=n(38113),B=n(57295),j=n(32320),x=n(64433),V=n(92857),U=n(30221),Z=n(11097),F=n(80129),H=n.n(F),q=n(27361),W=n.n(q),z=n(67464),G=n(18213),Y=n(87462);const K=function(e){return function(t){var n=(0,s.useContext)(h);return s.createElement(e,(0,Y.Z)({},n,t))}};var J=n(60868),X=n.n(J),Q=n(39598),$=n(3704),ee=n(82835);const te="BionicPlayer-playerContainer",ne="BionicPlayer-playerContainerUninitialized",ae="BionicPlayer-playerContainerHidden",re="BionicPlayer-slate",ie="BionicPlayer-slateimg",oe="BionicPlayer-geoErrorSlate",se="BionicPlayer-geoErrorSlateText",ce="BionicPlayer-geoRedirectLink",le="BionicPlayer-geoCNBCLogo",de="BionicPlayer-tempPassPlayerContainer";var ue=n(88010),pe=n.n(ue),ve=n(12712),me=n(85123);const fe=JSON.parse('{"i8":"2.0.0","HO":{"@apollo/client":"^3.6.9","@babel/polyfill":"^7.12.1","@glidejs/glide":"^3.3.0","@loadable/component":"^5.15.2","@loadable/server":"^5.15.2","@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@nbcu/nbc-player-live":"^0.2.3","@storybook/addon-notes":"^5.3.21","@storybook/addon-viewport":"^6.5.7","@storybook/addons":"^6.1.21","@storybook/react":"^6.4.14","apollo-link-rest":"^0.9.0-rc.1","chartiq":"file:chartiq-8.3.0-2023.tgz","clamp-js-main":"^0.11.5","classnames":"^2.2.5","colors":"^1.4.0","compression":"^1.7.1","cookie-parser":"^1.4.5","cross-fetch":"^1.1.1","cross-spawn":"^7.0.3","crypto-hash":"^1.3.0","crypto-js":"^4.0.0","danger":"^10.9.0","dotenv":"^4.0.0","es6-promise":"^4.2.4","express":"^4.14.0","express-request-id":"^1.4.0","express-winston":"^2.5.0","focus-trap-react":"^3.1.2","glob":"^7.2.0","graphql":"^15.8.0","ioredis":"^4.19.2","is-npm":"^5.0.0","isomorphic-fetch":"^2.2.1","jsonwebtoken":"^8.5.1","launchdarkly-node-server-sdk":"^6.2.0","lit-html":"^1.3.0","lodash":"^4.17.11","md5":"^2.3.0","net":"^1.0.2","newrelic":"^8.11.1","node-sass":"^6.0.1","object-fit-images":"^3.2.4","prop-types":"^15.6.0","proxy-from-env":"^1.1.0","qs":"^6.9.4","react":"^16.14.0","react-add-to-calendar-hoc":"^1.0.10","react-dom":"^16.14.0","react-hammerjs":"^1.0.1","react-lazyload":"^2.6.9","react-markdown":"^4.3.1","react-movable":"^2.5.3","react-redux":"^5.0.7","react-router":"^5.2.0","react-router-config":"^5.1.0","react-router-dom":"^5.2.0","react-router-redux":"^4.0.6","react-transition-group":"^4.4.2","react-tweet-embed-in-span":"^1.0.1","react-visibility-sensor":"^5.0.2","redux":"3.6.0","redux-thunk":"2.3.0","request":"^2.88.2","request-promise":"^4.2.6","serialize-javascript":"^3.1.0","smartquotes":"^2.3.1","tls":"0.0.1","transformation-matrix":"^1.14.1","tunnel-agent":"^0.6.0","universal-cookie-express":"^2.2.0","url-parse":"1.5.7","web-vitals":"^2.1.0","winston":"^2.4.5","winston-daily-rotate-file":"^3.5.1","y18n":"^5.0.8","yargs":"^17.4.0"}}');var ye;function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=w.Z.getProperties(),Pe=he.CLOUDPATH_API_CONFIG,Ae=he.CLOUDPATH_API_SECRET,Ee=(null!==(ye=ve.Z.getFlags())&&void 0!==ye?ye:{}).bionicflag1234;const we=function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,r,i,s,c,l,d,u,p,v,m,f,y,g,b,h,P,A,E,w,k,C,T,O,N,D,L,R,_,M,B,x,V;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t||{}).externalAdId,s=r.ip,c=r.selectedMvpdId,l=r.mvpdAuthToken,d=r.jwtEnabled,u=void 0===d?Ee:d,p=r.accessApiConfig,v=void 0===p?Pe:p,m=window.mvpdHashMap&&c?window.mvpdHashMap[c.toLowerCase()]:"",f=(0,j.ej)("_uid")||(0,me.Z)(),y=I.ZT,g=y.fw_network,b=y.fw_prof,h=y.fw_afid,P=y.fw_csid,A=y.fw_sdk_flag,E=y.device_type,w=y.mode,k=y.metr,C=y.fw_sfid,T="",O=Date.now().toString(),N=pe()(O,Ae),D="NBC-Security key=".concat(I.rE,", hash=").concat(N.toString(),", version=").concat(I.i8,", type=cpc , time=").concat(O),L=document&&document.referrer.hostname,R={am_appv:null===(n=fe.HO)||void 0===n?void 0:n["@nbcu/nbc-player-live"],am_buildv:null===(a=fe.HO)||void 0===a?void 0:a["@nbcu/nbc-player-live"]},e.prev=10,!u){e.next=21;break}return e.next=14,fetch(I.UK,{method:"POST",body:JSON.stringify({mediatoken:btoa(l),accesskey:I.rE,channel:"cnbc"}),headers:{"Content-Type":"application/json",Accept:"application/access-v2+json"}});case 14:if(!((_=e.sent).status>=200&&_.status<300)){e.next=21;break}return e.next=18,_.json();case 18:M=e.sent,B=M.token,T=B;case 21:return e.next=23,fetch("prod"===v?I.le:I._L,{method:"POST",body:JSON.stringify(be(be({device:"web",adobeMvpdId:c,serviceZip:""},T?{token:T}:{}),{},{freewheel:be(be({client_ip:s,fw_sfid:C,fw_csid:P,external_ad_id:i,fw_vcid2:"".concat(f),player_height:window.innerHeight,player_width:window.innerWidth},L?{referer_url:L}:{}),{},{fw_mvpd:m,fw_network:g,fw_prof:b,fw_afid:h,fw_sdk_flag:A,device_type:E,mode:w,metr:k,comscore_device:E,comscore_impl_type:"a",comscore_platform:"web"},R)})),headers:{"Content-Type":"application/json",Authorization:D,Accept:"application/access-v2+json"}});case 23:if(!((x=e.sent).status>=200&&x.status<300)){e.next=29;break}return e.next=27,x.json();case 27:return V=e.sent,e.abrupt("return",V);case 29:return(0,S.Py)(new Error(JSON.stringify(x)),{errorCode:S.Xq.API,errorMessage:"Live TV: Access API Bad Request",errorDetails:t,transactionName:"fetchLiveTVStream",requestUri:"prod"===v?I.le:I._L}),e.abrupt("return",null);case 33:return e.prev=33,e.t0=e.catch(10),(0,S.Py)(e.t0,{errorCode:S.Xq.API,errorMessage:"Live TV: Access API Rejected",errorDetails:t,transactionName:"fetchLiveTVStream",requestUri:"prod"===v?I.le:I._L}),e.abrupt("return",null);case 37:case"end":return e.stop()}}),e,null,[[10,33]])})));return function(t){return e.apply(this,arguments)}}();var Se={};function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Se[e]||(Se[e]=new Promise((function(n,a){var r=document,i=r.head||r.getElementsByTagName("head")[0]||r.documentElement,o=r.createElement("script");Object.keys(t).forEach((function(e){return o.setAttribute(e,t[e])})),o.src=e,o.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||o.onload()},o.onload=function(){o.onload=null,o.onreadystatechange=null,o.onerror=null,i.removeChild(o),n()},o.onerror=function(){o.onload=null,o.onreadystatechange=null,o.onerror=null,i.removeChild(o),a()},i.insertBefore(o,i.firstChild)})))}var ke="6035083",Ce={instance:null,metadata:null};Ce.initialize=function(){return new Promise((function(e,t){null==Ce.instance?Ie(I.Xc).then((function(){if(!window.ns_)throw new Error("ComScore global ns_ not found.");var t=window.ns_.analytics,n=new t.configuration.PublisherConfiguration({publisherId:ke,persistentLabels:{cs_ucfr:window.csUcfrValue}});t.configuration.addClient(n),t.PlatformApi.setPlatformAPI(t.PlatformApi.WebBrowser),Ce.instance=new t.StreamingAnalytics,t.start(),e(Ce.instance)})).catch((function(){return t(new Error("Failed to load ComScore SDK"))})):e(Ce.instance)}))},Ce.loadMetadata=function(e){var t={};if(e.originalAirDate){var n=e.originalAirDate.split("-");t={year:n[0]||"",month:n[1]||"",day:n[2]||""}}Ce.metadata={id:e.assetId,length:e.tsStart&&e.tsEnd?1e3*(parseInt(e.tsEnd,10)-parseInt(e.tsStart,10)):0,station:e.callsign,brand:e.brand,title:e.longTitle,genre:e.genres?e.genres.pop():"*null",episodeId:e.nbcuId,episodeNumber:e.episodeNumber||"*null",seasonNumber:e.seasonNumber||"*null",airDate:t,episodeTitle:e.episodeTitle},Ce.play()},Ce.createPlaybackSession=function(){Ce.initialize().then((function(e){e.createPlaybackSession()}))},Ce.play=function(){var e=window.ns_.analytics;Ce.initialize().then((function(t){var n=Ce.metadata,a=n.id,r=n.length,i=n.station,o=n.brand,s=n.title,c=n.episodeId,l=n.episodeNumber,d=n.seasonNumber,u=n.episodeTitle,p=n.airDate,v=new e.StreamingAnalytics.ContentMetadata;v.setMediaType(e.StreamingAnalytics.ContentMetadata.ContentType.LIVE),v.setUniqueId(a),v.setLength(r),v.setStationTitle(o),v.setPublisherName(o),v.setProgramTitle(s),v.setGenreName("News"),v.setEpisodeId(c),v.setEpisodeNumber(l),v.setEpisodeSeasonNumber(d),v.setEpisodeTitle(u),v.setDateOfDigitalAiring(p.year,p.month,p.day),v.setDateOfTvAiring(p.year,p.month,p.day),v.setDictionaryClassificationC3(o),v.setDictionaryClassificationC4("*null"),v.setDictionaryClassificationC6(s),v.classifyAsCompleteEpisode(!0),v.setFeedType(i),v.addCustomLabels({ns_st_ia:"0",ns_st_ce:l?"1":"*null"}),t.setMetadata(v),t.notifyPlay()}))},Ce.stop=function(){Ce.initialize().then((function(e){e.notifyPause()}))},Ce.end=function(){Ce.initialize().then((function(e){e.notifyEnd()}))},Ce.playAd=function(e){Ce.initialize().then((function(t){var n,a,r,i=e.breakClipId,o=e.creativeId,s=e.durationInSeconds,c=e.adInsights,l=c.campaignName,d=c.ccrMeasurementBeacon,u=c.placementId,p="".concat(window.innerWidth,", ").concat(window.innerHeight),v=window.ns_.analytics.StreamingAnalytics,m=v.AdvertisementMetadata.AdvertisementType.LIVE,f=v.AdvertisementMetadata.AdvertisementDeliveryType.NATIONAL,y=new v.AdvertisementMetadata,g=l?(n=l,a=new RegExp("^[^_]+(?=_)"),(r=n.match(a))&&r[0]?r[0]:""):"",b=u||"",h=s?1e3*s:"";y.setMediaType(m),y.setRelatedContentMetadata(),y.setUniqueId(i),y.setLength(h),y.setDeliveryType(f),y.setServer("Freewheel"),y.setVideoDimensions(p),y.setPlacementId(b),y.addCustomLabels({ns_st_ami:o,ns_st_amg:g,cs_ad_tu:d,ns_st_ia:"*null",ns_st_ce:"*null"}),t.setMetadata(y),t.notifyPlay()}))},Ce.updateOptOutStatus=function(){Ce.initialize().then((function(){var e=window.ns_.analytics;e.configuration.getPublisherConfiguration(ke).setPersistentLabel("cs_ucfr",window.csUcfrValue),e.notifyHiddenEvent()}))};const Te=Ce;function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={instance:null,mediaHeartbeat:null,playerPosition:0,qosInfo:{},metadata:{},adBreakIndex:1,chapterIndex:1,isLive:!0,chapterStartTracked:!1,adBreakStart:0};De.initialize=function(e){return new Promise((function(t,n){null==De.instance?Ie(I.oC).then((function(){new Promise((function(e,t){var n=0;!function a(){W()(window,["ADB","MediaHeartbeat"])?e(window.ADB.MediaHeartbeat):n>=100?t(new Error("MediaHeartbeat SDK failed to init.")):(n+=1,setTimeout(a,100))}()})).then((function(n){De.setPlayerPosition(e.playerPosition),De.mediaHeartbeat=n;var a={getCurrentPlaybackTime:De.getPlayerPosition,getQoSObject:De.getQosObject};return n.getInstance(a,{debugLogging:!0}).then((function(n){console.log("Adobe Heartbeat instance created"),De.instance=n,De.trackSessionStart(e),t(De.instance)})).catch((function(e){console.log("Mediaheartbeat",e)}))})).catch((function(e){console.log("Mediaheartbeat: Unable to load AEP SDK",e)}))})).catch((function(){return n(new Error("Failed to load adobe SDK"))})):t(De.instance)}))},De.setPlayerPosition=function(e){De.playerPosition=e},De.getPlayerPosition=function(){return De.playerPosition},De.getQosObject=function(){return De.qosInfo};var Le=function(e){return new Date(1e3*parseInt(e,10))},Re=function(e){return e<10?"0".concat(e):e};De.getContextData=function(e){var t=e.assetInfo,n=e.isNBCNewsStream,a=e.program,r=e.tempPassEnabled,i=t||{},o=i.externalAdId,s=i.originalAirDate,c=i.episodeNumber,l=i.title,d=i.selectedMvpdId,u=i.nbcuId,p=W()(a,["analytics","currentVideo"],{}),v=new Date(Date.now()),m=s&&new Date(s),f=r?"AutoPlay":"Manual",y=r&&!d?"ShortTTL-TempPass":d;return{videoplatform:"PC",videonetwork:W()(p,["brand","title"]),videoapp:"CNBC",videoprogram:l||"unknown",videotitle:l||"unknown",videostatus:n?"Unrestricted":"Restricted",videoplayerurl:window.location.toString()||"unknown",videodomain:window.location.hostname||"unknown",videoNetwork:"CNBC",videoguid:o,videoinitiate:f,videodaypart:p.dayPart||"unknown",videoairdate:m?m.toLocaleDateString():"unknown",videoseason:p.seasonNumber||"unknown",videoepnumber:c||"unknown",videocallsign:p.callSign||"unknown",videomvpd:y||"unknown",videoplayertech:"HLS",videotmsid:u||"unknown",videosubcat1:p.genre||"unknown",videosubcat2:p.secondaryGenre||"unknown",videocliptype:p.clipCategory||"unknown",videoscreen:"Normal",videodate:v.toLocaleDateString(),videoday:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][v.getDay()],videohour:"".concat(Re(v.getHours()),":00"),videominute:"".concat(Re(v.getHours()),":").concat(Re(v.getMinutes()))}},De.trackSessionStart=function(e){var t=e.assetInfo,n=e.program,a=t||{},r=a.externalAdId,i=a.episodeTitle,o=(n||{}).startTime,s=o?(0,Q.cA)(Le(o),new Date(Date.now())):0,c=De.mediaHeartbeat.createMediaObject(i||"",r||"unknown",-1,De.mediaHeartbeat.StreamType.LINEAR);c.data["a.playhead"]=s,De.adBreakIndex=1,De.adBreakStart=0,De.chapterIndex=1,De.chapterStartTracked=!1,De.metadata=De.getContextData(e),De.instance.trackSessionStart(c,De.metadata),console.log("(Linear Stream/Program Start - trackSessionStart) mediaInfo",JSON.stringify(c)),console.log("(Linear Stream/Program Start - trackSessionStart) contextData",JSON.stringify(De.metadata)),De.trackChapterStart(e)},De.trackPlay=function(){De.instance&&(De.instance.trackPlay(),console.log("(Play - trackPlay)"))},De.trackPause=function(){De.instance&&(De.instance.trackPause(),console.log("(Pause - trackPause)"))},De.trackBufferStart=function(){De.instance&&(De.instance.trackEvent(De.mediaHeartbeat.Event.BufferStart),console.log("(Buffer Start - trackEvent(MediaHeartbeat.Event.BufferStart)"))},De.trackBufferComplete=function(){De.instance&&(De.instance.trackEvent(De.mediaHeartbeat.Event.BufferComplete),console.log("(Buffer End - trackEvent(MediaHeartbeat.Event.BufferComplete)"))},De.trackAdBreakStart=function(){if(De.instance){De.chapterStartTracked&&De.trackChapterEnd(),De.adBreakStart=Math.floor(De.getPlayerPosition());var e=De.mediaHeartbeat.createAdBreakObject("mid-roll",De.adBreakIndex,De.adBreakStart);De.instance.trackEvent(De.mediaHeartbeat.Event.AdBreakStart,e),De.adBreakIndex+=1,console.log("(Ad Pod Start - trackEvent(MediaHeartbeat.Event.AdBreakStart)",JSON.stringify(e.data))}},De.trackAdBreakEnd=function(e){De.instance&&(De.instance.trackEvent(De.mediaHeartbeat.Event.AdBreakComplete),console.log("(Ad Pod Complete - trackEvent(MediaHeartbeat.Event.AdBreakComplete)"),De.trackChapterStart(e))},De.trackAdStart=function(e){if(De.instance){var t=De.mediaHeartbeat.createAdObject(W()(e,["adInsights","creativeId"])||"unknown",W()(e,["adInsights","creativeId"])||"unknown",e.adIndex+1,e.durationInSeconds),n=Ne(Ne({},De.metadata),{},{"a.media.ad.id":W()(e,["adInsights","creativeId"])||"unknown","a.media.ad.name":W()(e,["adInsights","creativeId"])||"unknown","a.media.ad.podSecond":De.adBreakStart,"a.media.ad.friendlyName":W()(e,["adInsights","creativeName"])||"unknown","a.media.ad.podFriendlyName":"mid-roll","a.media.ad.length":W()(e,["adInsights","duration"])||"unknown","a.media.ad.podPosition":"".concat(e.adIndex+1),"a.media.ad.playerName":"Bionic Desktop"});De.instance.trackEvent(De.mediaHeartbeat.Event.AdStart,t,n),console.log("(Ad Start - trackEvent(MediaHeartbeat.Event.AdStart) adInfo:",JSON.stringify(t.data)),console.log("(Ad Start - trackEvent(MediaHeartbeat.Event.AdStart) adContextData:",JSON.stringify(n))}},De.trackAdEnd=function(){De.instance&&(De.instance.trackEvent(De.mediaHeartbeat.Event.AdComplete),console.log("(Ad End - trackEvent(MediaHeartbeat.Event.AdComplete)"))},De.trackSessionEnd=function(e){De.instance&&(De.chapterStartTracked&&De.trackChapterEnd(),e&&(De.instance.trackComplete(),console.log("(Linear Segment Complete - trackComplete")),De.instance.trackSessionEnd(),console.log("(Linear Stream/Program End - trackSessionEnd"))},De.trackChapterStart=function(e){if(De.instance){De.chapterIndex+=1,De.chapterStartTracked&&De.trackChapterEnd();var t,n=e.assetInfo,a=e.program,r=(n||{}).episodeTitle,i=a||{},o=i.startTime,s=i.endTime;t=o&&s?(0,Q.cA)(Le(o),Le(s)):0;var c=De.mediaHeartbeat.createChapterObject(W()(a,["analytics","currentVideo","videoTitle"])||r||"unknown",De.chapterIndex,t,Math.floor(De.playerPosition)||0);De.metadata=De.getContextData(e),De.instance.trackEvent(De.mediaHeartbeat.Event.ChapterStart,c,De.metadata),De.chapterStartTracked=!0,De.instance.trackPlay(),console.log("(Linear Segment Start - trackEvent(MediaHeartbeat.Event.ChapterStart) chapterObject",JSON.stringify(c)),console.log("(Linear Segment Start - trackEvent(MediaHeartbeat.Event.ChapterStart) chapterContextData",JSON.stringify(De.metadata))}},De.trackChapterEnd=function(){De.instance&&(De.instance.trackEvent(De.mediaHeartbeat.Event.ChapterComplete),De.chapterStartTracked=!1,console.log("(Linear Segment End - trackEvent(MediaHeartbeat.Event.ChapterComplete)"))};const _e=De;function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=I.GA;var xe={instance:null,hasMoatResources:!1,player:null};xe.initialize=function(e){return new Promise((function(t){var n=((e||{}).adInsights||{}).moatParameters;if(n&&Object.keys(n).length>0){console.log("[MOAT] Moat session created successfully."),xe.hasMoatResource=!0;var a={level1:n.advertiserId,level2:n.campaignId,level3:n.lineItemId,level4:n.creativeId,slicer1:n.siteId,slicer2:n.sectionId,zMoatSEID:n.seriesId,zMoatIO:n.ioId,zMoatASCID:n.assetId,zMoatAUID:n.adunitId,zMoatFWNID:n.networkId},r=Math.floor(e.durationInSeconds)||0;console.log("[MOAT] IDs:",JSON.stringify(a)),console.log("[MOAT] Duration:",r),console.log("[MOAT] Ad url:",e.streamUrl),xe.instance=function(e,t,n,a,r,i){var o,s,c=window.crypto||window.msCrypto,l=new Uint32Array(1),d=document.createElement("script"),u=[];t={adData:{ids:t,duration:n,url:r},dispatchEvent:function(e){this.sendEvent?(u&&(u.push(e),e=u,u=!1),this.sendEvent(e)):u.push(e)},clientCallback:i},n="_moatApi"+Math.floor(1e8*c.getRandomValues(l));try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=t,d.type="text/javascript",e&&e.insertBefore(d,e.childNodes[0]||null),d.src="https://z.moatads.com/"+a+"/moatvideo.js##"+n,t}(xe.player,a,r,je,e.streamUrl,xe.recordLog),t(!0)}else xe.hasMoatResource=!1,console.log("[MOAT] Moat analytics params not found."),t(!1)}))},xe.recordLog=function(){console.log("[MOAT] Moat enabled.")},xe.trackAdStart=function(e,t){xe.player=t,xe.initialize(e).then((function(){xe.trackEvent("AdVideoStart")}))},xe.trackEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(xe.hasMoatResource&&xe.instance){var n=xe.player.volume,a=Be({type:e,adVolume:n},t);console.log("[MOAT] | ".concat(e," | Volume"),n),xe.instance.dispatchEvent&&xe.instance.dispatchEvent(a)}};const Ve=xe;var Ue={logEvent:function(e,t){void 0!==window.mParticle&&window.mParticle.logEvent(e,window.mParticle.EventType.Navigation,t)},getMParticleData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=null!=e&&e.originalAirDate?new Date(e.originalAirDate.replace("-","/")).toLocaleDateString():new Date(Date.now()).toLocaleDateString(),i=null!=e&&e.authRequired?"Restricted":"Unrestricted";return{Product:"cnbc.com",Platform:"web",Referrer:document.referrer,"User Agent":window.navigator.userAgent,"Video ID":null==e?void 0:e.nbcuId,"Video GUID":null==e?void 0:e.nbcuId,"Video Title":null==e?void 0:e.episodeTitle,"Video Brand Domain":"CNBC",Brand:"CNBC",Show:null==e?void 0:e.title,"Video Content Source":"CNBC","Video Air Date":r,Entitlement:n&&!a?"TempPass":i,"Video Screen Mode":t.isFullscreen?"Full":"Normal","Video Duration":60*(null==e?void 0:e.duration),"Video Type":"live","Video Player Name":"HLS","Video Initiation":t.isAutoPlay||n?"Auto":"Manual","Video Publish Date":r,"Video Playlist Name":"None","Video Playlist ID":"None"}}};const Ze=Ue;const Fe={second:0,trackFirstFrameCounter:null,trackResumeCounter:null,startCounter:function(){var e=this;this.resetCounter(),this.trackFirstFrameCounter=setInterval((function(){e.second+=1}),1e3)},pauseCounter:function(){clearInterval(this.trackFirstFrameCounter),clearInterval(this.trackResumeCounter)},resumeCounter:function(){var e=this;clearInterval(this.trackFirstFrameCounter),clearInterval(this.trackResumeCounter),this.trackResumeCounter=setInterval((function(){e.second+=1}),1e3)},resetCounter:function(){clearInterval(this.trackFirstFrameCounter),clearInterval(this.trackResumeCounter),this.second=0},getSecond:function(){return this.second}};var He=n(89728);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=I.U3.r,Ge="Bionic Web",Ye="CNBC_WEB",Ke=w.Z.getProperties(),Je=Ke.CONVIVA_SDKURL,Xe=Ke.CONVIVA_CUSTOMERKEY,Qe=w.Z.getAsBoolean("CONVIVA_DEBUG"),$e=function(){var e=window&&window.navigator||{};return(e.connection||e.mozConnection||e.webkitConnection||{}).type},et={conviva:null,client:null,videoAnalytics:null,player:null,adAnalytics:null,deviceId:(0,He.Z)(),currentAd:null,adSession:-2,bitrate:null,getCCLanguage:function(e){return"en"===e?"English CC":"es"===e?"Spanish CC":"None"},getCustomAdMetadata:function(e){return{version:fe.i8,deviceId:et.deviceId,appSessionId:e.appSessionId||"N/A",videoId:e.videoId,connectionType:$e()||"N/A",product:"".concat(Ye.toLowerCase()),brand:e.brand||Ye.toLowerCase(),episodeTitle:e.episodeTitle,show:e.seriesTitle,videoType:e.videoType||"Live",resellerName:e.resellerName||"CNBC Live",mrmResellerID:e.mrmResellerID||"N/A",mrmCreativeRenditionID:e.mrmCreativeRenditionID||"N/A",mrmSiteSectionID:e.mrmSiteSectionID||"N/A",creativeDuration:"".concat(Math.floor(e.durationInSeconds))||"0",thirdPartyTagProvider:e.thirdPartyTagProvider||"N/A",mrmCampaignID:e.mrmCampaignID||"N/A",placementName:e.placementName||"N/A",mrmPlacementID:e.mrmPlacementID||"N/A",siteSection:e.siteSection||"Web: On Demand",siteSectionTag:e.siteSectionTag||"N/A",externalVodurl:e.externalVodurl||"N/A",isFromBackground:"False",mutedVideoStart:e.mutedVideoStart||"False"}},getAdMetadata:function(e){return We(We({},et.getCustomAdMetadata(e)),{},{"c3.csid":e.csid||"N/A","c3.ad.id":e.adId||"N/A","c3.ad.adStitcher":e.adStitcher||"CTS","c3.ad.advertiserCategory":e.advertiserCategory||"Automotive","c3.ad.advertiserId":e.advertiserId||"N/A","c3.ad.advertiserName":e.advertiser||"N/A","c3.ad.breakId":e.breakId||"N/A","c3.ad.campaignName":e.campaignName||"N/A","c3.ad.category":e.category||"N/A","c3.ad.firstAdId":e.adId||"N/A","c3.ad.creativeId":e.creativeId||"N/A","c3.ad.creativeName":e.creativeName||"N/A","c3.ad.mediaFileApiFramework":e.mediaFileApiFramework||"VPAID","c3.ad.position":e.position||"N/A","c3.ad.system":e.adSystem||"Freewheel","c3.ad.technology":e.technology||"Server Side Ad","c3.ad.type":e.type||"N/A","c3.ad.unitName":e.unitName||"N/A","c3.ad.isSlate":e.isSlate||"False","c3.ad.firstAdSystem":e.adSystem||"Freewheel","c3.ad.firstCreativeId":e.creativeId||"N/A","c3.ad.dayPart":e.advertiserCadayParttegory||"Primetime","c3.ad.sequence":e.sequence||"0"})},getPlayerMetadata:function(e){return{version:fe.i8,appSessionId:e.appSessionId||"N/A",brand:e.brand||Ye.toLowerCase(),connectionType:$e()||"N/A",deviceId:et.deviceId,episodeTitle:e.episodeTitle,isFromBackground:"False",preFetched:"False",product:"".concat(Ye.toLowerCase()),season:e.season,show:e.seriesTitle,videoId:e.videoId,videoType:e.videoType||"Live",entitlement:e.entitlement,language:e.language,mvpd:e.mvpd,profile:e.profile,tmsShowID:e.tmsShowID,playbackStartPosition:e.playbackStartPosition,syndicator:e.syndicator,episodeNumber:e.episodeNumber,geostation:e.geostation,mutedVideoStart:e.mutedVideoStart,playerVendor:e.playerVendor,playerVersion:e.playerVersion,stitchVendor:e.stitchVendor,streamProtocol:e.streamProtocol,ccLanguage:et.getCCLanguage(e.ccLanguage)}},getMetadata:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};n[et.conviva.Constants.ASSET_NAME]=et.formatAssetName(e,t),n[et.conviva.Constants.PLAYER_NAME]=Ge,n[et.conviva.Constants.DURATION]="Live"===e.streamType?0:Math.floor(e.duration)||Math.floor(e.durationInSeconds)||0,n[et.conviva.Constants.STREAM_URL]=e.streamUrl||"N/A",n[et.conviva.Constants.IS_LIVE]="Live"===e.streamType?et.conviva.Constants.StreamType.LIVE:et.conviva.Constants.StreamType.VOD,n[et.conviva.Constants.VIEWER_ID]=e.mParticleId||"N/A",n[et.conviva.Constants.DeviceMetadata.CATEGORY]=et.conviva.Constants.DeviceCategory.WEB;var a=t?et.getAdMetadata(e):et.getPlayerMetadata(e);return We(We({},n),a)},initialize:function(){return new Promise((function(e,t){"undefined"!=typeof window&&window.Conviva&&null===et.conviva&&(et.conviva=window.Conviva),et.conviva?e(et.conviva):Ie(Je).then((function(){"undefined"!=typeof window&&window.Conviva&&(et.conviva=window.Conviva,console.log("conviva intialized")),e(et.conviva)})).catch((function(){return t(new Error("Failed to load Conviva SDK."))}))}))},formatAssetName:function(e,t){if(!e)return"";if(!t){var n=e.seriesTitle||"",a=e.episodeTitle||"",r=e.assetId||"";return"[".concat(r,"] ").concat(n," - ").concat(a)}return e.adTitle||"N/A"},init:function(e){var t={},n={},a={};Qe&&(t[et.conviva.Constants.GATEWAY_URL]=ze,t[et.conviva.Constants.LOG_LEVEL]=et.conviva.Constants.LogLevel.DEBUG),n[et.conviva.Constants.DeviceMetadata.CATEGORY]=et.conviva.Constants.DeviceCategory.WEB,n[et.conviva.Constants.DEFAULT_RESOURCE]="AKAMAI",n[et.conviva.Constants.DeviceMetadata.TYPE]=e.isMobile?et.conviva.Constants.DeviceType.MOBILE:et.conviva.Constants.DeviceType.DESKTOP,a[et.conviva.Constants.FRAMEWORK_NAME]="hls.js",a[et.conviva.Constants.FRAMEWORK_VERSION]="0.14.16",et.conviva.Analytics.init(Xe,null,t),et.conviva.Analytics.setDeviceMetadata(n),et.conviva.Analytics.reportDeviceMetric(et.conviva.Constants.Network.CONNECTION_TYPE,$e()||"OTHER"),et.videoAnalytics=et.conviva.Analytics.buildVideoAnalytics();var r=et.getMetadata(e);et.videoAnalytics.setPlayer(et.player),et.videoAnalytics.setPlayerInfo(a),et.videoAnalytics.reportPlaybackRequested(r),console.log("videoAnalytics init",et.videoAnalytics)},startSession:function(e,t){return et.initialize().then((function(){et.player=t,et.closeSession(),et.init(e)})).catch((function(e){return console.error(e)}))},closeSession:function(){et.conviva&&et.videoAnalytics&&(et.videoAnalytics.release(),et.cleanupAdSession(),et.conviva.Analytics.release(),et.videoAnalytics=null)},setContentInfo:function(e){et.conviva&&et.videoAnalytics&&(e.streamUrl&&(e[et.conviva.Constants.STREAM_URL]=e.streamUrl,delete e.streamUrl),et.videoAnalytics.setContentInfo(e))},cleanupAdSession:function(){et.adAnalytics&&(et.adAnalytics.release(),et.adAnalytics=null)},trackAdStart:function(e){var t=et.getMetadata(e,!0);et.currentAd=t,et.adAnalytics||(et.adAnalytics=et.conviva.Analytics.buildAdAnalytics(et.videoAnalytics)),et.adAnalytics.reportAdStarted(t),et.adAnalytics.reportAdMetric(et.conviva.Constants.Playback.PLAYER_STATE,et.conviva.Constants.PlayerState.PLAYING),et.bitrate&&et.adAnalytics.reportAdMetric(et.conviva.Constants.Playback.BITRATE,et.bitrate),et.adAnalytics?console.log("Conviva ad session created successfully."):console.log("Conviva ad session creation failed.")},trackAdEnd:function(){et.adAnalytics&&et.adAnalytics.reportAdEnded(),et.cleanupAdSession(),console.log("Conviva ad end.")},trackAdBreakStart:function(){et.videoAnalytics&&et.videoAnalytics.reportAdBreakStarted(et.conviva.Constants.AdType.SERVER_SIDE,et.conviva.Constants.AdPlayer.CONTENT)},trackAdBreakEnd:function(){et.videoAnalytics&&et.videoAnalytics.reportAdBreakEnded()},trackEvent:function(e,t){et.videoAnalytics&&et.videoAnalytics.reportPlaybackEvent(e,t)},setPlayerState:function(e){et.conviva&&et.conviva.Constants?{STOPPED:et.conviva.Constants.PlayerState.STOPPED,PLAYING:et.conviva.Constants.PlayerState.PLAYING,BUFFERING:et.conviva.Constants.PlayerState.BUFFERING,PAUSED:et.conviva.Constants.PlayerState.PAUSED,UNKNOWN:et.conviva.Constants.PlayerState.UNKNOWN}[e]&&(et.adAnalytics?et.adAnalytics.reportAdMetric&&et.adAnalytics.reportAdMetric(et.conviva.Constants.Playback.PLAYER_STATE,e):et.videoAnalytics&&et.videoAnalytics.reportPlaybackMetric(et.conviva.Constants.Playback.PLAYER_STATE,e)):console.log("Conviva setPlayerState is not ready.")},sendError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Fatal error";et.videoAnalytics&&(e?(et.videoAnalytics.reportPlaybackError(t),et.closeSession()):et.videoAnalytics.reportPlaybackError(t,et.conviva.Constants.ErrorSeverity.FATAL),console.log("VSF | VPF send error.",t))},reportBitrateMetric:function(e){et.videoAnalytics&&e&&(et.bitrate=e,et.adAnalytics?et.adAnalytics.reportAdMetric(et.conviva.Constants.Playback.BITRATE,et.bitrate):et.videoAnalytics.reportPlaybackMetric(et.conviva.Constants.Playback.BITRATE,et.bitrate))}};const tt=et;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt="Linear Start",it="Linear End",ot="Linear Program Start",st="Linear Program End",ct="Linear Ad Pod Start",lt="Linear Ad Pod End",dt="Linear Ad Start",ut="Linear Ad End",pt={isFullscreen:!1,isAutoPlay:!0},vt=function(e){var t=e.authenticationRequired,n=e.externalAdId,i=e.handleOnProgramChange,c=e.ip,l=e.mvpdAuthenticated,d=e.mvpdAuthToken,u=e.selectedMvpdId,p=e.geoRestricted,v=e.geoRedirectLink,m=e.dependencies,f=e.deviceId,y=e.tempPassEnabled,b=e.startTempPassStream,h=e.stopTempPassStream,P=e.streamStatus,A=e.isPoppedOut,E=(0,s.useState)(null),w=(0,r.Z)(E,2),k=w[0],C=w[1],T=(0,s.useState)(!0),O=(0,r.Z)(T,2),N=O[0],D=O[1],L=(0,s.useState)(!0),R=(0,r.Z)(L,2),_=R[0],M=R[1],B=(0,s.useState)(!1),j=(0,r.Z)(B,2),x=j[0],V=j[1],U=(0,s.useState)(!1),Z=(0,r.Z)(U,2),F=Z[0],q=Z[1],Y=(0,s.useState)(!1),K=(0,r.Z)(Y,2),J=K[0],ue=K[1],pe=(0,s.useState)(!1),ve=(0,r.Z)(pe,2),me=ve[0],fe=ve[1],ye=(0,s.useState)(!1),ge=(0,r.Z)(ye,2),be=ge[0],he=ge[1],Pe=m.bionicCounter,Ae=m.fetchLiveTVStream,Ee=m.conviva,we=k||{},Se=we.streamUrl,Ie=we.trackingUrl,ke=we.currentEvent,Ce=(0,s.useRef)((null==k?void 0:k.assetInfo)||{}),Oe=function(e){var t=new Date(Date.now()),n=e&&new Date(1e3*parseInt(e.startTime,10));return n?(0,Q.cA)(n,t):0},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(J||n)&&(Ee.sendError(e,W()(t,["error","friendlyMessage"])),ue(!1))};(0,s.useEffect)((function(){P===g.ERROR&&q(!0)}),[P,A]);var De=function(e){return new Date(1e3*parseInt(e,10))},Le=function(e,t,n){var a,r,i,o,s=u,c=null==n?void 0:n.startTime,l=null==n?void 0:n.endTime,d=c&&l?(0,Q.cA)(De(c),De(l)):0,p=null===(a=window)||void 0===a||null===(r=a.mParticle)||void 0===r||null===(i=r.Identity)||void 0===i||null===(o=i.getCurrentUser())||void 0===o?void 0:o.getMPID();return at({brand:"CNBC",preFetched:"False",show:(null==t?void 0:t.episodeTitle)||"N/A",season:(null==t?void 0:t.seasonNumber)||"N/A",seriesTitle:(null==t?void 0:t.episodeTitle)||"N/A",episodeTitle:(null==t?void 0:t.episodeTitle)||"N/A",videoType:W()(n,["analytics","currentVideo","videoType"])||"Episode",videoId:(null==t?void 0:t.externalAdId)||"N/A",assetId:(null==t?void 0:t.nbcuId)||"N/A",entitlement:W()(n,["analytics","currentVideo","liveEntitlement"])||"N/A",mvpd:s,profile:"Free",tmsShowID:W()(n,["analytics","currentVideo","titleTmsId"])||"N/A",playbackStartPosition:"0",syndicator:s,episodeNumber:(null==t?void 0:t.episodeNumber)||"N/A",geostation:"N/A",mutedVideoStart:"False",playerVendor:"Bionic",playerVersion:"0.1.60",stitchVendor:"EMT",streamProtocol:"HLS",duration:d,streamType:"Live",mParticleId:p},e)},Re=function(e,t,n){if(!J){ue(true);var a=Le({duration:"",isMobile:!1},e,t),r=document.getElementById("HlsPlayer");Ee.startSession(a,r).then((function(){n?Ne(!0,n,true):Ee.setPlayerState("PLAYING")}))}},Me=function(){var e=(0,a.Z)(o().mark((function e(){var t,a,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:function(){},!y||l){e.next=7;break}return e.next=4,b(f,n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,Ae({selectedMvpdId:u,externalAdId:n,ip:c,mvpdAuthToken:d});case 9:e.t0=e.sent;case 10:a=e.t0,(a||{}).streamUrl?(Ce.current=(null==a?void 0:a.assetInfo)||{},C(a),t(a,pt)):q(!0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=at({},t);if(e.audio&&(n.language="es"===e.audio?"Spanish":"English"),e.streamUrl&&(n.streamUrl=e.streamUrl),e.captions){var a=e.captions;n.ccLanguage=a}Ee.setContentInfo(n)},je=function(e){var t,a;!y||l||G.Z.isSafari()||h(f,n),null!=Ce&&null!==(t=Ce.current)&&void 0!==t&&t.title&&(null==Ce||null===(a=Ce.current)||void 0===a?void 0:a.title)===window.currentTitle&&(Te.end(),_e.trackSessionEnd(),Ze.logEvent(st,Ze.getMParticleData(null==Ce?void 0:Ce.current,pt,y,u)),Ze.logEvent(it,at(at({},Ze.getMParticleData(null==Ce?void 0:Ce.current,pt,y)),{},{"Duration Watched":Pe.getSecond()})),x&&Ze.logEvent(lt,Ze.getMParticleData(null==Ce?void 0:Ce.current,e,y,u)))};(0,s.useEffect)((function(){return!u&&t||Me(),function(){je(pt)}}),[]),(0,s.useEffect)((function(){var e;window.currentTitle=null==k||null===(e=k.assetInfo)||void 0===e?void 0:e.title;var t=function(){je(pt)};return window.addEventListener("beforeunload",t),G.Z.isSafari()&&document.getElementById("mvpdLogoutButton")&&document.getElementById("mvpdLogoutButton").addEventListener("click",t),function(){window.removeEventListener("beforeunload",t),G.Z.isSafari()&&document.getElementById("mvpdLogoutButton")&&document.getElementById("mvpdLogoutButton").removeEventListener("click",t)}}),[k]);var xe=(0,z.Z)({keyValuePairs:[[te,!y],[ae,!1===l&&t],[ne,null===l&&t],[de,y]]});return F&&!p?s.createElement("div",{className:re},s.createElement("img",{className:ie,src:I.b9.v,alt:"playback error"})):p?s.createElement("div",{className:oe},s.createElement("img",{className:le,src:ee,alt:"cnbc logo"}),s.createElement("p",{className:se},"Sorry, this content is not available in your region. ",s.createElement("br",null),"Check out CNBC's latest videos on demand ",s.createElement($.Z,{to:v,className:ce},"here"),".")):s.createElement("div",{className:xe},s.createElement("div",null,s.createElement("link",{rel:"stylesheet",href:I.zE}),k&&s.createElement(X(),{muted:!!y,streamUrl:Se,trackingUrl:Ie,assetInfo:Ce.current,paused:A,onError:function(e){J?Ne(!0,e):Re(Ce.current,ke,e),je(pt),q(!0),(0,S.Py)(new Error(JSON.stringify(e)),{errorCode:S.Xq.BIONIC,errorDetails:"Bionic Player Error",errorComponent:"BionicPlayer"})},onProgramChanged:function(){x&&Ze.logEvent(lt,Ze.getMParticleData(Ce.current,pt,y,u)),Ze.logEvent(st,Ze.getMParticleData(Ce.current,pt,y,u)),i(),_e.trackSessionEnd(!0),Me((function(t,n){var a=t.assetInfo,r=t.currentEvent;Ze.logEvent(ot,Ze.getMParticleData(a,n,y,u));var i=Le({},a,r);Be(i),_e.trackSessionStart(at(at({},e),{},{playerPosition:Oe(r),assetInfo:at(at({},a),{},{selectedMvpdId:u}),program:r}))}))},onFullscreen:function(e){pt.isFullscreen=!!e},onUserInactive:function(){},onCCToggle:function(){},onAdProgress:function(){},onManifestLoaded:function(){Te.createPlaybackSession()},onTimeUpdate:function(){x||_e.setPlayerPosition(Oe(ke))},onPlayerState:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"loading"===t?!Se&&a.streamUrl&&J&&(Be(a),Ee.setPlayerState("BUFFERING")):"paused"!==t||_?"playing"===t&&_?N?D(!1):(M(!1),me?_e.trackPlay():(fe(!0),_e.initialize(at(at({},e),{},{playerPosition:Oe(ke),assetInfo:at(at({},Ce.current),{},{selectedMvpdId:u}),tempPassEnabled:y,program:ke}))),Te.play(),Pe.resumeCounter(),y&&!l&&b(f,n),J?Ee.setPlayerState("PLAYING"):Re(Ce.current,ke)):"buffering"===t&&Ee.setPlayerState("BUFFERING"):(M(!0),_e.trackPause(),Te.stop(),Pe.pauseCounter(),y&&!l&&h(f,n),J&&Ee.setPlayerState("PAUSED"))},onNielsenID3Tag:function(){},onVideoStart:function(){var e=at(at({},Ce.current),{},{brand:"cnbc"});Te.loadMetadata(e),be||(Ze.logEvent(rt,Ze.getMParticleData(Ce.current,pt,y,u)),Ze.logEvent(ot,Ze.getMParticleData(Ce.current,pt,y,u)),he(!0),Pe.startCounter())},onAdBreakStart:function(e){V(!0),_e.trackAdBreakStart(e),Ee.trackAdBreakStart(),Ze.logEvent(ct,Ze.getMParticleData(Ce.current,pt,y,u))},onAdBreakEnd:function(){V(!1),_e.trackAdBreakEnd(e),Ee.trackAdBreakEnd(),Te.play(),Ze.logEvent(lt,Ze.getMParticleData(Ce.current,pt,y,u))},onAdStart:function(e){var t=document.getElementById("HlsPlayer"),n=at({position:"midroll",isSkippable:!1,isAutoPlay:!0,streamUrl:Se},e),a=Le({streamUrl:Se},Ce.current,ke);_e.trackAdStart(e),Ee.trackAdStart(at(at(at({},a),e),e.adInsights)),Ve.trackAdStart(n,t),Te.playAd(e),Ze.logEvent(dt,Ze.getMParticleData(Ce.current,pt,y,u))},onAdFirstQuartile:function(){Ve.trackEvent("AdVideoFirstQuartile")},onAdMidPoint:function(){Ve.trackEvent("AdVideoMidpoint")},onAdThirdQuartile:function(){Ve.trackEvent("AdVideoThirdQuartile")},onAdEnd:function(){_e.trackAdEnd(),Te.stop(),Ee.trackAdEnd(),Ve.trackEvent("AdVideoComplete"),Ze.logEvent(ut,Ze.getMParticleData(Ce.current,pt,y,u))},onAdVolumeChange:function(e){Ve.trackEvent("AdVolumeChange",{adVolume:e})},onBufferStart:function(){_e.trackBufferStart()},onBufferEnd:function(){_e.trackBufferComplete()},onRackVisibility:function(){},onModalVisibility:function(){},onLevelSwitch:function(e){Ee.reportBitrateMetric(W()(e,["bitrate"]))},sessionId:Se?H().parse(Se.split("?")[1])["aws.sessionId"]:""})))};vt.propTypes={dependencies:l().object,authenticationRequired:l().bool,externalAdId:l().string,handleOnProgramChange:l().func.isRequired,ip:l().string,mvpdAuthenticated:l().bool,mvpdAuthToken:l().string,selectedMvpdId:l().string,geoRestricted:l().bool,geoRedirectLink:l().string,deviceId:l().string,tempPassEnabled:l().bool,startTempPassStream:l().func,stopTempPassStream:l().func,streamStatus:l().string,isPoppedOut:l().bool},vt.defaultProps={dependencies:{fetchLiveTVStream:we,bionicCounter:Fe,conviva:tt},authenticationRequired:!0,externalAdId:"",ip:"",mvpdAuthenticated:!1,mvpdAuthToken:"",selectedMvpdId:null,streamNameSelected:"null",geoRestricted:!1,geoRedirectLink:"",deviceId:"",tempPassEnabled:!1,startTempPassStream:function(){},stopTempPassStream:function(){},streamStatus:g.INITIAL,isPoppedOut:!1};const mt=K((0,Z.Z)(vt));var ft=function(){var e=(0,a.Z)(o().mark((function e(){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="NBC-Basic key=".concat(I.rE,', hash="", version=').concat(I.i8,", type=cpc"),e.prev=1,e.next=4,fetch(I.Yi,{method:"POST",body:JSON.stringify({device:"web"}),headers:{"Content-Type":"application/json",Authorization:t,Accept:"application/media.geo-v2+json"}});case 4:if(!((n=e.sent).status>=200&&n.status<300)){e.next=10;break}return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:return(0,S.Py)(new Error(JSON.stringify(n)),{errorCode:S.Xq.API,errorMessage:"GEO API Bad Response",errorDetails:t,transactionName:"fetchGeoService",requestUri:I.Yi}),e.abrupt("return",null);case 14:return e.prev=14,e.t0=e.catch(1),(0,S.Py)(e.t0,{errorCode:S.Xq.API,errorMessage:"GEO API Rejected",errorDetails:t,transactionName:"fetchGeoService",requestUri:I.Yi}),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();const yt=ft;var gt=n(96350),bt=w.Z.getProperties().DEFAULT_LOGO.cnbc,ht=function(e){var t=e.currentEvent,n=t.title,a=t.startTime,r=t.endTime,i=(0,Q.Kh)(parseInt(1e3*a,10)),o=(0,Q.Kh)(parseInt(1e3*r,10)),c={"@context":"https://schema.org","@type":"VideoObject",name:n,description:n,thumbnailUrl:bt,uploadDate:i,publication:{"@type":"BroadcastEvent",name:n,isLiveBroadcast:!0,startDate:i,endDate:o}};return s.createElement(gt.Z,{data:c})};ht.propTypes={currentEvent:l().object},ht.defaultProps={currentEvent:{}};const Pt=ht;var At=n(62315),Et=n(80880),wt=n(72399);const St="LivePlayerChannel-channelContainer",It="LivePlayerChannel-channelHolder",kt="LivePlayerChannel-rightContainer",Ct="LivePlayerChannel-embeddedPlayerSpacing",Tt="LivePlayerChannel-linkButton",Ot="LivePlayerChannel-withEmphasis",Nt="LivePlayerChannel-noEmphasis",Dt="LivePlayerChannel-noEmphasisIcon",Lt="LivePlayerChannel-withEmphasisIcon";var Rt=function(e){var t=e.embeddedPlayer,n=e.handlePopOutOnClick,a=e.handleBackToCnbcClick,r=e.scheduleUrl,i=e.standalone;return s.createElement("div",{className:St},s.createElement("div",{className:(0,z.Z)(It,{keyValuePairs:[[Ct,t]]})},s.createElement("div",{className:kt},i?s.createElement("div",{onKeyPress:a,role:"button",tabIndex:0,onClick:function(){return setTimeout((function(){return window.close()}),5)}},s.createElement("div",{id:"backToCnbcLink",role:"button",tabIndex:0,className:Tt,onClick:a,onKeyDown:function(){}},s.createElement("span",{className:Ot},s.createElement(wt.Z,{className:Lt,proBackToCnbcInfo:"proBackToCnbcInfo"}),"Back To CNBC"))):s.createElement("div",{className:Tt,id:"popOutLink",tabIndex:0,role:"button",onClick:n,onKeyPress:n},s.createElement("span",{className:Ot},s.createElement(Et.Z,{className:Lt,popOutInfo:"popOutInfo"}),"Pop-Out Player")),s.createElement($.Z,{id:"scheduleLink",className:Tt,to:r,target:"_blank"},s.createElement("span",{className:Nt},s.createElement(At.Z,{className:Dt,schedulesInfo:"schedulesInfo"}),"Schedule")))))};Rt.propTypes={embeddedPlayer:l().bool.isRequired,handlePopOutOnClick:l().func.isRequired,handleBackToCnbcClick:l().func.isRequired,scheduleUrl:l().string.isRequired,standalone:l().bool.isRequired};const _t=Rt;var Mt=w.Z.getProperties().CNBC_BASE,Bt="".concat(Mt,"/latest-video/"),jt=function(e){var t=e.dataTest,n=e.dependencies,i=e.isUnsupportedDevice,c=e.styles,l=e.channel,d=e.pageId,u=e.standalone,v=e.template,m=(0,s.useState)({}),f=(0,r.Z)(m,2),y=f[0],g=f[1],b=(0,s.useState)(l),h=(0,r.Z)(b,2),P=h[0],A=h[1],E=(0,s.useState)(null),w=(0,r.Z)(E,2),S=w[0],I=w[1],k=(0,s.useState)(!1),C=(0,r.Z)(k,2),T=C[0],O=C[1],N=y||{},D=N.assetInfo,L=N.requestInfo,R=N.restricted,_=N.currentEvent,M=D||{},B=M.authRequired,j=M.externalAdId,Z=(L||{}).ip,F=n.fetchGeoService,H="LiveTvMVPD",q="".concat(v,"-").concat(H),W=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){W()}),[]),(0,s.useEffect)((function(){A(l)}),[l]);var z=function(){var e={pev2:"Video TVE Popout",trkNav:"video:TVE:popout:".concat(d)};x.Z.trigger("videoPopout",e);var t=window.open("".concat(Mt,"/liveplayer"),"_blank","width=600, height=450");x.Z.trigger("videoPopoutRef",t),I(t)};return i?s.createElement(U.Z,{dataTest:t,dataAnalytics:q}):s.createElement("div",{id:q,"data-test":H,"data-analytics":q},_&&s.createElement(Pt,{currentEvent:_}),s.createElement(V.ZP,{dataTest:t,dataAnalytics:q,styles:c,authenticationRequired:B,disableAuthorizationCheck:!1},s.createElement(mt,{authenticationRequired:B,externalAdId:j,handleOnProgramChange:function(){W()},geoRestricted:R,geoRedirectLink:Bt,ip:Z,isPoppedOut:T}),s.createElement(_t,{dataAnalytics:q,scheduleUrl:p.MS[P].scheduleUrl,handleBackToCnbcClick:function(){x.Z.trigger("videoLinearBackToCNBC",{pev2:"Back to CNBC Popout",trkNav:"video:TVE:backtocnbc"}),window.opener?(window.open("",window.opener.name),window.opener.proPlayerhandleFocus.focusParent(),O(!1),window.close()):(window.open("".concat(Mt),"_blank"),O(!1),window.close())},handlePopOutOnClick:function(){T&&S?S.closed?z():S.focus():(O(!0),z())},streamNameSelected:P,standalone:u})))};jt.propTypes={dependencies:l().object,channel:l().string,pageId:l().number,dataTest:l().string.isRequired,styles:l().object.isRequired,standalone:l().bool.isRequired,isUnsupportedDevice:l().bool,template:l().string},jt.defaultProps={dependencies:{fetchLiveTVStream:we,fetchGeoService:yt,bionicCounter:Fe,conviva:tt},isUnsupportedDevice:!1,channel:p.cn.us,standalone:!1,pageId:0,streamNameSelected:"",template:"",queryParams:{},inheritedStyles:{}};const xt=(0,Z.Z)(jt);var Vt=n(12862),Ut=n(1393),Zt=n(23295),Ft=n(7458);const Ht="TempPassOverlay-overlay",qt="TempPassOverlay-liveContainer",Wt="TempPassOverlay-redIcon",zt="TempPassOverlay-liveText",Gt="TempPassOverlay-timerContainer",Yt="TempPassOverlay-time",Kt="TempPassOverlay-linkOut",Jt="TempPassOverlay-linkIcon";var Xt=function(e){var t=e.timeRemaining,n=e.mvpdAuthenticated,a=(0,Ft.B)(Math.floor(t/1e3));return s.createElement("div",{className:Ht},s.createElement("div",{className:qt},s.createElement("div",{className:Wt}),s.createElement("p",{className:zt},"Live")),s.createElement("div",{className:Gt},s.createElement("span",{className:Yt},t>6e5||n?null:a),s.createElement($.Z,{to:"/live-tv/",className:Kt,title:"Live TV",target:"_blank"},s.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",stroke:"white",strokeLinecap:"round",xmlns:"http://www.w3.org/2000/svg",className:Jt},s.createElement("line",{x1:"7.64282",y1:"3.34615",x2:"13.5",y2:"3.34615"}),s.createElement("line",{x1:"13.6428",y1:"3.5",x2:"13.6428",y2:"13.5"}),s.createElement("line",{x1:"7.64282",y1:"13.5",x2:"13.5",y2:"13.5"}),s.createElement("line",{x1:"2.5",y1:"8.42308",x2:"10.0714",y2:"8.42308"}),s.createElement("line",{x1:"7.76741",y1:"6.11909",x2:"10.0714",y2:"8.42308"}),s.createElement("line",{x1:"7.76741",y1:"10.72707",x2:"10.0714",y2:"8.42308"})))))};Xt.propTypes={timeRemaining:l().number,mvpdAuthenticated:l().bool},Xt.defaultProps={timeRemaining:0,mvpdAuthenticated:!1};const Qt=Xt,$t="LogoOverlay-logoContainer";var en=function(e){var t=e.mvpdAuthenticated,n=e.mvpdList,a=e.selectedMvpdId,r=(0,s.useMemo)((function(){return n.filter((function(e){return e.mvpdId===a}))[0]}),[n,a]);if(!t||!a)return null;var i=(null==r?void 0:r.loggedInImage)||null;return i?s.createElement("div",{className:$t},s.createElement("img",{src:i,alt:"tve logo"})):null};en.propTypes={mvpdAuthenticated:l().bool,mvpdList:l().array,selectedMvpdId:l().string},en.defaultProps={mvpdAuthenticated:null,mvpdList:[],selectedMvpdId:null};const tn=en,nn="TempPass-playerContainer";var an=function(e){var t,n=e.mParticleId,i=e.getTempPassTimeRemaining,c=e.streamStatus,l=e.mvpdAuthenticated,d=e.mvpdList,u=e.selectedMvpdId,p=w.Z.getProperties().CNBC_BASE,v="".concat(p,"/latest-video/"),m=(0,s.useState)(i()),f=(0,r.Z)(m,2),y=f[0],b=f[1],h=(0,s.useState)(c===g.PLAYING?1e3:0),P=(0,r.Z)(h,2),A=P[0],E=P[1],S=(0,s.useState)({requestInfo:"INIT"}),I=(0,r.Z)(S,2),k=I[0],C=I[1],T=k||{},O=T.assetInfo,N=T.requestInfo,D=T.restricted,L=T.currentEvent,R=(O||"").externalAdId,_=(N||"").ip;(0,Vt.Z)((function(){var e;e=i(),b(e)}),A),(0,s.useEffect)((function(){E(c===g.PLAYING?1e3:0)}),[c]);var M=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,s.useEffect)((function(){(n||l)&&M()}),[n,l]),"INIT"===(null==k?void 0:k.requestInfo)||!n)return null;var B="US"===(null==k||null===(t=k.requestInfo)||void 0===t?void 0:t.countryCode)&&!(null!=k&&k.restricted),j=c!==g.INITIAL||l;return B&&(y>0&&c!==g.EXPIRED)||l?s.createElement(s.Fragment,null,L&&s.createElement(Pt,{currentEvent:L}),s.createElement("div",{className:(0,z.Z)({keyValuePairs:[[nn,j]]})},l&&s.createElement(tn,{mvpdAuthenticated:l,mvpdList:d,selectedMvpdId:u}),j&&s.createElement(Qt,{mvpdAuthenticated:l,timeRemaining:y}),s.createElement(mt,{deviceId:n,authenticationRequired:!1,externalAdId:R,handleOnProgramChange:function(){M()},geoRestricted:D,geoRedirectLink:v,ip:_}))):s.createElement(Zt.default,e)};an.propTypes={mParticleId:l().string,getTempPassTimeRemaining:l().func,streamStatus:l().string,mvpdAuthenticated:l().bool,mvpdList:l().array,selectedMvpdId:l().string},an.defaultProps={mParticleId:null,getTempPassTimeRemaining:function(){},streamStatus:g.INITIAL,mvpdAuthenticated:null,mvpdList:[],selectedMvpdId:null};const rn=K((0,Ut.Z)((0,Z.Z)(an))),on={contentArea:"LiveTV-contentArea",slate:"LiveTV-slate",slateimg:"LiveTV-slateimg",loadingContainer:"LiveTV-loadingContainer",concurrencyMessage:"LiveTV-concurrencyMessage",wrapperForProAndTempPass:"LiveTV-wrapperForProAndTempPass",channel:"LiveTV-channel"},sn={leftContainer:"LiveTV-leftContainer",channels:"LiveTV-channels",rightContainer:"LiveTV-rightContainer",buttonContainer:"LiveTV-buttonContainer",selector:"LiveTV-selector",linkButton:"LiveTV-linkButton"};var cn="proStreamSelection",ln=function(e){var t=e.dataAnalytics,n=e.dataTest,i=e.tempPassStream,c=e.breakpoints,l=e.isProPlayerOnProUserAllowed,f=e.id,y=e.template,g=e.isPro,b=e.signedInUUID,h=e.sessionToken,P=e.standalone,A=["mobile","tablet"].includes(c),E=(0,s.useState)(p.cn.us),w=(0,r.Z)(E,2),S=w[0],I=w[1],k=(0,s.useState)(null),C=(0,r.Z)(k,2),T=C[0],O=C[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)();case 2:t=e.sent,(n=p.m_[t])&&(O(n),(0,j.ej)(cn)?I((0,j.ej)(cn)):I(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i&&e()}),[]),A&&i?null:i&&g&&l?s.createElement("div",{id:"".concat(y,"_LiveTVPro"),className:on.wrapperForProAndTempPass,"data-test":n,"data-analytics":t},s.createElement(d.default,{autoPlay:!0,embeddedPlayer:!0,mute:!0,isPro:!0,channel:S,homeRegion:T,partnerId:33,pageId:f,template:y,uuid:b,sessionToken:h,inheritedStyles:sn})):s.createElement(v.Z,null,s.createElement(m.Z,null,i?s.createElement(_,{tempPassStream:!0},s.createElement("div",{id:"".concat(y,"_LiveTVTempPass"),className:on.wrapperForProAndTempPass,"data-test":n,"data-analytics":t},s.createElement(rn,{tempPassStream:i}))):s.createElement(xt,{dataTest:n,styles:on,pageId:f,template:y,standalone:P})))};ln.propTypes={dataAnalytics:l().string.isRequired,dataTest:l().string.isRequired,tempPassStream:l().bool,isProPlayerOnProUserAllowed:l().bool,breakpoints:l().string,id:l().number,template:l().string,isPro:l().bool,signedInUUID:l().string,sessionToken:l().string,standalone:l().bool},ln.defaultProps={tempPassStream:!1,isProPlayerOnProUserAllowed:!0,breakpoints:"",id:null,template:"",isPro:!1,signedInUUID:"",sessionToken:"",standalone:!1};const dn=(0,M.Z)((0,B.Z)(ln))},23295:(e,t,n)=>{n.r(t),n.d(t,{WatchLiveRightRail:()=>j,default:()=>x});var a=n(67294),r=n(45697),i=n.n(r),o=n(67464),s=n(12712),c=n(96860);const l=n.p+"27ec0e938f3f5890f298.svg";var d=n(23344),u=n(90141),p=n(38113),v=n(57295),m=n(50394),f=n(85775),y=n(96738),g=n(3704);const b="WatchLiveRightRail-rightRail",h="WatchLiveRightRail-mobileBanner",P="WatchLiveRightRail-desktopBanner",A="WatchLiveRightRail-container",E="WatchLiveRightRail-header",w="WatchLiveRightRail-liveTV",S="WatchLiveRightRail-currTitle",I="WatchLiveRightRail-wlButton",k="WatchLiveRightRail-wlButtonMobile",C="WatchLiveRightRail-logo",T="WatchLiveRightRail-contents",O="WatchLiveRightRail-nextTitle",N="WatchLiveRightRail-footer",D="WatchLiveRightRail-audio",L="WatchLiveRightRail-nextShow",R="WatchLiveRightRail-inline",_="WatchLiveRightRail-berkshireEvent",M="WatchLiveRightRail-BHinline",B="WatchLiveRightRail-BHrightRail";var j=function(e){var t,n=e.liveUrl,r=e.isMobile,i=e.isDesktop,p=e.hideUpNext,v=e.template,m=e.layout,y=e.dataCounter,j=e.dataTest,x=e.dataAnalytics,V=e.inline,U=e.premium,Z=e.isMobileWebview,F=e.isInvestingClubPage,H=e.isProUser,q=e.breakpoints,W=e.TVEData,z=e.onCTAClick,G=W.showsSchedule,Y=(null!==(t=s.Z.getFlags())&&void 0!==t?t:{}).j9dpb393;if([c.IB,c.lM].includes(q)&&i)return null;if([c.cn,c.vO,c.lF].includes(q)&&r)return null;var K=n.includes("5-things-to-know"),J=(0,f.J3)(v,"WatchLiveRightRail",y);if(U||F||Z)return null;if(!K&&["SpecialReportTemplate2WithoutNative","Special Report Article"].includes(v))return null;if("TopicTemplateTrays"===v&&"/tv/"!==n)return null;var X=Y?"/brklive22/":H?"/pro/":"/live-tv/";if(Y){var Q=(0,f.J3)(v,"WatchLiveRightRail-BH",0),$=(0,o.Z)({keyValuePairs:[[h,r],[P,i],[M,V],[B,"RegularArticle"===m]]});return a.createElement("div",{className:$,id:Q,"data-test":j,"data-analytics":x},a.createElement(g.Z,{to:X},a.createElement("img",{src:d,className:_,alt:"Berkshire Hathaway Live Event"})))}var ee=(0,o.Z)({keyValuePairs:[[h,r||"/tv/"===n],[P,i],[R,V],[b,"RegularArticle"===m]]},A),te=Array.isArray(null==G?void 0:G.comingUp)&&(null==G?void 0:G.comingUp[0]),ne=null==te?void 0:te.startTimeFormatted;return a.createElement("div",{className:ee,id:J,"data-test":j,"data-analytics":x},a.createElement("div",{className:E},a.createElement(g.Z,{onClick:z,className:w,to:X},a.createElement("img",{src:l,className:C,alt:"logo"}),a.createElement("span",null,"TV"))),a.createElement("div",{className:T},a.createElement(g.Z,{onClick:z,className:S,to:X},G&&G.live&&G.live.title),a.createElement(g.Z,{onClick:z,className:I,to:X},"WATCH LIVE",a.createElement("img",{src:u,className:C,alt:"logo"})),a.createElement(g.Z,{onClick:z,className:k,to:X},"WATCH IN THE APP")),p?null:a.createElement("div",{className:N},a.createElement(g.Z,{onClick:z,to:"/live-tv/schedule/",className:L},"UP NEXT |",a.createElement("span",{className:O}," ",te.shortTitle," "),ne," ET"),a.createElement(g.Z,{onClick:z,className:D,to:"/live-audio/"},a.createElement("span",null,"Listen"))))};j.propTypes={liveUrl:i().string,isMobile:i().bool,isDesktop:i().bool,hideUpNext:i().bool,template:i().string,layout:i().string,dataCounter:i().number,dataTest:i().string,dataAnalytics:i().string,inline:i().bool,premium:i().bool,isMobileWebview:i().bool,isInvestingClubPage:i().bool,isProUser:i().bool,breakpoints:i().string,TVEData:i().object,onCTAClick:i().func},j.defaultProps={liveUrl:"",isMobile:!1,isDesktop:!1,hideUpNext:!1,template:"",layout:"",dataCounter:0,dataTest:"",dataAnalytics:"",premium:!1,inline:!1,isMobileWebview:!1,isInvestingClubPage:!1,isProUser:!1,breakpoints:"",TVEData:{},onCTAClick:function(){}};const x=(0,v.Z)((0,y.Z)((0,p.Z)((0,m.Z)(j))))},1393:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(87462),r=n(67294),i=n(11238);const o=function(e){return function(t){var n=(0,i.A)();return r.createElement(e,(0,a.Z)({},n,t))}}},12862:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67294);const r=function(e,t){var n=a.useRef(null),r=a.useRef(e);return a.useEffect((function(){r.current=e}),[]),a.useEffect((function(){return"number"==typeof t&&t>0?n.current=window.setInterval((function(){return r.current()}),t):window.clearInterval(n.current),function(){return window.clearInterval(n.current)}}),[t]),n.current}},82835:(e,t,n)=>{e.exports=n.p+"79ea413ac8a9ee99cad0.svg"},90141:(e,t,n)=>{e.exports=n.p+"4db8932b7ac3e84e3f64.svg"}}]);
//# sourceMappingURL=source-maps/components-PcmModule-LiveTV-6d552fbf55c402efc737.js.map