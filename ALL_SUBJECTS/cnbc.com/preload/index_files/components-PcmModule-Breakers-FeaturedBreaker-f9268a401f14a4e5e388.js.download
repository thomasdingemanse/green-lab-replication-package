"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5519],{42280:(e,t,r)=>{r.r(t),r.d(t,{FeaturedBreaker:()=>W,default:()=>X});var a=r(15671),n=r(43144),i=r(97326),l=r(60136),s=r(82963),c=r(61120),o=r(4942),u=r(67294),d=r(45697),m=r.n(d),p=r(24250),f=r(31846),v=r(34458),k=r(3704),h=r(7798),g=r(85775),y=r(64433),B=r(73438),Z=r(39598),E=function(e){try{var t=new URL(e),r=t.origin,a=t.pathname,n=t.search;return"/search/"===a&&"?query=Special%20Reports"===n?"".concat(r,"/special-reports/"):e}catch(t){return e}};const S="FeaturedBreaker-featuredBreaker",N="FeaturedBreaker-wrapper",A="FeaturedBreaker-heading",F="FeaturedBreaker-headingLink",w="FeaturedBreaker-headingText",T="FeaturedBreaker-headingImage FeaturedBreaker-headingText",b="FeaturedBreaker-eventTime",R="FeaturedBreaker-arrowContainer",C="FeaturedBreaker-prevArrow FeaturedBreaker-arrow",D="FeaturedBreaker-prevArrowInactive FeaturedBreaker-prevArrow FeaturedBreaker-arrow",_="FeaturedBreaker-nextArrow FeaturedBreaker-arrow",I="FeaturedBreaker-nextArrowInactive FeaturedBreaker-nextArrow FeaturedBreaker-arrow",x="FeaturedBreaker-slideContainer",L="FeaturedBreaker-slideRail",H="FeaturedBreaker-leftSlide",O="FeaturedBreaker-rightSlide",q="FeaturedBreaker-item",z="FeaturedBreaker-itemTitle",P="FeaturedBreaker-itemWrapper",U="FeaturedBreaker-itemAuthor";var j=r(18213);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,c.Z)(e);if(t){var n=(0,c.Z)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,s.Z)(this,r)}}var W=function(e){(0,l.Z)(r,e);var t=M(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l)),(0,o.Z)((0,i.Z)(e),"state",{currentSlide:0,currentBreakpoint:""}),(0,o.Z)((0,i.Z)(e),"handleBreakpointChange",(function(){var t=h.Z.current();e.setState({currentBreakpoint:t})})),(0,o.Z)((0,i.Z)(e),"ifArray",(function(e){return Array.isArray(e)})),(0,o.Z)((0,i.Z)(e),"slideToPrev",(function(){e.state.currentSlide>0&&e.setState({currentSlide:e.state.currentSlide-1})})),(0,o.Z)((0,i.Z)(e),"slideToNext",(function(){var t=e.props.data;if(t){var r=e.ifArray(t.assets)?t.assets.length-1:0;e.state.currentSlide<r&&e.setState({currentSlide:e.state.currentSlide+1})}})),(0,o.Z)((0,i.Z)(e),"slideRailStylesLeft",(function(){return{transform:"translateX(-".concat(100*e.state.currentSlide,"%)")}})),(0,o.Z)((0,i.Z)(e),"slideRailStylesRight",(function(){var t=e.props.data;if(t){var r=e.ifArray(t.assets)?t.assets.length-1:0;return e.state.currentSlide===r?{transform:"translateX(-".concat(100*(e.state.currentSlide+1.1),"%)")}:{transform:"translateX(-".concat(100*(e.state.currentSlide+1),"%)")}}})),(0,o.Z)((0,i.Z)(e),"setPrevArrowStyle",(function(){return 0===e.state.currentSlide?D:C})),(0,o.Z)((0,i.Z)(e),"setNextArrowStyle",(function(){var t=e.props.data;if(t){var r=e.ifArray(t.assets)?t.assets.length-1:0;return e.state.currentSlide>=r?I:_}})),(0,o.Z)((0,i.Z)(e),"sizeByBreakpoint",(function(){var t;switch(e.state.currentBreakpoint){case"mobile":t=275;break;case"tablet":case"small_desktop":t=515;break;default:t=735}return t})),(0,o.Z)((0,i.Z)(e),"getEvent",(function(e){return(e||[]).filter((function(e){return"event"===(e||{}).type}))})),(0,o.Z)((0,i.Z)(e),"convertDate",(function(e){return(0,Z.qb)(e)?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e)):""})),(0,o.Z)((0,i.Z)(e),"getItemTitle",(function(e,t,r,a){return e?u.createElement(k.Z,{to:e,brand:a.brand,assetType:a.type,premium:a.premium,sectionSubType:a.section&&a.section.subType,native:a.native},u.createElement("div",{className:r},(0,B.aS)(t,100))):u.createElement("div",{className:r},t)})),(0,o.Z)((0,i.Z)(e),"getSlideTitle",(function(t){return u.createElement("div",{className:P},t.linkHeadline&&e.getItemTitle(t.url,t.linkHeadline,z,t),!t.linkHeadline&&t.shorterHeadline&&e.getItemTitle(t.url,t.shorterHeadline,z,t),!t.linkHeadline&&!t.shorterHeadline&&e.getItemTitle(t.url,t.title,z,t),t.author&&t.sourceOrganization&&e.getAuthorSource(t.sourceOrganization,t.author,t.creatorOverwrite,t))})),(0,o.Z)((0,i.Z)(e),"getAuthorSource",(function(e,t,r){if(e.length){if("CNBC.com"!==e[0].name)return u.createElement("div",{className:U},e[0].name);if(t.length){var a=t.map((function(e){return e.name})).join(", ");return r?(a="".concat(a,", ").concat(r),u.createElement("div",{className:U},a)):u.createElement("div",{className:U},a)}}if(t.length){var n=t.map((function(e){return e.name})).join(",");return u.createElement("div",{className:U},n)}if(r)return u.createElement("div",{className:U},r)})),(0,o.Z)((0,i.Z)(e),"getBreakerTopSection",(function(t){var r=t.logo,a=t.url,n=t.title,i=t.eventData,l=t.type;return u.createElement("div",null,u.createElement("div",{className:A},r&&(a?u.createElement("div",{className:T},u.createElement(k.Z,{to:a,assetType:l},u.createElement("img",{src:r.url,alt:r.title}))):u.createElement("div",{className:T},u.createElement("img",{src:r.url,alt:r.title}))),!r&&(a&&"collection"!==l?u.createElement("h3",{className:w},u.createElement(k.Z,{className:F,to:a,assetType:l},n)):u.createElement("h3",{className:w},n)),0!==i.length&&u.createElement("p",{className:b},u.createElement("time",null,e.convertDate(i[0].startDate))," - ",i[0].location)),u.createElement("div",{className:R},u.createElement("button",{className:e.setPrevArrowStyle(),onClick:e.slideToPrev,"aria-label":"previous-button"},u.createElement("span",{className:"icon-arrow-left"})),u.createElement("button",{className:e.setNextArrowStyle(),onClick:e.slideToNext,"aria-label":"next-button"},u.createElement("span",{className:"icon-arrow-right"}))))})),(0,o.Z)((0,i.Z)(e),"getBreakerSlides",(function(t,r){return Array.isArray(t)&&u.createElement("div",{className:x},u.createElement("div",{className:H},u.createElement("div",{className:L,style:e.slideRailStylesLeft()},e.getSlides(t,r))),u.createElement("div",{className:O},u.createElement("div",{className:L,style:e.slideRailStylesRight()},e.getSlides(t,r))))})),(0,o.Z)((0,i.Z)(e),"getSlides",(function(t,r){return t.map((function(t,a){return u.createElement(f.Z,{key:a},u.createElement("div",{className:q,style:t.promoImage&&{backgroundImage:j.Z.isNotWebpEnabledBrowser()?"url(".concat(t.promoImage.url,"&w=").concat(e.sizeByBreakpoint(),"&h=").concat(Math.floor(e.sizeByBreakpoint()/2),")"):"url(".concat(t.promoImage.url,"&w=").concat(e.sizeByBreakpoint(),"&h=").concat(Math.floor(e.sizeByBreakpoint()/2),"&ffmt=webp)")}},(r.includes("show")||"video"===r)&&u.createElement(v.Z,{isFeatured:!0}),e.getSlideTitle(t)))}))})),e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){y.Z.on("breakpointChange",this.handleBreakpointChange)}},{key:"componentWillUnmount",value:function(){y.Z.remove("breakpointChange",this.handleBreakpointChange)}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.template,a=e.dataCounter,n=e.dataTest,i=e.dataAnalytics;if(!t)return u.createElement(p.Z,{data:{error:"section query came back as null"},errorSource:"FeaturedBreaker",errorProps:this.props});if(!Array.isArray(t.assets)||0===t.assets.length)return null;var l=this.getEvent(t.assets),s=t.logo,c=t.url,o=t.title,d=t.assets,m=t.subType,f=t.type,v=(0,g.J3)(r,"FeaturedBreaker-".concat(o),a);return u.createElement("div",{className:S,id:v,"data-test":n,"data-analytics":i},u.createElement("div",{className:N},this.getBreakerTopSection({logo:s,url:E(c),title:o,eventData:l,type:f}),this.getBreakerSlides(d,m)))}}]),r}(u.Component);(0,o.Z)(W,"propTypes",{data:m().object.isRequired,template:m().string.isRequired,dataCounter:m().number,dataTest:m().string.isRequired,dataAnalytics:m().string.isRequired}),(0,o.Z)(W,"defaultProps",{dataCounter:0});const X=W}}]);
//# sourceMappingURL=source-maps/components-PcmModule-Breakers-FeaturedBreaker-f9268a401f14a4e5e388.js.map