"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2497],{47022:(e,t,a)=>{a.r(t),a.d(t,{MarketsBannerManagerBase:()=>G,default:()=>Q});var r=a(87462),n=a(4942),s=a(29439),c=a(45987),l=a(67294),i=a(45697),o=a.n(i),m=a(31080),u=a(89728),d=a(67464),p=a(85775),g=a(12712),y=a(73438),k=a(14526),b=a(3704);const f="MarketsBanner-container",v="MarketsBanner-berkshireEvent",h="MarketsBanner-main",C="MarketsBanner-marketData",E="MarketsBanner-teaser",O="MarketsBanner-ad",M="MarketsBannerMenu-container",N="MarketsBannerMenu-marketOption",D="MarketsBannerMenu-activeMarket MarketsBannerMenu-marketOption";var P={value:o().number.isRequired,onChange:o().func.isRequired,markets:o().array.isRequired},S=function(e){var t=e.value,a=e.onChange,r=e.markets;return l.createElement("div",{className:M},r.map((function(e,r){return l.createElement("button",{key:r,onClick:function(){return a(r)},className:t===r?D:N},e.marketLabel)})))};S.propTypes=P;const T=S;var Z=a(93360),w=function(e){return e<12},j=function(e){return 0!==e&&w(e)||12===e?e.toString():0===e?"12":(e-12).toString()};const B=function(e,t){if(!String.prototype.includes.call(e,"T"))return"".concat((a=e,r=new Date(a),"".concat(r.getUTCMonth()+1,"/").concat(r.getUTCDate(),"/").concat(r.getUTCFullYear()-2e3))," ").concat(t);var a,r,n=String.prototype.split.call(e,"T")[1],s=function(e){return parseInt(String.prototype.slice.call(e,0,2),10)}(n=String.prototype.slice.call(n,0,8));return w(s)?"".concat(j(s)).concat(String.prototype.slice.call(n,2)," AM ").concat(t):"".concat(j(s)).concat(String.prototype.slice.call(n,2)," PM ").concat(t)},R={electricblue:"#1ff1c8",orange:"#f87121",container:"MarketCard-container",symbol:"MarketCard-symbol",stockPosition:"MarketCard-stockPosition",row:"MarketCard-row",down:"MarketCard-down",up:"MarketCard-up","triangle-up":"MarketCard-triangle-up","triangle-down":"MarketCard-triangle-down",changeData:"MarketCard-changeData",changesPct:"MarketCard-changesPct",changesPts:"MarketCard-changesPts",lastTime:"MarketCard-lastTime",wrap:"MarketCard-wrap"};var q="BOND",I="---",_={type:o().oneOf(["INDEX","CURRENCY","DERIVATIVE",q,I]),change:o().string,changePercent:o().string,last:o().string,realTime:o().oneOf(["true","false"]),shortName:o().string,symbol:o().string,lastTime:o().string,timeZone:o().string,stylesOverride:o().object},A={type:I,change:"",changePercent:"",last:"",realTime:"true",shortName:"",symbol:"",lastTime:"",timeZone:"",stylesOverride:{}},L=function(e){var t=e.type,a=e.change,r=e.changePercent,n=e.last,s=e.realTime,c=e.shortName,i=e.symbol,o=e.lastTime,m=e.timeZone,u=e.stylesOverride,p=t!==I,g=p?"".concat(Z._N,"/quotes/").concat(i):"#",y=a.length+r.length>=13,k=a.replace(",",""),f="";Number(k)<0&&(f="down"),Number(k)>0&&(f="up");var v=Object.keys(u).length>0,h=(0,d.Z)(R.container,R[f],{keyValuePairs:[[R.wrap,y],[u.marketCardContainer,v]]}),C=R["triangle-".concat(f)];return l.createElement(b.Z,{className:h,to:g},l.createElement("div",{className:(0,d.Z)(R.row,{keyValuePairs:[[u.marketCardRow,v]]})},l.createElement("span",{className:R.symbol},"true"===s?c:"".concat(c,"*")),l.createElement("span",{className:R.stockPosition},p?n:I)),l.createElement("div",{className:R.row},C&&l.createElement("span",{className:C,"aria-hidden":!0}),l.createElement("div",{className:(0,d.Z)(R.changeData,{keyValuePairs:[[u.marketCardChangeData,v]]})},l.createElement(l.Fragment,null,f&&l.createElement(l.Fragment,null,l.createElement("span",{className:R.changesPts},a),t!==q&&l.createElement("span",{className:R.changesPct},r)),!f&&l.createElement(l.Fragment,null,!p&&l.createElement("span",{className:R.changesPts},I),l.createElement("span",{className:R.changesPct},p?"UNCH":I))))),l.createElement("div",{className:R.row},p&&o&&m&&l.createElement("span",{className:R.lastTime},"LAST | ",B(o,m))))};L.propTypes=_,L.defaultProps=A;const U=L;var V=function(e){var t,a,r,n=e.handleChange,s=e.parsedData,c=e.dataCounter,i=e.template,o=e.selectedMarketIndex,m=e.marketData,u=e.dataTest,p=e.dataAnalytics,y=e.getDataId,M=e.truncateString,N=e.stylesOverride,D=(null!==(t=g.Z.getFlags())&&void 0!==t?t:{}).j9dpb393,P=y(i,"MarketsBanner",c),S=s[o].articles.length?s[o].articles[0]:{};S&&(a=S.url,r=M(S.headline,100));var Z=Object.keys(N).length>0;return l.createElement("section",{className:(0,d.Z)(f,{keyValuePairs:[[N.marketsBannerContainer,Z],[v,D]]}),id:P,"data-test":u,"data-analytics":p},l.createElement(T,{value:o,onChange:n,markets:s,stylesOverride:N}),l.createElement("div",{className:h},l.createElement("div",{id:"market-data-scroll-container",className:(0,d.Z)(C,{keyValuePairs:[[N.marketsBannerMarketData,Z]]})},m.map((function(e,t){var a=e||{},r=a.type,n=a.change,s=a.last,c=a.realTime,i=a.shortName,o=a.symbol,m=a.timeZone,u=a.change_pct,d=a.last_time;return l.createElement(U,{type:r,change:n,changePercent:u,last:s,realTime:c,shortName:i,symbol:o,key:t,dataId:P,lastTime:d,timeZone:m,stylesOverride:N})})),l.createElement("div",{className:O},l.createElement(k.Z,{id:"SponsorLogo-".concat(P),target:"module=MarketsBanner"})))),a&&r&&l.createElement("div",{className:E},l.createElement(b.Z,{to:a,assetType:"cnbcnewsstory"},r)))};V.propTypes={parsedData:o().array.isRequired,dataCounter:o().number,template:o().string,selectedMarketIndex:o().number.isRequired,marketData:o().array.isRequired,dataTest:o().string.isRequired,dataAnalytics:o().string.isRequired,handleChange:o().func.isRequired,stylesOverride:o().object,getDataId:o().func,truncateString:o().func},V.defaultProps={dataCounter:0,template:"",getDataId:p.J3,truncateString:y.aS,stylesOverride:{}};const F=V;var X=a(71002);const x=function(e){return!(!e||"object"!==(0,X.Z)(e))&&!(!e.tabLabel||!Array.isArray(e.securities))};var H={marketLabel:"US",marketSymbols:[".DJI",".SPX",".IXIC",".RUT",".VIX"],articles:[]};const J=function(e){var t=e.markets,a=(void 0===t?[]:t).filter(x).map((function(e){return{marketLabel:e.tabLabel.toUpperCase(),marketSymbols:e.securities.map((function(e){return e.symbol.toUpperCase()})),articles:e.articles}}));return 0===a.length&&a.push(H),a};var K=["data","registerSymbols","clearSymbols","quoteData","uuid","stylesOverride"];function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=function(e){var t=e.data,a=e.registerSymbols,i=e.clearSymbols,o=e.quoteData,m=e.uuid,u=e.stylesOverride,d=(0,c.Z)(e,K),p=(0,l.useState)(0),g=(0,s.Z)(p,2),y=g[0],k=g[1],b=(0,l.useState)(m()),f=(0,s.Z)(b,1)[0],v=J(t);(0,l.useEffect)((function(){i(f),a(f,v[y].marketSymbols)}),[y]);var h=[{},{},{},{},{}],C=v[y].marketSymbols.reduce((function(e,t,a){return z(z({},e),{},(0,n.Z)({},t,a))}),{});return o.forEach((function(e){var t=C[e.symbol.toUpperCase()];Number.isInteger(t)&&(h[t]=e)})),l.createElement(F,(0,r.Z)({handleChange:function(e){k(e);var t=document.getElementById("market-data-scroll-container");t&&(t.scrollLeft=0)},marketData:h,selectedMarketIndex:y,parsedData:v,stylesOverride:u},d))};G.propTypes={data:o().object,ad:o().object,dataCounter:o().number,template:o().string,dataTest:o().string.isRequired,dataAnalytics:o().string.isRequired,stylesOverride:o().object,registerSymbols:o().func.isRequired,clearSymbols:o().func.isRequired,quoteData:o().array.isRequired,uuid:o().func},G.defaultProps={ad:null,data:{},dataCounter:0,template:"",uuid:u.Z,stylesOverride:{}};const Q=(0,m.Z)(G)}}]);
//# sourceMappingURL=source-maps/components-PcmModule-MarketsBanner-6bfb598dfdd705603e58.js.map