"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8132,1112],{24578:(e,a,r)=>{r.r(a),r.d(a,{LegacyPlayerContainer:()=>Ne,default:()=>he});var t=r(15861),n=r(29439),o=r(64687),i=r.n(o),l=r(67294),s=r(45697),d=r.n(s),c=r(85775),u=r(24250),p=r(47351),m=r(6771),g=r(57295),y=r(32320),P=r(67464),b=r(75960),E=r(34011),C=r(7798),v=r(12712),f=r(64433),N=r(42674),h=r(21831),H=r(3704),B=r(82566),I=r(34458),V=r(89334);const T={electricblue:"#1ff1c8",orange:"#f87121",mediaContainer:"FeaturedThumbnail-mediaContainer",featuredVideoContainer:"FeaturedThumbnail-featuredVideoContainer",playButton:"FeaturedThumbnail-playButton",videoBackdrop:"FeaturedThumbnail-videoBackdrop",videoText:"FeaturedThumbnail-videoText",videoDuration:"FeaturedThumbnail-videoDuration",imageStyle:"FeaturedThumbnail-imageStyle",promoImage:"FeaturedThumbnail-promoImage"};var k=r(18213),Z=r(49774);const R=function(e){return e&&e.image?k.Z.isNotWebpEnabledBrowser()?"".concat(e.image.url):"".concat(e.image.url,"&ffmt=webp"):e&&e.promoImage?k.Z.isNotWebpEnabledBrowser()?"".concat(e.promoImage.url):"".concat(e.promoImage.url,"&ffmt=webp"):Z};var w=function(e){var a=e.asset;if("cnbcvideo"!==a.type)return null;var r,t,n,o=119.01,i=90;return l.createElement("div",{className:T.thumbnail},l.createElement("div",{className:T.mediaContainer},(r=(0,V.Z)(a.duration),t=r.minutesString,n=r.secondsString,l.createElement(H.Z,{to:a.url},l.createElement("div",{className:T.featuredVideoContainer},l.createElement("div",{className:T.playButton},l.createElement(I.Z,{brand:"cnbc",sizeVariationFive:!0,suppressFlyout:!0})),l.createElement("div",{className:T.videoBackdrop}),l.createElement("div",{className:T.videoText},"video",l.createElement("span",{className:T.videoDuration},"".concat(t,":").concat(n)))))),l.createElement("img",{src:R(a),alt:"thumbnail",className:T.imageStyle,width:o,height:i})))};w.propTypes={asset:d().array.isRequired};const x=w;const F=function(e){return e&&e.linkHeadline?e.linkHeadline:e&&e.title?e.title:e.shorterHeadline};var D=function(e){var a=e.asset,r=e.index,t=e.styles,n=e.isProVideoPlayerCollapsableFlagEnabled,o="cnbcvideo"===a.type&&(!a.summary||0===a.summary.length);return l.createElement(l.Fragment,null,l.createElement("div",{className:t.featuredEyebrow},l.createElement(H.Z,{to:a.section.url,key:r},a.section.title)),l.createElement("div",{className:(0,P.Z)({keyValuePairs:[[t.featuredVideo,o],[t.featuredCard,!o],[t.pcpUnderline,n]]})},l.createElement("div",{className:t.featuredHeadline},l.createElement(H.Z,{to:a.url,key:r},F(a)),"cnbcvideo"===a.type&&l.createElement("img",{src:B,alt:"VideoImage",className:t.featuredVideoImage})),a.summary?l.createElement("div",{className:t.summary},a.summary):l.createElement(x,{asset:a})))};D.propTypes={asset:d().array.isRequired,index:d().number.isRequired,styles:d().object.isRequired,isProVideoPlayerCollapsableFlagEnabled:d().bool.isRequired};const q=D;var S=r(61220),A=r(93360);const _="ProIconWithBorder-container",L="ProIconWithBorder-pcpContainer",W="ProIconWithBorder-divider",U="ProIconWithBorder-logo";var j=function(e){var a=e.isProVideoPlayerCollapsableFlagEnabled;return l.createElement("div",{className:(0,P.Z)(_,{keyValuePairs:[[L,a]]})},!a&&l.createElement("div",{className:W}),l.createElement(H.Z,{to:"".concat(A._N,"/pro")},l.createElement("img",{src:S,alt:"logo",className:U})))};j.propTypes={isProVideoPlayerCollapsableFlagEnabled:d().bool.isRequired};const O=j,M="ProHeadline-headlineCard",K="ProHeadline-eyebrow",z="ProHeadline-headline",G="ProHeadline-pcpUnderline",J="ProHeadline-videoIndicatorImage";var Q=function(e){var a=e.element,r=e.index,t=e.isProVideoPlayerCollapsableFlagEnabled;return l.createElement("div",{className:(0,P.Z)(M,{keyValuePairs:[[G,t]]})},l.createElement("div",{className:K},l.createElement(H.Z,{to:a.section.url,key:r},a.section.title)),l.createElement("div",{className:z},l.createElement(H.Z,{to:a.url,key:r},F(a)),"cnbcvideo"===a.type&&l.createElement("img",{src:B,alt:"mobileVideoImage",className:J})))};Q.propTypes={element:d().object.isRequired,index:d().number.isRequired,isProVideoPlayerCollapsableFlagEnabled:d().bool.isRequired};const X=Q,Y={electricblue:"#1ff1c8",orange:"#f87121",container:"ProHeadlines-container",pcpProHeadlinesContainer:"ProHeadlines-pcpProHeadlinesContainer",collapsedContainer:"ProHeadlines-collapsedContainer",proArticlesBelowVideoContainer:"ProHeadlines-proArticlesBelowVideoContainer",featuredCard:"ProHeadlines-featuredCard",featuredVideo:"ProHeadlines-featuredVideo",featuredEyebrow:"ProHeadlines-featuredEyebrow",featuredHeadline:"ProHeadlines-featuredHeadline",summary:"ProHeadlines-summary",featuredVideoImage:"ProHeadlines-featuredVideoImage",buttonContainer:"ProHeadlines-buttonContainer",expandButton:"ProHeadlines-expandButton",collapseButton:"ProHeadlines-collapseButton",dropdownArrow:"ProHeadlines-dropdownArrow"};var $=function(e){var a=e.assets,r=e.Breakpoints,t=e.template,o=e.BigTimeEventBus,i=e.isCollapsed,s=e.isProVideoPlayerCollapsableFlagEnabled;if(!a||!Array.isArray(a)||0===a.length)return null;var d=r.isMobile(),c=(0,l.useState)(!d),u=(0,n.Z)(c,2),p=u[0],m=u[1],g="ProHeadlines",y="".concat(t,"-").concat(g),b=p?"ProNews-expand":"ProNews-collapse",E=a.slice(1,a.length);if(i&&!d){var C=a.slice(2,a.length);return l.createElement("div",{className:Y.collapsedContainer},l.createElement("div",{className:Y.proArticlesBelowVideoContainer},l.createElement(q,{asset:a[0],index:0,styles:Y,isProVideoPlayerCollapsableFlagEnabled:s}),l.createElement(X,{element:a[1],index:0,isProVideoPlayerCollapsableFlagEnabled:s})),l.createElement("div",null,C.map((function(e,a){return l.createElement(X,{element:e,index:a,isProVideoPlayerCollapsableFlagEnabled:s})}))))}return l.createElement("div",{className:(0,P.Z)(Y.container,{keyValuePairs:[[Y.pcpProHeadlinesContainer,s]]}),id:y,"data-test":g,"data-analytics":y},!s&&l.createElement(O,{isProVideoPlayerCollapsableFlagEnabled:s}),l.createElement(q,{asset:a[0],index:0,styles:Y,isProVideoPlayerCollapsableFlagEnabled:s}),p&&l.createElement(l.Fragment,null,E.map((function(e,a){return l.createElement(X,{element:e,index:a,isProVideoPlayerCollapsableFlagEnabled:s})}))),d&&l.createElement("div",{className:Y.buttonContainer},l.createElement("button",{id:"ProNews-button","data-analytics-id":b,className:(0,P.Z)({keyValuePairs:[[Y.expandButton,!p],[Y.collapseButton,p]]}),onClick:function(e){return function(e){e.preventDefault(),m(!p);var a=e.currentTarget.getAttribute("data-analytics-id");o.trigger("click",{analyticInfo:a})}(e)}},!p&&l.createElement(l.Fragment,null,"More Pro News",l.createElement("span",{className:Y.dropdownArrow})))))};$.propTypes={assets:d().array.isRequired,Breakpoints:d().object,BigTimeEventBus:d().object,template:d().string,isCollapsed:d().bool.isRequired,isProVideoPlayerCollapsableFlagEnabled:d().bool.isRequired},$.defaultProps={Breakpoints:C.Z,BigTimeEventBus:f.Z,template:""};const ee=$;var ae=r(33174);const re="CNBCHomepageProWrapper-main",te="CNBCHomepageProWrapper-loggedInContainer",ne="CNBCHomepageProWrapper-loggedInContainerCollapsable",oe="CNBCHomepageProWrapper-videoContainer",ie="CNBCHomepageProWrapper-pcpVideoContainer",le="CNBCHomepageProWrapper-pcpVideoContainerClosed",se="CNBCHomepageProWrapper-proliveCollapsableContainer",de="CNBCHomepageProWrapper-proliveCollapsedContainer",ce="CNBCHomepageProWrapper-liveIndicatorContainer",ue="CNBCHomepageProWrapper-liveIndicator",pe="CNBCHomepageProWrapper-proLivePlayerCloseOrExpand",me="CNBCHomepageProWrapper-dismissButton";var ge="hp_pro_player_collapse",ye=function(e){var a=e.assets,r=e.template,t=e.pageId,o=e.channel,i=e.homeRegion,s=e.uuid,d=e.sessionToken,c=e.partnerId,u=e.oneTrustBlocked,p=C.Z.isMobile(),m=v.Z.getFlags().g1pcp62,g="true"===(0,y.ej)(ge),N=(0,l.useState)(g),h=(0,n.Z)(N,2),H=h[0],B=h[1],I=(0,l.useState)(!1),V=(0,n.Z)(I,2),T=V[0],k=V[1];(0,l.useEffect)((function(){H&&!T&&k(!0)}),[H,T]);return l.createElement("section",{className:(0,P.Z)(te,{keyValuePairs:[[ne,!p]]})},!p&&m&&l.createElement("div",null,l.createElement("div",{className:(0,P.Z)(se,{keyValuePairs:[[de,H]]})},l.createElement("div",{className:ce},l.createElement("div",{className:ue})," ",l.createElement("div",null,"CNBC LIVE")),l.createElement("div",{id:"pro-videoPlayer-collapse-button",onClick:function(){B((function(e){return!e})),u||(0,y.pC)(ge,!H,0,90);var e=H?"Collapse Pro Live Player":"Expand Pro Live Player",a=f.Z.getPageNodeId();f.Z.trigger("proPlayerToggle",{dataset:{analyticId:e,pageNodeId:a}})},className:(0,P.Z)(pe),role:"button",tabIndex:"0",onKeyDown:function(e){return e.preventDefault()},"data-analytic-id":H?"Collapse Pro Live Player":"Expand Pro Live Player"},!H&&l.createElement(b.Z,{className:me}),H&&l.createElement(E.Z,{className:me}))),l.createElement(O,{isProVideoPlayerCollapsableFlagEnabled:m})),l.createElement("div",{className:re},l.createElement("div",{className:(0,P.Z)(oe,{keyValuePairs:[[ie,m],[le,H&&m]]})},l.createElement(ae.default,{autoPlay:!0,channel:o,embeddedPlayer:!0,homeRegion:i,mute:!0,partnerId:c,pageId:t,shouldRefetch:T,setShouldRefetch:k,template:r,uuid:s,sessionToken:d,isCollapsed:H&&m,isProVideoPlayerCollapsableFlagEnabled:m,playerIdOverride:"cnbc-homepage-live-tv-breaker-jw-cnbc-live-stream-player"})),l.createElement(ee,{assets:a,template:r,isCollapsed:H&&m,isProVideoPlayerCollapsableFlagEnabled:m})))};ye.propTypes={homeRegion:d().string.isRequired,assets:d().array.isRequired,partnerId:d().number.isRequired,template:d().string.isRequired,pageId:d().number.isRequired,channel:d().string.isRequired,uuid:d().string.isRequired,sessionToken:d().string.isRequired,oneTrustBlocked:d().bool.isRequired};const Pe=(0,N.Z)([h.Gt.CONTENT_SELECTION_AND_MEASUREMENT],ye),be="LegacyPlayerContainer-legacyPlayerContainer";const Ee=function(e){var a=new Date(e),r=new Date(e),t=new Date(e),n=a.getTimezoneOffset()/60;return r.setHours(a.getHours()+n-5),t.setHours(a.getHours()+n+8),5!==r.getDay()?6!==r.getDay()&&(0!==t.getDay()&&!(1===t.getDay()&&t.getHours()<5)):!(r.getHours()>=20)};var Ce=r(35640).Z.get("NODE_ENV","prod.cnbc"),ve="https://".concat(Ce&&"prod.cnbc"===Ce?"":"stg-aws01","fm.cnbc.com/applications/cnbc.com/resources/proplayer/proPlayerExtConfig.json");const fe=function(){var e=(0,t.Z)(i().mark((function e(a){var r,t,n,o,l,s,d,c,u,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ve);case 2:return r=e.sent,e.next=5,r.json();case 5:if(t=e.sent,o=(n=t||{}).activeDateTime,l=n.endDateTime,s=Date.now(),d=Date.parse(o),c=Date.parse(l),u=c-s,p=d-s,!(s<c)){e.next=19;break}if(setTimeout((function(){return a(!1)}),u),!(s>=d)){e.next=17;break}return a(!0),e.abrupt("return",!0);case 17:return setTimeout((function(){return a(!0)}),p),e.abrupt("return",!1);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();var Ne=function(e){var a=e.data,r=e.dataCounter,o=e.template,s=e.dataTest,d=e.dataAnalytics,p=e.id,g=e.dependencies,y=e.isPro,P=e.signedInUUID,b=e.sessionToken,E=e.partnerId,C="proStreamSelection",v=g.createCookie,f=g.fetchRegion,N=g.getCookie,h=g.displayProPlayerExtConfig,H=g.isLiveStreamUp;if(a.loading)return l.createElement("div",null);if(a.error)return l.createElement(u.Z,{data:a,errorSource:"LegacyPlayerContainer",errorProps:a});if(!a.assets)return l.createElement(u.Z,{data:{error:"query came back as null"},errorSource:"LegacyPlayerContainer",errorProps:a});var B=a.assets&&Array.isArray(a.assets)?a.assets:[],I=(0,c.J3)(o,"LegacyPlayerContainer",r),V=(0,l.useState)(!1),T=(0,n.Z)(V,2),k=T[0],Z=T[1],R=(0,l.useState)(m.cn.us),w=(0,n.Z)(R,2),x=w[0],F=w[1],D=(0,l.useState)(null),q=(0,n.Z)(D,2),S=q[0],A=q[1];return(0,l.useEffect)((function(){y?(v("ispro",!0,15),H(new Date)?Z(!0):h(Z)):Z(!1)}),[y]),(0,l.useEffect)((function(){var e=function(){var e=(0,t.Z)(i().mark((function e(){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:a=e.sent,(r=m.m_[a])&&(A(r),N(C)?F(N(C)):F(r));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),k?l.createElement("div",{className:be,id:I,"data-test":s,"data-analytics":d},l.createElement(Pe,{assets:B,uuid:P,sessionToken:b,partnerId:E,template:o,pageId:p,channel:x,homeRegion:S})):null};Ne.propTypes={data:d().object.isRequired,dataCounter:d().number.isRequired,template:d().string.isRequired,dataTest:d().string.isRequired,dataAnalytics:d().string.isRequired,id:d().number.isRequired,dependencies:d().object,isPro:d().bool,signedInUUID:d().string,sessionToken:d().string,partnerId:d().number},Ne.defaultProps={dataCounter:0,dependencies:{fetchRegion:p.Z,createCookie:y.pC,getCookie:y.ej,isLiveStreamUp:Ee,displayProPlayerExtConfig:fe},isPro:!1,signedInUUID:null,sessionToken:null,partnerId:null};const he=(0,g.Z)(Ne)},89334:(e,a,r)=>{r.d(a,{Z:()=>t});const t=function(e){if(null===e)return{};var a=e.toFixed(0),r=Math.floor(a/60).toString(),t=(a%60).toString();return{minutesString:2===r.length?r:"0".concat(r),secondsString:2===t.length?t:"0".concat(t)}}},61220:(e,a,r)=>{e.exports=r.p+"8c3584f5c290c1f96d9e.svg"},49774:(e,a,r)=>{e.exports=r.p+"cb9ad825f0c21c9147c9.jpg"},82566:(e,a,r)=>{e.exports=r.p+"55f8ad79467022584ee7.svg"}}]);
//# sourceMappingURL=source-maps/components-PcmModule-LegacyPlayerContainer-2609f1b290f4e1a24efa.js.map