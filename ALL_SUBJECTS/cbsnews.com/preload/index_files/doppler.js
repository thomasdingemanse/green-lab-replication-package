!function(){var e,t,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},i={},n=r.parcelRequire985e;function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},r.parcelRequire985e=n),n.register("dWM4J",(function(e,t){!function(r,o){"use strict";var i="function",n="undefined",s="object",a="string",c="model",u="name",l="type",d="vendor",p="version",h="architecture",f="console",b="mobile",m="tablet",g="smarttv",w="wearable",_="embedded",y="Amazon",v="Apple",S="ASUS",R="BlackBerry",T="Firefox",x="Google",k="Huawei",P="LG",M="Microsoft",O="Motorola",C="Opera",E="Samsung",D="Sony",B="Xiaomi",A="Zebra",j="Facebook",U=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},L=function(e,t){return typeof e===a&&-1!==I(t).indexOf(I(e))},I=function(e){return e.toLowerCase()},N=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===n?e:e.substring(0,255)},z=function(e,t){for(var r,n,a,c,u,l,d=0;d<t.length&&!u;){var p=t[d],h=t[d+1];for(r=n=0;r<p.length&&!u;)if(u=p[r++].exec(e))for(a=0;a<h.length;a++)l=u[++n],typeof(c=h[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):o:this[c[0]]=l?c[1].call(this,l,c[2]):o:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):o):this[c]=l||o;d+=2}},q=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(L(t[r][i],e))return"?"===r?o:r}else if(L(t[r],e))return"?"===r?o:r;return e},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,C]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[u,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,j],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,I]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",I]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,I]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,E],[l,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,E],[l,b]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,v],[l,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,v],[l,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,k],[l,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[d,k],[l,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,B],[l,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,B],[l,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[l,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[l,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[l,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,O],[l,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,O],[l,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,P],[l,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,P],[l,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[l,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[l,b]],[/(pixel c)\b/i],[c,[d,x],[l,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,x],[l,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,D],[l,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,D],[l,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[l,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,y],[l,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,y],[l,b]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[l,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,R],[l,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,S],[l,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,S],[l,b]],[/(nexus 9)/i],[c,[d,"HTC"],[l,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[l,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[l,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[l,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,"Sharp"],[l,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[l,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[l,m]],[/(surface duo)/i],[c,[d,M],[l,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[l,b]],[/(u304aa)/i],[c,[d,"AT&T"],[l,b]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[l,b]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[l,m]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[l,m]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[l,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[l,m]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[l,m]],[/\b(k88) b/i],[c,[d,"ZTE"],[l,m]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[l,b]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[l,b]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[l,m]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[l,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[l,m]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[l,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[l,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[l,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[l,b]],[/\b(ph-1) /i],[c,[d,"Essential"],[l,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[l,m]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[l,m]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[l,m]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[l,m]],[/(sprint) (\w+)/i],[d,c,[l,b]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,M],[l,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,A],[l,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,A],[l,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[l,f]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[l,f]],[/(playstation [345portablevi]+)/i],[c,[d,D],[l,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,M],[l,f]],[/smart-tv.+(samsung)/i],[d,[l,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,E],[l,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,P],[l,g]],[/(apple) ?tv/i],[d,[c,"Apple TV"],[l,g]],[/crkey/i],[[c,"Chromecast"],[d,x],[l,g]],[/droid.+aft(\w)( bui|\))/i],[c,[d,y],[l,g]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[l,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,N],[c,N],[l,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,g]],[/((pebble))app/i],[d,c,[l,w]],[/droid.+; (glass) \d/i],[c,[d,x],[l,w]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,A],[l,w]],[/(quest( 2)?)/i],[c,[d,j],[l,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[l,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[l,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,m]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[l,b]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[p,q,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[p,q,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,R]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,p]]},H=function(e,t){if(typeof e===s&&(t=e,e=o),!(this instanceof H))return new H(e,t).getResult();var i=e||(typeof r!==n&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),c=t?function(e,t){var r={};for(var o in e)t[o]&&t[o].length%2==0?r[o]=t[o].concat(e[o]):r[o]=e[o];return r}(V,t):V;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,z.call(t,i,c.browser),t.major=typeof(e=t.version)===a?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,z.call(e,i,c.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,z.call(e,i,c.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,z.call(e,i,c.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,z.call(e,i,c.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===a&&e.length>255?N(e,255):e,this},this.setUA(i),this};H.VERSION="1.0.2",H.BROWSER=U([u,p,"major"]),H.CPU=U([h]),H.DEVICE=U([c,d,l,f,b,g,m,w,_]),H.ENGINE=H.OS=U([u,p]),typeof t!==n?(e.exports&&(t=e.exports=H),t.UAParser=H):typeof define===i&&define.amd?define((function(){return H})):typeof r!==n&&(r.UAParser=H);var F=typeof r!==n&&(r.jQuery||r.Zepto);if(F&&!F.ua){var J=new H;F.ua=J.getResult(),F.ua.get=function(){return J.getUA()},F.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var r in t)F.ua[r]=t[r]}}}("object"==typeof window?window:this)})),(t=e||(e={}))[t.SendBeacon=0]="SendBeacon",t[t.ProviderConfigFetch=1]="ProviderConfigFetch",t[t.TestResourceFetch=2]="TestResourceFetch",t[t.TestExecution=3]="TestExecution";var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function u(e,t,r){if(r||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var l=function(e){var t;return(t=e.map((function(e){return function(){return e.execute()}})),t.reduce((function(e,t){return e.then((function(e){return t().then((function(t){return u(u([],e,!0),[t],!1)})).catch((function(){return Promise.resolve(e)}))}))}),Promise.resolve([]))).then((function(e){return{testResults:e}}))};function d(e){var t=e.providers.filter((function(e){return e.shouldRun()}));return t.length?Promise.allSettled(t.map((function(e){return e.fetchSessionConfig()}))).then((function(r){var o=[];return r.forEach((function(e,r){if("fulfilled"===e.status&&"value"in e){var i=t[r];i.setSessionConfig(e.value),o.push.apply(o,i.expandTasks())}})),(e.sessionProcess||l)(o)})):Promise.resolve({testResults:[]})}var p=function(){function e(){this._value={preConfigStartDelay:0,providers:[]}}return e.prototype.toSettings=function(){return this._value},e.prototype.setPreConfigStartDelay=function(e){this._value.preConfigStartDelay=e},e.prototype.addProvider=function(e){this._value.providers.push(e)},e.prototype.setSessionProcessFunc=function(e){this._value.sessionProcess=e},e}(),h=function(e){function t(t,r){var o=this.constructor,i=e.call(this,"Timeout waiting for timing data to appear for ".concat(t," (timeout: ").concat(r,")"))||this;return Object.setPrototypeOf(i,o.prototype),i}return c(t,e),t}(Error),f=function(e){function t(t,r){var o=this.constructor,i=e.call(this,"At least one Resource Timing entry was found for ".concat(t," but none passed validation"))||this;return i._entries=r,Object.setPrototypeOf(i,o.prototype),i}return c(t,e),Object.defineProperty(t.prototype,"entries",{get:function(){return this._entries},enumerable:!1,configurable:!0}),t}(Error);function b(e,t,r,o){return new e.Promise((function(i,n){var s,a=new e.PerformanceObserver((function(r,a){if(!s){var u=r.getEntriesByName(t);u.length&&(e.clearTimeout(c),a.disconnect(),s=function(e,t,r){for(var o=0;o<t.length;){var i=t[o];if(i instanceof e.PerformanceResourceTiming&&r(i))return i;o++}}(e,u,o),s?i(s):n(new f(t,u)))}})),c=e.setTimeout((function(){s||(a.disconnect(),n(new h(t,r)))}),r);try{a.observe({type:"resource",buffered:!0})}catch(e){n(e)}}))}var m=function(){function e(e,t,r){this._config=e,this._results=t,this._beaconHandler=r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"testResults",{get:function(){return this._results},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beaconHandler",{get:function(){return this._beaconHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beaconData",{get:function(){throw new Error("Method not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beaconURL",{get:function(){throw new Error("Method not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"beaconHeaders",{get:function(){},enumerable:!1,configurable:!0}),e.prototype.setTimeoutId=function(e){null==this._timeoutId&&(this._timeoutId=e)},e.prototype.clearTimeout=function(){"number"==typeof this._timeoutId&&window.clearTimeout(this._timeoutId)},e.prototype.execute=function(){var e=this;return this.testSetup().then((function(){return e.test()})).then((function(){e.shouldSendBeacon()&&e.sendBeacon().then((function(t){e.onSendBeaconResolved(t)})).catch((function(t){e.onSendBeaconRejected(t)}))})).then((function(){return e.testTearDown()})).then((function(){return e._results})).catch((function(){return e._results}))},e.prototype.shouldSendBeacon=function(){return!0},e.prototype.testTearDown=function(){return Promise.resolve()},e.prototype.onSendBeaconResolved=function(e){},e.prototype.onSendBeaconRejected=function(e){},e.prototype.sendBeacon=function(){return this._beaconHandler?this._beaconHandler.send(this.beaconURL,this.encodeBeaconData(this.beaconData),this.beaconHeaders):Promise.reject("No beacon handler defined")},e.prototype.encodeBeaconData=function(e){return JSON.stringify(e)},e}(),g=function(e){function t(t,r,o,i){var n=e.call(this,r,o,i)||this;return n._deps=t,n._abortController=new AbortController,n}return c(t,e),Object.defineProperty(t.prototype,"resourceRequestHeaders",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.makeValidateResourceTimingEntryFunc=function(){return function(e){return 0!==e.requestStart&&e.connectStart!==e.connectEnd}},t.prototype.test=function(){var e=this;return Promise.all([this.fetchObject(),b(this._deps.window,this.resourceURL,this.config.performanceTimingObserverTimeout||5e3,this.makeValidateResourceTimingEntryFunc())]).then((function(r){var o=r[0],i=r[1];return e._fetchCompletedAt=new Date,t.outputEventTimeElapsedMessage("Fetch completed",e._fetchStartedAt,e._fetchCompletedAt),e.updateFetchTestResults(o,i)})).catch((function(r){return e._errorCaughtAt=new Date,t.outputEventTimeElapsedMessage("Error caught",e._fetchStartedAt,e._errorCaughtAt,r),e.onError(r)}))},t.prototype.fetchObject=function(){var e=this,r={};Object.keys(this.resourceRequestHeaders).length&&(r.headers=this.resourceRequestHeaders);var o,i=new Request(this.resourceURL,r),n=this.config.timeout?{signal:this._abortController.signal}:{};return this.config.timeout&&this.setTimeoutId(window.setTimeout((function(){e._fetchAbortedAt=new Date,t.outputEventTimeElapsedMessage("Fetch aborted",e._fetchStartedAt,e._fetchAbortedAt),e._abortController.abort(),e.testResults.timeoutTriggered=!0}),this.config.timeout)),this._fetchStartedAt=new Date,fetch(i,n).then((function(r){if(o=r,e._blobBeganAt=new Date,t.outputEventTimeElapsedMessage("Blob began",e._fetchStartedAt,e._blobBeganAt),!r.ok)throw new Error("Network response status not okay: ".concat(r.status));return r.blob()})).then((function(){return e.clearTimeout(),e._blobCompletedAt=e._abortTimeoutClearedAt=new Date,t.outputEventTimeElapsedMessage("Abort timeout cleared",e._fetchStartedAt,e._abortTimeoutClearedAt),t.outputEventTimeElapsedMessage("Blob duration",e._blobBeganAt,e._blobCompletedAt),o}))},t.outputEventTimeElapsedMessage=function(e,t,r,o){},t}(m);var w=function(){function e(e,t){this._name=e,this._window=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.shouldRun=function(){if(!(this._window.performance&&"function"==typeof this._window.performance.getEntriesByType&&this._window.Promise&&this._window.Promise.allSettled&&this._window.fetch&&this._window.AbortController&&this._window.PerformanceObserver))return!1;var e,t=this._window.performance.getEntriesByType("resource");return!!t.length&&(void 0!==(e=t[0]).fetchStart&&void 0!==e.requestStart&&void 0!==e.responseStart&&void 0!==e.responseEnd)},e.prototype.setSessionConfig=function(e){this._sessionConfig=e},Object.defineProperty(e.prototype,"sessionConfig",{get:function(){return this._sessionConfig},enumerable:!1,configurable:!0}),e}();var _,y="sendBeacon"in navigator,v=(function(){function e(){}e.prototype.send=function(e,t,r){var o=this;if(y&&!r)return navigator.sendBeacon(e,t)?Promise.resolve(this.makeSendResult()):Promise.reject(new Error("navigator.sendBeacon failed"));var i={method:"POST",body:t};return r&&(i.headers=new Headers(r)),fetch(e,i).then((function(e){return o.makeSendResult(e)}))}}(),function(){function e(){}e.prototype.send=function(e){var t=this;return fetch(e,{method:"GET"}).then((function(e){return t.makeSendResult(e)}))}}(),new Uint8Array(16));function S(){if(!_&&!(_="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _(v)}var R=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var T=function(e){return"string"==typeof e&&R.test(e)},x=[],k=0;k<256;++k)x.push((k+256).toString(16).substr(1));var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(x[e[t+0]]+x[e[t+1]]+x[e[t+2]]+x[e[t+3]]+"-"+x[e[t+4]]+x[e[t+5]]+"-"+x[e[t+6]]+x[e[t+7]]+"-"+x[e[t+8]]+x[e[t+9]]+"-"+x[e[t+10]]+x[e[t+11]]+x[e[t+12]]+x[e[t+13]]+x[e[t+14]]+x[e[t+15]]).toLowerCase();if(!T(r))throw TypeError("Stringified UUID is invalid");return r};var M=function(e,t,r){var o=(e=e||{}).random||(e.rng||S)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=o[i];return t}return P(o)};let O;var C;(C=O||(O={}))[C.SUCCESS=0]="SUCCESS",C[C.TIMEOUT=1]="TIMEOUT",C[C.ERROR=4]="ERROR";let E;var D;(D=E||(E={}))[D.Legacy=0]="Legacy",D[D.ResourceTiming=1]="ResourceTiming",D[D.NotSet=2]="NotSet";class B{get interMeasurementDelay(){return this._interMeasurementDelay}constructor(e){this._interMeasurementDelay=e}}class A{get doppler(){return{beacon:this._source.doppler.beacon,error:this._source.doppler.error,resourceTiming:this._pageSettings.dopplerBeaconEndpoint||this._source.doppler.resource_timing||"https://doppler-beacons.cbsivideo.com/log"}}get pulsar(){return this._source.pulsar}constructor(e,t){this._source=e,this._pageSettings=t}}class j{get enabled(){return this._source.enabled}get rate(){return this._source.rate}isSiteAllowed(e){const t=t=>new RegExp(t).test(e);if(this._source.origins&&this._source.origins.disallow&&this._source.origins.disallow.findIndex(t)>-1)return!1;return!this._source.origins||!this._source.origins.allow||this._source.origins.allow.findIndex(t)>-1}constructor(e){this._source=e}}class U{get resourceTimingReport(){return this._source.resource_timing_report?new j(this._source.resource_timing_report):null}constructor(e){this._source=e}}class L{get siteOwnerSettings(){return this._siteOwnerSettings}get browserMetadata(){return this._browserMetadata}get endpointsConfig(){return this._endpointsConfig}get features(){return this._features}constructor(e,t,r){this._jsonConfig=e,this._browserMetadata=t,this._siteOwnerSettings=new B(1e3),this._endpointsConfig=new A(this._jsonConfig.endpoints,r),this._features=new U(this._jsonConfig.features)}}var I=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length;return Array(e).fill(null).reduce((e=>e+t.charAt(Math.floor(Math.random()*r))),"")};class N{get dopplerPlatformID(){return this._source.doppler&&this._source.doppler.id}get pulsarAppID(){return this._source.pulsar&&this._source.pulsar.app_id}get pulsarJobID(){return this._source.pulsar&&this._source.pulsar.job_id}get profile(){return this._profile}get hostname(){return this._source.hostname.trim()}get rate(){return"number"==typeof this._source.rate?this._source.rate:null}get cdnResponseHeader(){return"string"==typeof this._source.cdn_response_header?this._source.cdn_response_header:this._profile.cdnResponseHeader}get allowed_countries(){return this._source.geo&&this._source.geo.country&&this._source.geo.country.allow}get disallowed_countries(){return this._source.geo&&this._source.geo.country&&this._source.geo.country.disallow}filter(e){return"number"!=typeof this.rate||!(this.rate<=0)&&(this.rate>=1||e()<this.rate)}constructor(e,t){this._source=e,this._profile=t}}class z{filter(e,t){const r=this._source.geo&&this._source.geo.country&&this._source.geo.country.disallow,o=this._source.geo&&this._source.geo.country&&this._source.geo.country.allow;return!(r&&-1<r.indexOf(e)||o&&0>o.indexOf(e))&&(this.rate>0&&(this.rate>=1||t()<this.rate))}get rate(){return this._source.rate}get size(){return this._source.size}get metrics(){return this._source.metrics}get path(){return this._source.path}get timeout(){return this._source.timeout}constructor(e){this._source=e}}class q{get cdnResponseHeader(){return"string"==typeof this._source.cdn_response_header?this._source.cdn_response_header:null}get objects(){return this._source.objects.map((e=>new z(e)))}constructor(e){this._source=e}}const $=(e,t,r,o)=>{for(;e.length>0;){let i=!1;for(let n=0;n<t.length;n++){if(r(e,t.charAt(n))){e=o(e),i=!0;break}}if(!i)return e}return e};function V(e,t,r){const o=`rnd=${r(20)}`,i=$(e,"/",((e,t)=>t===e.slice(-1)),(e=>e.slice(0,-1)))+"/"+((e,t)=>$(e,t,((e,t)=>t===e.slice(0,1)),(e=>e.slice(1))))(t,"/");let n="?";return/\?/.test(i)&&(n="&"),`${i}${n}${o}`}class H extends Error{constructor(e,t){super(`${e} was negative (${JSON.stringify(t)})`),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(e,t,r){super(`Detected decreasing timestamps ${e} and ${t} (${JSON.stringify(r)})`),Object.setPrototypeOf(this,new.target.prototype)}}function J(e,t,r,o){const i=r.error?r.timeoutTriggered?"timeout-abort":"unknown-error":"success";if("success"===i&&!r.data)throw'Result was "success" but measurement data was null';if("success"!==i&&r.data)throw`Result was "${i}" but measurement data was non-null`;const n=[o.sessionStartTimestamp.toISOString(),o.sessionUUID],s=[o.browserMeta.deviceCategory,[o.browserMeta.device.type,o.browserMeta.device.vendor,o.browserMeta.device.model],[o.browserMeta.os.name,o.browserMeta.os.version],[o.browserMeta.browser.name,o.browserMeta.browser.version]],a=r.error?null:function(e){const t=e=>"number"==typeof e?e.toString(36):null;return[e.initiatorType,e.nextHopProtocol,Math.floor(e.startTime).toString(36),Math.floor(e.duration).toString(36),t(e.transferSize),t(e.encodedBodySize),t(e.decodedBodySize),G(e)]}(r.data);return[[o.clientVersion.join("."),n,Z(e,t,r,i,a),s,{}],["0","2","0"]]}function Z(e,t,r,o,i){return[t.dopplerPlatformID,t.testObjectSize,r.testSetupResult.calledAt.toISOString(),e,r.cdnResponseHeaderValue,o,i,t.timeout]}function G(e){const t=[];return r("redirectStart","startTime",e),r("redirectEnd","redirectStart",e),r("fetchStart","redirectEnd",e),r("domainLookupStart","fetchStart",e),r("domainLookupEnd","domainLookupStart",e),r("connectStart","domainLookupEnd",e),r("secureConnectionStart","connectStart",e),r("connectEnd","secureConnectionStart",e),r("requestStart","connectEnd",e),r("responseStart","requestStart",e),r("responseEnd","responseStart",e),t.join(",");function r(e,r,o){const i=o[e],n=o[r];if(i>0){if(n>i)throw new F(e,r,o);t.push((Math.floor(i)-Math.floor(o.startTime)).toString(36))}else{if(0!=i)throw new H(e,o);t.push("-1")}}}class W{constructor(){s(this,"validate",(e=>!0)),s(this,"exec",(e=>Math.floor(e.responseStart-e.requestStart)))}}class X{constructor(){s(this,"validate",(e=>!0)),s(this,"exec",(e=>Math.floor(e.responseStart-e.requestStart)))}}class K{constructor(){s(this,"validate",(e=>!0)),s(this,"exec",(e=>Math.floor(e.responseEnd-e.requestStart)))}}class Q{constructor(){s(this,"validate",(e=>"number"==typeof e.encodedBodySize&&"number"==typeof e.responseStart&&"number"==typeof e.responseEnd)),s(this,"exec",(e=>Math.floor(8*e.encodedBodySize/(e.responseEnd-e.responseStart))))}}class Y extends g{shouldMeasure(){return!0}makeValidateResourceTimingEntryFunc(){return e=>{return(t=e).responseStart>0&&t.responseStart>t.requestStart&&t.responseEnd>=t.responseStart;var t}}get resourceURL(){return this._resourceURL=this._resourceURL||V(`https://${this.config.hostname}`,this.config.path,this._localDeps.makeRandomString),this._resourceURL}updateFetchTestResults(e,t){const r=this.testResults;if(r.data||r.httpStatus)throw new Error("Test results data already set");return r.httpStatus=e.status,r.data=t,r.cdnResponseHeaderValue=e.headers.get(this.config.cdnResponseHeader),Promise.resolve()}onError(e){return this.testResults.error=e,e instanceof f||e instanceof h?Promise.reject():Promise.resolve()}testSetup(){return this.testResults.testSetupResult=this.testResults.testSetupResult||{calledAt:this._localDeps.now()},Promise.resolve()}testTearDown(){const e=this.config.siteOwnerSettings.interMeasurementDelay;return e>0?new Promise((t=>{this._localDeps.setTimeout(t,e)})):Promise.resolve()}_sendLegacyNS1Beacon(){this.config.metrics.pulsar&&this.config.metrics.pulsar.forEach((e=>{const t=new K;"ttlb"===e&&this._localDeps.sendPulsarBeacon(this._makePulsarBeaconURL(this.testResults.httpStatus,t.exec(this.testResults.data)))}))}_sendLegacyDopplerBeacons(){if(this.testResults.error)return this._reportLegacyAvailabilityIssue(this.testResults.timeoutTriggered?O.TIMEOUT:O.ERROR),this._reportNS1AvailabilityIssue(),Promise.resolve({});if(!this.testResults.data)return Promise.reject("Resource Timing entry unavailable (_sendLegacyDopplerBeacons)");{const e=this.testResults.data;if(e.name!==this.resourceURL)return Promise.reject(`Resource URL mismatch(expected: ${this.resourceURL}; got: ${e.name})`);try{Math.max(e.duration,e.responseEnd-e.requestStart)>this.config.timeout?(this._reportLegacyAvailabilityIssue(O.TIMEOUT),this._reportNS1AvailabilityIssue()):(this.config.metrics.doppler&&this.config.metrics.doppler.forEach((t=>{const r="availability"==t?new W:"ttfb"==t?new X:"ttlb"==t?new K:"throughput"==t?new Q:null;r&&r.validate(e)&&this._localDeps.sendDopplerLegacyBeacon(this.config.endpoints.doppler.beacon,this._makeDopplerPayload(this._makeDopplerProbeType(t,this.config.testObjectSize),O.SUCCESS,r.exec(e)))})),this._sendLegacyNS1Beacon())}catch{}}return Promise.resolve({})}_sendResourceTimingBeacon(){try{const[e,t]=J(this.resourceURL,this.config,this.testResults,this._fetchMetadata);return this._localDeps.sendDopplerResourceTimingBeacon(this.config.endpoints.doppler.resourceTiming,JSON.stringify(e),t,"application/json"),this.testResults.error?this._reportNS1AvailabilityIssue():this._sendLegacyNS1Beacon(),Promise.resolve({})}catch(e){return Promise.reject(e)}}sendBeacon(){return this._beaconMode===E.Legacy?this._sendLegacyDopplerBeacons():this._sendResourceTimingBeacon()}_makeDopplerPayload(e,t,r){const o=this._fetchMetadata.browserMeta,i=this._fetchMetadata.browserMeta.device,n=this._fetchMetadata.browserMeta.browser,s=this._fetchMetadata.browserMeta.os;return{data:{start_timestamp:this._fetchMetadata.sessionStartTimestamp.toISOString(),beacon_timestamp:this.testResults.testSetupResult.calledAt.toISOString(),client_version:this._fetchMetadata.clientVersion.join("."),payload_version:"0.0.0",pop_id:this.testResults.cdnResponseHeaderValue||"Unknown",platform_id:this.config.dopplerPlatformID,probe_type:e,response_code:t,value:r,resolver_ip:null,client_ip:null,user_agent:o.userAgent,device_category:o.deviceCategory,device:{type:i.type,vendor:i.vendor,model:i.model},browser:{name:n.name,version:n.version},os:{name:s.name,version:s.version},meta:{}}}}_makePulsarBeaconURL(e,t){const r=Math.floor(4294967296*this._localDeps.getRandom());return`${this.config.endpoints.pulsar}&a=${this.config.pulsarAppID}&x=${r}&r=${this.config.pulsarJobID}:x|${e}|${t}`}_reportLegacyAvailabilityIssue(e){this.config.metrics.doppler&&-1<this.config.metrics.doppler.indexOf("availability")&&this._localDeps.sendDopplerLegacyBeacon(this.config.endpoints.doppler.beacon,this._makeDopplerPayload(this._makeDopplerProbeType("availability",this.config.testObjectSize),e,0))}_reportNS1AvailabilityIssue(){this.config.metrics.pulsar&&-1<this.config.metrics.pulsar.indexOf("ttlb")&&this._localDeps.sendPulsarBeacon(this._makePulsarBeaconURL(650,this._localDeps.now().getTime()-this.testResults.testSetupResult.calledAt.getTime()))}_makeDopplerProbeType(e,t){return`urn:probetype:webclient:${e}:${t}`}constructor(e,t,r,o){super({window:r.window},e,{}),this._fetchMetadata=t,this._localDeps=r,this._beaconMode=o}}class ee{get siteOwnerSettings(){return this._siteOwnerSettings}get testObjectSize(){return this._profileTestObject.size}get endpoints(){return this._endpoints}get features(){return this._features}get dopplerPlatformID(){return this._platform.dopplerPlatformID}get pulsarAppID(){return this._platform.pulsarAppID}get pulsarJobID(){return this._platform.pulsarJobID}get hostname(){return this._platform.hostname}get path(){return this._profileTestObject.path}get metrics(){return this._profileTestObject.metrics}get timeout(){return Math.floor(1e3*Math.min(this._profileTestObject.timeout,10))}get performanceTimingObserverTimeout(){return this.timeout+1e3}get cdnResponseHeader(){return this._platform.cdnResponseHeader}constructor(e,t,r,o,i){this._siteOwnerSettings=e,this._profileTestObject=t,this._platform=r,this._endpoints=o,this._features=i}}class te extends w{fetchSessionConfig(){return Promise.resolve(new L(this._sessionConfigSource,this._browserMeta,this._pageSettings))}shouldRun(){return"function"==typeof this._deps.window.Array.prototype.flatMap&&super.shouldRun()}get beaconMode(){if(this._beaconMode!==E.NotSet)return this._beaconMode;const e=this.sessionConfig.features.resourceTimingReport,t="boolean"==typeof this._pageSettings.resourceTimingModeEnabled?this._pageSettings.resourceTimingModeEnabled:e&&e.enabled,r="number"==typeof this._pageSettings.resourceTimingModeRate?this._pageSettings.resourceTimingModeRate:e&&e.rate;return this._beaconMode=e&&t&&e.isSiteAllowed(this._deps.window.location.hostname)&&(1===r||r>this._deps.getRandom())?E.ResourceTiming:E.Legacy,this._beaconMode}expandTasks(){return function(e,t,r){const o=[...e];for(let e=o.length-1;e>0;e--){const t=Math.floor(r()*(e+1)),i=o[e];o[e]=o[t],o[t]=i}return o.slice(0,t)}(this._sessionConfigSource.platforms.map((e=>new N(e,new q(this._sessionConfigSource.profiles[e.profile])))).filter((e=>!(e.disallowed_countries&&-1<e.disallowed_countries.indexOf(this._settings.reporterCountry)||e.allowed_countries&&0>e.allowed_countries.indexOf(this._settings.reporterCountry)))).filter((e=>e.filter(this._deps.getRandom))),this._sessionConfigSource.bu_settings.max_platforms,this._deps.getRandom).flatMap((e=>e.profile.objects.filter((e=>e.filter(this._settings.reporterCountry,this._deps.getRandom))).map((t=>new Y(new ee(this.sessionConfig.siteOwnerSettings,t,e,this.sessionConfig.endpointsConfig,this.sessionConfig.features),{clientVersion:this._settings.clientVersion,sessionUUID:this._sessionUUID,browserMeta:this.sessionConfig.browserMetadata,sessionStartTimestamp:this._settings.sessionStartedAt},{getRandom:this._deps.getRandom,makeRandomString:I,now:this._deps.now,sendDopplerLegacyBeacon:this._deps.sendDopplerLegacyBeacon,sendDopplerResourceTimingBeacon:this._deps.sendDopplerResourceTimingBeacon,sendPulsarBeacon:this._deps.sendPulsarBeacon,setTimeout:this._deps.setTimeout,window:this._deps.window},this.beaconMode))).filter((e=>e.shouldMeasure()))))}constructor(e,t,r,o,i){super("CBSi",i.window),this._pageSettings=e,this._settings=t,this._sessionConfigSource=r,this._uaParserResult=o,this._deps=i,this._sessionUUID=M(),this._beaconMode=E.NotSet,this._browserMeta={userAgent:this._uaParserResult.ua,deviceCategory:"web",device:this._uaParserResult.device,browser:this._uaParserResult.browser,os:this._uaParserResult.os},this._beaconMode="Legacy"===e.beaconMode?E.Legacy:"ResourceTiming"===e.beaconMode?E.ResourceTiming:this._beaconMode}}var re=n("dWM4J");function oe(e,t,r){return()=>ie(e,t,r)}const ie=(e,t,r)=>{const o=e.sessionConfigBaseURL,i=e.pageSettings,n=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.exec(e.version);if(!n)return Promise.reject("Could not determine the client version");let s;return t.fetch(o).then((e=>(s=e,e.json()))).then((o=>{const a=s.headers.get("x-country-code");if(!a)throw new Error("Failed to obtain country code");r.startNew();const[c,u,l]=n.slice(1),p={clientVersion:[c,u,l],sessionStartedAt:t.now(),reporterCountry:a},h=new te(i,p,o,(new re.UAParser).getResult(),{getRandom:t.getRandom,now:t.now,sendDopplerLegacyBeacon:t.sendDopplerLegacyBeacon,sendDopplerResourceTimingBeacon:t.sendDopplerResourceTimingBeacon,sendPulsarBeacon:t.sendPulsarBeacon,setTimeout:t.setTimeout,window:t.window});r.addProvider(h);const f="number"==typeof i.measurementStartDelay?i.measurementStartDelay:o.bu_settings.measurement_start_delay;t.setTimeout((()=>{(function(e){return("complete"===document.readyState?Promise.resolve():new Promise((function(e){document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&e()}))}))).then((function(){return e.preConfigStartDelay?function(e,t){return new Promise((function(r){setTimeout((function(){d(t).then((function(e){return r(e)}))}),e)}))}(e.preConfigStartDelay,e):d(e)}))})(r.toSettings()).then(ne(e,h,o,t,r))}),1e3*f)})).catch((e=>{}))},ne=(e,t,r,o,i)=>()=>{const t=Math.max(((e,t,r)=>6e4*("number"==typeof e.sessionRepeatDelay?e.sessionRepeatDelay:Math.floor(r.getRandom()*(t.session_repeat_delay[1]-t.session_repeat_delay[0]+1)+t.session_repeat_delay[0])))(e.pageSettings,r.bu_settings,o),6e4);o.setTimeout(oe(e,o,i),t)};const se=window.__DOPPLER_PAGE_SETTINGS__||{preConfigStartDelay:5e3};var ae,ce;setTimeout(oe({version:"1.3.2",sessionConfigBaseURL:"https://doppler-tasks.cbsivideo.com/sessionconfig-v2.json",pageSettings:se},{getRandom:Math.random,makeRandomString:I,fetch:(e,t)=>fetch(e,t),now:()=>new Date,setTimeout:(e,t)=>setTimeout(e,t),sendDopplerLegacyBeacon:(e,t)=>{navigator.sendBeacon&&navigator.sendBeacon(e,JSON.stringify(t))},sendDopplerResourceTimingBeacon:(e,t,r,o)=>{const i={"doppler-payload-version":r.join("."),"content-type":o};fetch(e,{method:"POST",headers:i,body:t,keepalive:!0}).catch((e=>{}))},sendPulsarBeacon:e=>{navigator.sendBeacon&&navigator.sendBeacon(e)},window:window},new class{constructor(){s(this,"addProvider",(e=>this._innerBuilder.addProvider(e))),s(this,"toSettings",(()=>this._innerBuilder.toSettings())),s(this,"startNew",(()=>{this._innerBuilder=new p}))}}),(ae=5e3,null!=(ce=se).preConfigStartDelay?ce.preConfigStartDelay:ae))}();